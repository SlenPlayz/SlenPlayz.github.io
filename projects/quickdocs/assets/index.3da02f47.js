var T4=Object.defineProperty,E4=Object.defineProperties;var O4=Object.getOwnPropertyDescriptors;var Ra=Object.getOwnPropertySymbols;var Gf=Object.prototype.hasOwnProperty,Wf=Object.prototype.propertyIsEnumerable;var Uf=(e,t,r)=>t in e?T4(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Q=(e,t)=>{for(var r in t||(t={}))Gf.call(t,r)&&Uf(e,r,t[r]);if(Ra)for(var r of Ra(t))Wf.call(t,r)&&Uf(e,r,t[r]);return e},Tt=(e,t)=>E4(e,O4(t));var Kf=(e,t)=>{var r={};for(var n in e)Gf.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ra)for(var n of Ra(e))t.indexOf(n)<0&&Wf.call(e,n)&&(r[n]=e[n]);return r};var _4=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var oT=_4((uT,$u)=>{const N4=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}};N4();function Et(e){this.content=e}Et.prototype={constructor:Et,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,r){var n=r&&r!=e?this.remove(r):this,i=n.find(e),o=n.content.slice();return i==-1?o.push(r||e,t):(o[i+1]=t,r&&(o[i]=r)),new Et(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var r=this.content.slice();return r.splice(t,2),new Et(r)},addToStart:function(e,t){return new Et([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var r=this.remove(e).content.slice();return r.push(e,t),new Et(r)},addBefore:function(e,t,r){var n=this.remove(t),i=n.content.slice(),o=n.find(e);return i.splice(o==-1?i.length:o,0,t,r),new Et(i)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=Et.from(e),e.size?new Et(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=Et.from(e),e.size?new Et(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=Et.from(e);for(var r=0;r<e.content.length;r+=2)t=t.remove(e.content[r]);return t},get size(){return this.content.length>>1}};Et.from=function(e){if(e instanceof Et)return e;var t=[];if(e)for(var r in e)t.push(r,e[r]);return new Et(t)};var Jf=Et;function Xf(e,t,r){for(var n=0;;n++){if(n==e.childCount||n==t.childCount)return e.childCount==t.childCount?null:r;var i=e.child(n),o=t.child(n);if(i==o){r+=i.nodeSize;continue}if(!i.sameMarkup(o))return r;if(i.isText&&i.text!=o.text){for(var a=0;i.text[a]==o.text[a];a++)r++;return r}if(i.content.size||o.content.size){var s=Xf(i.content,o.content,r+1);if(s!=null)return s}r+=i.nodeSize}}function Yf(e,t,r,n){for(var i=e.childCount,o=t.childCount;;){if(i==0||o==0)return i==o?null:{a:r,b:n};var a=e.child(--i),s=t.child(--o),u=a.nodeSize;if(a==s){r-=u,n-=u;continue}if(!a.sameMarkup(s))return{a:r,b:n};if(a.isText&&a.text!=s.text){for(var h=0,d=Math.min(a.text.length,s.text.length);h<d&&a.text[a.text.length-h-1]==s.text[s.text.length-h-1];)h++,r--,n--;return{a:r,b:n}}if(a.content.size||s.content.size){var m=Yf(a.content,s.content,r-1,n-1);if(m)return m}r-=u,n-=u}}var X=function(t,r){if(this.content=t,this.size=r||0,r==null)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},Ia={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};X.prototype.nodesBetween=function(t,r,n,i,o){i===void 0&&(i=0);for(var a=0,s=0;s<r;a++){var u=this.content[a],h=s+u.nodeSize;if(h>t&&n(u,i+s,o,a)!==!1&&u.content.size){var d=s+1;u.nodesBetween(Math.max(0,t-d),Math.min(u.content.size,r-d),n,i+d)}s=h}};X.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)};X.prototype.textBetween=function(t,r,n,i){var o="",a=!0;return this.nodesBetween(t,r,function(s,u){s.isText?(o+=s.text.slice(Math.max(t,u)-u,r-u),a=!n):s.isLeaf&&i?(o+=typeof i=="function"?i(s):i,a=!n):!a&&s.isBlock&&(o+=n,a=!0)},0),o};X.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var r=this.lastChild,n=t.firstChild,i=this.content.slice(),o=0;for(r.isText&&r.sameMarkup(n)&&(i[i.length-1]=r.withText(r.text+n.text),o=1);o<t.content.length;o++)i.push(t.content[o]);return new X(i,this.size+t.size)};X.prototype.cut=function(t,r){if(r==null&&(r=this.size),t==0&&r==this.size)return this;var n=[],i=0;if(r>t)for(var o=0,a=0;a<r;o++){var s=this.content[o],u=a+s.nodeSize;u>t&&((a<t||u>r)&&(s.isText?s=s.cut(Math.max(0,t-a),Math.min(s.text.length,r-a)):s=s.cut(Math.max(0,t-a-1),Math.min(s.content.size,r-a-1))),n.push(s),i+=s.nodeSize),a=u}return new X(n,i)};X.prototype.cutByIndex=function(t,r){return t==r?X.empty:t==0&&r==this.content.length?this:new X(this.content.slice(t,r))};X.prototype.replaceChild=function(t,r){var n=this.content[t];if(n==r)return this;var i=this.content.slice(),o=this.size+r.nodeSize-n.nodeSize;return i[t]=r,new X(i,o)};X.prototype.addToStart=function(t){return new X([t].concat(this.content),this.size+t.nodeSize)};X.prototype.addToEnd=function(t){return new X(this.content.concat(t),this.size+t.nodeSize)};X.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var r=0;r<this.content.length;r++)if(!this.content[r].eq(t.content[r]))return!1;return!0};Ia.firstChild.get=function(){return this.content.length?this.content[0]:null};Ia.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null};Ia.childCount.get=function(){return this.content.length};X.prototype.child=function(t){var r=this.content[t];if(!r)throw new RangeError("Index "+t+" out of range for "+this);return r};X.prototype.maybeChild=function(t){return this.content[t]};X.prototype.forEach=function(t){for(var r=0,n=0;r<this.content.length;r++){var i=this.content[r];t(i,n,r),n+=i.nodeSize}};X.prototype.findDiffStart=function(t,r){return r===void 0&&(r=0),Xf(this,t,r)};X.prototype.findDiffEnd=function(t,r,n){return r===void 0&&(r=this.size),n===void 0&&(n=t.size),Yf(this,t,r,n)};X.prototype.findIndex=function(t,r){if(r===void 0&&(r=-1),t==0)return Fa(0,t);if(t==this.size)return Fa(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,i=0;;n++){var o=this.child(n),a=i+o.nodeSize;if(a>=t)return a==t||r>0?Fa(n+1,a):Fa(n,i);i=a}};X.prototype.toString=function(){return"<"+this.toStringInner()+">"};X.prototype.toStringInner=function(){return this.content.join(", ")};X.prototype.toJSON=function(){return this.content.length?this.content.map(function(t){return t.toJSON()}):null};X.fromJSON=function(t,r){if(!r)return X.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new X(r.map(t.nodeFromJSON))};X.fromArray=function(t){if(!t.length)return X.empty;for(var r,n=0,i=0;i<t.length;i++){var o=t[i];n+=o.nodeSize,i&&o.isText&&t[i-1].sameMarkup(o)?(r||(r=t.slice(0,i)),r[r.length-1]=o.withText(r[r.length-1].text+o.text)):r&&r.push(o)}return new X(r||t,n)};X.from=function(t){if(!t)return X.empty;if(t instanceof X)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new X([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))};Object.defineProperties(X.prototype,Ia);var Vl={index:0,offset:0};function Fa(e,t){return Vl.index=e,Vl.offset=t,Vl}X.empty=new X([],0);function Pa(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;var r=Array.isArray(e);if(Array.isArray(t)!=r)return!1;if(r){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!Pa(e[n],t[n]))return!1}else{for(var i in e)if(!(i in t)||!Pa(e[i],t[i]))return!1;for(var o in t)if(!(o in e))return!1}return!0}var Fe=function(t,r){this.type=t,this.attrs=r};Fe.prototype.addToSet=function(t){for(var r,n=!1,i=0;i<t.length;i++){var o=t[i];if(this.eq(o))return t;if(this.type.excludes(o.type))r||(r=t.slice(0,i));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(r||(r=t.slice(0,i)),r.push(this),n=!0),r&&r.push(o)}}return r||(r=t.slice()),n||r.push(this),r};Fe.prototype.removeFromSet=function(t){for(var r=0;r<t.length;r++)if(this.eq(t[r]))return t.slice(0,r).concat(t.slice(r+1));return t};Fe.prototype.isInSet=function(t){for(var r=0;r<t.length;r++)if(this.eq(t[r]))return!0;return!1};Fe.prototype.eq=function(t){return this==t||this.type==t.type&&Pa(this.attrs,t.attrs)};Fe.prototype.toJSON=function(){var t={type:this.type.name};for(var r in this.attrs){t.attrs=this.attrs;break}return t};Fe.fromJSON=function(t,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[r.type];if(!n)throw new RangeError("There is no mark type "+r.type+" in this schema");return n.create(r.attrs)};Fe.sameSet=function(t,r){if(t==r)return!0;if(t.length!=r.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(r[n]))return!1;return!0};Fe.setFrom=function(t){if(!t||t.length==0)return Fe.none;if(t instanceof Fe)return[t];var r=t.slice();return r.sort(function(n,i){return n.type.rank-i.type.rank}),r};Fe.none=[];function Vr(e){var t=Error.call(this,e);return t.__proto__=Vr.prototype,t}Vr.prototype=Object.create(Error.prototype);Vr.prototype.constructor=Vr;Vr.prototype.name="ReplaceError";var ue=function(t,r,n){this.content=t,this.openStart=r,this.openEnd=n},Zf={size:{configurable:!0}};Zf.size.get=function(){return this.content.size-this.openStart-this.openEnd};ue.prototype.insertAt=function(t,r){var n=eh(this.content,t+this.openStart,r,null);return n&&new ue(n,this.openStart,this.openEnd)};ue.prototype.removeBetween=function(t,r){return new ue(Qf(this.content,t+this.openStart,r+this.openStart),this.openStart,this.openEnd)};ue.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd};ue.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"};ue.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t};ue.fromJSON=function(t,r){if(!r)return ue.empty;var n=r.openStart||0,i=r.openEnd||0;if(typeof n!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ue(X.fromJSON(t,r.content),n,i)};ue.maxOpen=function(t,r){r===void 0&&(r=!0);for(var n=0,i=0,o=t.firstChild;o&&!o.isLeaf&&(r||!o.type.spec.isolating);o=o.firstChild)n++;for(var a=t.lastChild;a&&!a.isLeaf&&(r||!a.type.spec.isolating);a=a.lastChild)i++;return new ue(t,n,i)};Object.defineProperties(ue.prototype,Zf);function Qf(e,t,r){var n=e.findIndex(t),i=n.index,o=n.offset,a=e.maybeChild(i),s=e.findIndex(r),u=s.index,h=s.offset;if(o==t||a.isText){if(h!=r&&!e.child(u).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(r))}if(i!=u)throw new RangeError("Removing non-flat range");return e.replaceChild(i,a.copy(Qf(a.content,t-o-1,r-o-1)))}function eh(e,t,r,n){var i=e.findIndex(t),o=i.index,a=i.offset,s=e.maybeChild(o);if(a==t||s.isText)return n&&!n.canReplace(o,o,r)?null:e.cut(0,t).append(r).append(e.cut(t));var u=eh(s.content,t-a-1,r);return u&&e.replaceChild(o,s.copy(u))}ue.empty=new ue(X.empty,0,0);function D4(e,t,r){if(r.openStart>e.depth)throw new Vr("Inserted content deeper than insertion position");if(e.depth-r.openStart!=t.depth-r.openEnd)throw new Vr("Inconsistent open depths");return th(e,t,r,0)}function th(e,t,r,n){var i=e.index(n),o=e.node(n);if(i==t.index(n)&&n<e.depth-r.openStart){var a=th(e,t,r,n+1);return o.copy(o.content.replaceChild(i,a))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&e.depth==n&&t.depth==n){var s=e.parent,u=s.content;return ti(s,u.cut(0,e.parentOffset).append(r.content).append(u.cut(t.parentOffset)))}else{var h=z4(r,e),d=h.start,m=h.end;return ti(o,nh(e,d,m,t,n))}else return ti(o,La(e,t,n))}function rh(e,t){if(!t.type.compatibleContent(e.type))throw new Vr("Cannot join "+t.type.name+" onto "+e.type.name)}function $l(e,t,r){var n=e.node(r);return rh(n,t.node(r)),n}function ei(e,t){var r=t.length-1;r>=0&&e.isText&&e.sameMarkup(t[r])?t[r]=e.withText(t[r].text+e.text):t.push(e)}function yo(e,t,r,n){var i=(t||e).node(r),o=0,a=t?t.index(r):i.childCount;e&&(o=e.index(r),e.depth>r?o++:e.textOffset&&(ei(e.nodeAfter,n),o++));for(var s=o;s<a;s++)ei(i.child(s),n);t&&t.depth==r&&t.textOffset&&ei(t.nodeBefore,n)}function ti(e,t){if(!e.type.validContent(t))throw new Vr("Invalid content for node "+e.type.name);return e.copy(t)}function nh(e,t,r,n,i){var o=e.depth>i&&$l(e,t,i+1),a=n.depth>i&&$l(r,n,i+1),s=[];return yo(null,e,i,s),o&&a&&t.index(i)==r.index(i)?(rh(o,a),ei(ti(o,nh(e,t,r,n,i+1)),s)):(o&&ei(ti(o,La(e,t,i+1)),s),yo(t,r,i,s),a&&ei(ti(a,La(r,n,i+1)),s)),yo(n,null,i,s),new X(s)}function La(e,t,r){var n=[];if(yo(null,e,r,n),e.depth>r){var i=$l(e,t,r+1);ei(ti(i,La(e,t,r+1)),n)}return yo(t,null,r,n),new X(n)}function z4(e,t){for(var r=t.depth-e.openStart,n=t.node(r),i=n.copy(e.content),o=r-1;o>=0;o--)i=t.node(o).copy(X.from(i));return{start:i.resolveNoCache(e.openStart+r),end:i.resolveNoCache(i.content.size-e.openEnd-r)}}var rt=function(t,r,n){this.pos=t,this.path=r,this.depth=r.length/3-1,this.parentOffset=n},Di={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};rt.prototype.resolveDepth=function(t){return t==null?this.depth:t<0?this.depth+t:t};Di.parent.get=function(){return this.node(this.depth)};Di.doc.get=function(){return this.node(0)};rt.prototype.node=function(t){return this.path[this.resolveDepth(t)*3]};rt.prototype.index=function(t){return this.path[this.resolveDepth(t)*3+1]};rt.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)};rt.prototype.start=function(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1};rt.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size};rt.prototype.before=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]};rt.prototype.after=function(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize};Di.textOffset.get=function(){return this.pos-this.path[this.path.length-1]};Di.nodeAfter.get=function(){var e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;var r=this.pos-this.path[this.path.length-1],n=e.child(t);return r?e.child(t).cut(r):n};Di.nodeBefore.get=function(){var e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)};rt.prototype.posAtIndex=function(t,r){r=this.resolveDepth(r);for(var n=this.path[r*3],i=r==0?0:this.path[r*3-1]+1,o=0;o<t;o++)i+=n.child(o).nodeSize;return i};rt.prototype.marks=function(){var t=this.parent,r=this.index();if(t.content.size==0)return Fe.none;if(this.textOffset)return t.child(r).marks;var n=t.maybeChild(r-1),i=t.maybeChild(r);if(!n){var o=n;n=i,i=o}for(var a=n.marks,s=0;s<a.length;s++)a[s].type.spec.inclusive===!1&&(!i||!a[s].isInSet(i.marks))&&(a=a[s--].removeFromSet(a));return a};rt.prototype.marksAcross=function(t){var r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;for(var n=r.marks,i=t.parent.maybeChild(t.index()),o=0;o<n.length;o++)n[o].type.spec.inclusive===!1&&(!i||!n[o].isInSet(i.marks))&&(n=n[o--].removeFromSet(n));return n};rt.prototype.sharedDepth=function(t){for(var r=this.depth;r>0;r--)if(this.start(r)<=t&&this.end(r)>=t)return r;return 0};rt.prototype.blockRange=function(t,r){if(t===void 0&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!r||r(this.node(n))))return new bo(this,t,n)};rt.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset};rt.prototype.max=function(t){return t.pos>this.pos?t:this};rt.prototype.min=function(t){return t.pos<this.pos?t:this};rt.prototype.toString=function(){for(var t="",r=1;r<=this.depth;r++)t+=(t?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return t+":"+this.parentOffset};rt.resolve=function(t,r){if(!(r>=0&&r<=t.content.size))throw new RangeError("Position "+r+" out of range");for(var n=[],i=0,o=r,a=t;;){var s=a.content.findIndex(o),u=s.index,h=s.offset,d=o-h;if(n.push(a,u,i+h),!d||(a=a.child(u),a.isText))break;o=d-1,i+=h+1}return new rt(r,n,o)};rt.resolveCached=function(t,r){for(var n=0;n<Gl.length;n++){var i=Gl[n];if(i.pos==r&&i.doc==t)return i}var o=Gl[Wl]=rt.resolve(t,r);return Wl=(Wl+1)%B4,o};Object.defineProperties(rt.prototype,Di);var Gl=[],Wl=0,B4=12,bo=function(t,r,n){this.$from=t,this.$to=r,this.depth=n},zi={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};zi.start.get=function(){return this.$from.before(this.depth+1)};zi.end.get=function(){return this.$to.after(this.depth+1)};zi.parent.get=function(){return this.$from.node(this.depth)};zi.startIndex.get=function(){return this.$from.index(this.depth)};zi.endIndex.get=function(){return this.$to.indexAfter(this.depth)};Object.defineProperties(bo.prototype,zi);var R4=Object.create(null),Pe=function(t,r,n,i){this.type=t,this.attrs=r,this.content=n||X.empty,this.marks=i||Fe.none},sr={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};sr.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size};sr.childCount.get=function(){return this.content.childCount};Pe.prototype.child=function(t){return this.content.child(t)};Pe.prototype.maybeChild=function(t){return this.content.maybeChild(t)};Pe.prototype.forEach=function(t){this.content.forEach(t)};Pe.prototype.nodesBetween=function(t,r,n,i){i===void 0&&(i=0),this.content.nodesBetween(t,r,n,i,this)};Pe.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)};sr.textContent.get=function(){return this.textBetween(0,this.content.size,"")};Pe.prototype.textBetween=function(t,r,n,i){return this.content.textBetween(t,r,n,i)};sr.firstChild.get=function(){return this.content.firstChild};sr.lastChild.get=function(){return this.content.lastChild};Pe.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)};Pe.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)};Pe.prototype.hasMarkup=function(t,r,n){return this.type==t&&Pa(this.attrs,r||t.defaultAttrs||R4)&&Fe.sameSet(this.marks,n||Fe.none)};Pe.prototype.copy=function(t){return t===void 0&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)};Pe.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)};Pe.prototype.cut=function(t,r){return t==0&&r==this.content.size?this:this.copy(this.content.cut(t,r))};Pe.prototype.slice=function(t,r,n){if(r===void 0&&(r=this.content.size),n===void 0&&(n=!1),t==r)return ue.empty;var i=this.resolve(t),o=this.resolve(r),a=n?0:i.sharedDepth(r),s=i.start(a),u=i.node(a),h=u.content.cut(i.pos-s,o.pos-s);return new ue(h,i.depth-a,o.depth-a)};Pe.prototype.replace=function(t,r,n){return D4(this.resolve(t),this.resolve(r),n)};Pe.prototype.nodeAt=function(t){for(var r=this;;){var n=r.content.findIndex(t),i=n.index,o=n.offset;if(r=r.maybeChild(i),!r)return null;if(o==t||r.isText)return r;t-=o+1}};Pe.prototype.childAfter=function(t){var r=this.content.findIndex(t),n=r.index,i=r.offset;return{node:this.content.maybeChild(n),index:n,offset:i}};Pe.prototype.childBefore=function(t){if(t==0)return{node:null,index:0,offset:0};var r=this.content.findIndex(t),n=r.index,i=r.offset;if(i<t)return{node:this.content.child(n),index:n,offset:i};var o=this.content.child(n-1);return{node:o,index:n-1,offset:i-o.nodeSize}};Pe.prototype.resolve=function(t){return rt.resolveCached(this,t)};Pe.prototype.resolveNoCache=function(t){return rt.resolve(this,t)};Pe.prototype.rangeHasMark=function(t,r,n){var i=!1;return r>t&&this.nodesBetween(t,r,function(o){return n.isInSet(o.marks)&&(i=!0),!i}),i};sr.isBlock.get=function(){return this.type.isBlock};sr.isTextblock.get=function(){return this.type.isTextblock};sr.inlineContent.get=function(){return this.type.inlineContent};sr.isInline.get=function(){return this.type.isInline};sr.isText.get=function(){return this.type.isText};sr.isLeaf.get=function(){return this.type.isLeaf};sr.isAtom.get=function(){return this.type.isAtom};Pe.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),ih(this.marks,t)};Pe.prototype.contentMatchAt=function(t){var r=this.type.contentMatch.matchFragment(this.content,0,t);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r};Pe.prototype.canReplace=function(t,r,n,i,o){n===void 0&&(n=X.empty),i===void 0&&(i=0),o===void 0&&(o=n.childCount);var a=this.contentMatchAt(t).matchFragment(n,i,o),s=a&&a.matchFragment(this.content,r);if(!s||!s.validEnd)return!1;for(var u=i;u<o;u++)if(!this.type.allowsMarks(n.child(u).marks))return!1;return!0};Pe.prototype.canReplaceWith=function(t,r,n,i){if(i&&!this.type.allowsMarks(i))return!1;var o=this.contentMatchAt(t).matchType(n),a=o&&o.matchFragment(this.content,r);return a?a.validEnd:!1};Pe.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)};Pe.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=Fe.none,r=0;r<this.marks.length;r++)t=this.marks[r].addToSet(t);if(!Fe.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map(function(n){return n.type.name}));this.content.forEach(function(n){return n.check()})};Pe.prototype.toJSON=function(){var t={type:this.type.name};for(var r in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(function(n){return n.toJSON()})),t};Pe.fromJSON=function(t,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(t.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(r.text,n)}var i=X.fromJSON(t,r.content);return t.nodeType(r.type).create(r.attrs,i,n)};Object.defineProperties(Pe.prototype,sr);var I4=function(e){function t(n,i,o,a){if(e.call(this,n,i,null,a),!o)throw new RangeError("Empty text nodes are not allowed");this.text=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={textContent:{configurable:!0},nodeSize:{configurable:!0}};return t.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):ih(this.marks,JSON.stringify(this.text))},r.textContent.get=function(){return this.text},t.prototype.textBetween=function(i,o){return this.text.slice(i,o)},r.nodeSize.get=function(){return this.text.length},t.prototype.mark=function(i){return i==this.marks?this:new t(this.type,this.attrs,this.text,i)},t.prototype.withText=function(i){return i==this.text?this:new t(this.type,this.attrs,i,this.marks)},t.prototype.cut=function(i,o){return i===void 0&&(i=0),o===void 0&&(o=this.text.length),i==0&&o==this.text.length?this:this.withText(this.text.slice(i,o))},t.prototype.eq=function(i){return this.sameMarkup(i)&&this.text==i.text},t.prototype.toJSON=function(){var i=e.prototype.toJSON.call(this);return i.text=this.text,i},Object.defineProperties(t.prototype,r),t}(Pe);function ih(e,t){for(var r=e.length-1;r>=0;r--)t=e[r].type.name+"("+t+")";return t}var Ot=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},qa={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};Ot.parse=function(t,r){var n=new Ha(t,r);if(n.next==null)return Ot.empty;var i=ah(n);n.next&&n.err("Unexpected trailing text");var o=V4(j4(i));return $4(o,n),o};Ot.prototype.matchType=function(t){for(var r=0;r<this.next.length;r+=2)if(this.next[r]==t)return this.next[r+1];return null};Ot.prototype.matchFragment=function(t,r,n){r===void 0&&(r=0),n===void 0&&(n=t.childCount);for(var i=this,o=r;i&&o<n;o++)i=i.matchType(t.child(o).type);return i};qa.inlineContent.get=function(){var e=this.next[0];return e?e.isInline:!1};qa.defaultType.get=function(){for(var e=0;e<this.next.length;e+=2){var t=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}};Ot.prototype.compatible=function(t){for(var r=0;r<this.next.length;r+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[r]==t.next[n])return!0;return!1};Ot.prototype.fillBefore=function(t,r,n){r===void 0&&(r=!1),n===void 0&&(n=0);var i=[this];function o(a,s){var u=a.matchFragment(t,n);if(u&&(!r||u.validEnd))return X.from(s.map(function(k){return k.createAndFill()}));for(var h=0;h<a.next.length;h+=2){var d=a.next[h],m=a.next[h+1];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);var y=o(m,s.concat(d));if(y)return y}}}return o(this,[])};Ot.prototype.findWrapping=function(t){for(var r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==t)return this.wrapCache[r+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n};Ot.prototype.computeWrapping=function(t){for(var r=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var i=n.shift(),o=i.match;if(o.matchType(t)){for(var a=[],s=i;s.type;s=s.via)a.push(s.type);return a.reverse()}for(var u=0;u<o.next.length;u+=2){var h=o.next[u];!h.isLeaf&&!h.hasRequiredAttrs()&&!(h.name in r)&&(!i.type||o.next[u+1].validEnd)&&(n.push({match:h.contentMatch,type:h,via:i}),r[h.name]=!0)}}};qa.edgeCount.get=function(){return this.next.length>>1};Ot.prototype.edge=function(t){var r=t<<1;if(r>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[r],next:this.next[r+1]}};Ot.prototype.toString=function(){var t=[];function r(n){t.push(n);for(var i=1;i<n.next.length;i+=2)t.indexOf(n.next[i])==-1&&r(n.next[i])}return r(this),t.map(function(n,i){for(var o=i+(n.validEnd?"*":" ")+" ",a=0;a<n.next.length;a+=2)o+=(a?", ":"")+n.next[a].name+"->"+t.indexOf(n.next[a+1]);return o}).join(`
`)};Object.defineProperties(Ot.prototype,qa);Ot.empty=new Ot(!0);var Ha=function(t,r){this.string=t,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()},oh={next:{configurable:!0}};oh.next.get=function(){return this.tokens[this.pos]};Ha.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)};Ha.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")};Object.defineProperties(Ha.prototype,oh);function ah(e){var t=[];do t.push(F4(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function F4(e){var t=[];do t.push(P4(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function P4(e){for(var t=H4(e);;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=L4(e,t);else break;return t}function sh(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");var t=Number(e.next);return e.pos++,t}function L4(e,t){var r=sh(e),n=r;return e.eat(",")&&(e.next!="}"?n=sh(e):n=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:t}}function q4(e,t){var r=e.nodeTypes,n=r[t];if(n)return[n];var i=[];for(var o in r){var a=r[o];a.groups.indexOf(t)>-1&&i.push(a)}return i.length==0&&e.err("No node type or group '"+t+"' found"),i}function H4(e){if(e.eat("(")){var t=ah(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{var r=q4(e,e.next).map(function(n){return e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}});return e.pos++,r.length==1?r[0]:{type:"choice",exprs:r}}}function j4(e){var t=[[]];return i(o(e,0),r()),t;function r(){return t.push([])-1}function n(a,s,u){var h={term:u,to:s};return t[a].push(h),h}function i(a,s){a.forEach(function(u){return u.to=s})}function o(a,s){if(a.type=="choice")return a.exprs.reduce(function(N,T){return N.concat(o(T,s))},[]);if(a.type=="seq")for(var u=0;;u++){var h=o(a.exprs[u],s);if(u==a.exprs.length-1)return h;i(h,s=r())}else if(a.type=="star"){var d=r();return n(s,d),i(o(a.expr,d),d),[n(d)]}else if(a.type=="plus"){var m=r();return i(o(a.expr,s),m),i(o(a.expr,m),m),[n(m)]}else{if(a.type=="opt")return[n(s)].concat(o(a.expr,s));if(a.type=="range"){for(var y=s,k=0;k<a.min;k++){var A=r();i(o(a.expr,y),A),y=A}if(a.max==-1)i(o(a.expr,y),y);else for(var C=a.min;C<a.max;C++){var D=r();n(y,D),i(o(a.expr,y),D),y=D}return[n(y)]}else if(a.type=="name")return[n(s,null,a.value)]}}}function lh(e,t){return t-e}function uh(e,t){var r=[];return n(t),r.sort(lh);function n(i){var o=e[i];if(o.length==1&&!o[0].term)return n(o[0].to);r.push(i);for(var a=0;a<o.length;a++){var s=o[a],u=s.term,h=s.to;!u&&r.indexOf(h)==-1&&n(h)}}}function V4(e){var t=Object.create(null);return r(uh(e,0));function r(n){var i=[];n.forEach(function(u){e[u].forEach(function(h){var d=h.term,m=h.to;if(!!d){var y=i.indexOf(d),k=y>-1&&i[y+1];uh(e,m).forEach(function(A){k||i.push(d,k=[]),k.indexOf(A)==-1&&k.push(A)})}})});for(var o=t[n.join(",")]=new Ot(n.indexOf(e.length-1)>-1),a=0;a<i.length;a+=2){var s=i[a+1].sort(lh);o.next.push(i[a],t[s.join(",")]||r(s))}return o}}function $4(e,t){for(var r=0,n=[e];r<n.length;r++){for(var i=n[r],o=!i.validEnd,a=[],s=0;s<i.next.length;s+=2){var u=i.next[s],h=i.next[s+1];a.push(u.name),o&&!(u.isText||u.hasRequiredAttrs())&&(o=!1),n.indexOf(h)==-1&&n.push(h)}o&&t.err("Only non-generatable nodes ("+a.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function ch(e){var t=Object.create(null);for(var r in e){var n=e[r];if(!n.hasDefault)return null;t[r]=n.default}return t}function fh(e,t){var r=Object.create(null);for(var n in e){var i=t&&t[n];if(i===void 0){var o=e[n];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=i}return r}function hh(e){var t=Object.create(null);if(e)for(var r in e)t[r]=new ph(e[r]);return t}var Pt=function(t,r,n){this.name=t,this.schema=r,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=hh(n.attrs),this.defaultAttrs=ch(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||t=="text"),this.isText=t=="text"},Bi={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0},whitespace:{configurable:!0}};Bi.isInline.get=function(){return!this.isBlock};Bi.isTextblock.get=function(){return this.isBlock&&this.inlineContent};Bi.isLeaf.get=function(){return this.contentMatch==Ot.empty};Bi.isAtom.get=function(){return this.isLeaf||this.spec.atom};Bi.whitespace.get=function(){return this.spec.whitespace||(this.spec.code?"pre":"normal")};Pt.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1};Pt.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)};Pt.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:fh(this.attrs,t)};Pt.prototype.create=function(t,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Pe(this,this.computeAttrs(t),X.from(r),Fe.setFrom(n))};Pt.prototype.createChecked=function(t,r,n){if(r=X.from(r),!this.validContent(r))throw new RangeError("Invalid content for node "+this.name);return new Pe(this,this.computeAttrs(t),r,Fe.setFrom(n))};Pt.prototype.createAndFill=function(t,r,n){if(t=this.computeAttrs(t),r=X.from(r),r.size){var i=this.contentMatch.fillBefore(r);if(!i)return null;r=i.append(r)}var o=this.contentMatch.matchFragment(r).fillBefore(X.empty,!0);return o?new Pe(this,t,r.append(o),Fe.setFrom(n)):null};Pt.prototype.validContent=function(t){var r=this.contentMatch.matchFragment(t);if(!r||!r.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0};Pt.prototype.allowsMarkType=function(t){return this.markSet==null||this.markSet.indexOf(t)>-1};Pt.prototype.allowsMarks=function(t){if(this.markSet==null)return!0;for(var r=0;r<t.length;r++)if(!this.allowsMarkType(t[r].type))return!1;return!0};Pt.prototype.allowedMarks=function(t){if(this.markSet==null)return t;for(var r,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?r&&r.push(t[n]):r||(r=t.slice(0,n));return r?r.length?r:Fe.empty:t};Pt.compile=function(t,r){var n=Object.create(null);t.forEach(function(a,s){return n[a]=new Pt(a,r,s)});var i=r.spec.topNode||"doc";if(!n[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n};Object.defineProperties(Pt.prototype,Bi);var ph=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},dh={isRequired:{configurable:!0}};dh.isRequired.get=function(){return!this.hasDefault};Object.defineProperties(ph.prototype,dh);var On=function(t,r,n,i){this.name=t,this.schema=n,this.spec=i,this.attrs=hh(i.attrs),this.rank=r,this.excluded=null;var o=ch(this.attrs);this.instance=o&&new Fe(this,o)};On.prototype.create=function(t){return!t&&this.instance?this.instance:new Fe(this,fh(this.attrs,t))};On.compile=function(t,r){var n=Object.create(null),i=0;return t.forEach(function(o,a){return n[o]=new On(o,i++,r,a)}),n};On.prototype.removeFromSet=function(t){for(var r=0;r<t.length;r++)t[r].type==this&&(t=t.slice(0,r).concat(t.slice(r+1)),r--);return t};On.prototype.isInSet=function(t){for(var r=0;r<t.length;r++)if(t[r].type==this)return t[r]};On.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var ri=function(t){this.spec={};for(var r in t)this.spec[r]=t[r];this.spec.nodes=Jf.from(t.nodes),this.spec.marks=Jf.from(t.marks),this.nodes=Pt.compile(this.spec.nodes,this),this.marks=On.compile(this.spec.marks,this);var n=Object.create(null);for(var i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");var o=this.nodes[i],a=o.spec.content||"",s=o.spec.marks;o.contentMatch=n[a]||(n[a]=Ot.parse(a,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=s=="_"?null:s?mh(this,s.split(" ")):s==""||!o.inlineContent?[]:null}for(var u in this.marks){var h=this.marks[u],d=h.spec.excludes;h.excluded=d==null?[h]:d==""?[]:mh(this,d.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};ri.prototype.node=function(t,r,n,i){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof Pt){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(r,n,i)};ri.prototype.text=function(t,r){var n=this.nodes.text;return new I4(n,n.defaultAttrs,t,Fe.setFrom(r))};ri.prototype.mark=function(t,r){return typeof t=="string"&&(t=this.marks[t]),t.create(r)};ri.prototype.nodeFromJSON=function(t){return Pe.fromJSON(this,t)};ri.prototype.markFromJSON=function(t){return Fe.fromJSON(this,t)};ri.prototype.nodeType=function(t){var r=this.nodes[t];if(!r)throw new RangeError("Unknown node type: "+t);return r};function mh(e,t){for(var r=[],n=0;n<t.length;n++){var i=t[n],o=e.marks[i],a=o;if(o)r.push(o);else for(var s in e.marks){var u=e.marks[s];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&r.push(a=u)}if(!a)throw new SyntaxError("Unknown mark type: '"+t[n]+"'")}return r}var _r=function(t,r){var n=this;this.schema=t,this.rules=r,this.tags=[],this.styles=[],r.forEach(function(i){i.tag?n.tags.push(i):i.style&&n.styles.push(i)}),this.normalizeLists=!this.tags.some(function(i){if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;var o=t.nodes[i.node];return o.contentMatch.matchType(o)})};_r.prototype.parse=function(t,r){r===void 0&&(r={});var n=new Ye(this,r,!1);return n.addAll(t,null,r.from,r.to),n.finish()};_r.prototype.parseSlice=function(t,r){r===void 0&&(r={});var n=new Ye(this,r,!0);return n.addAll(t,null,r.from,r.to),ue.maxOpen(n.finish())};_r.prototype.matchTag=function(t,r,n){for(var i=n?this.tags.indexOf(n)+1:0;i<this.tags.length;i++){var o=this.tags[i];if(U4(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||r.matchesContext(o.context))){if(o.getAttrs){var a=o.getAttrs(t);if(a===!1)continue;o.attrs=a}return o}}};_r.prototype.matchStyle=function(t,r,n,i){for(var o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){var a=this.styles[o];if(!(a.style.indexOf(t)!=0||a.context&&!n.matchesContext(a.context)||a.style.length>t.length&&(a.style.charCodeAt(t.length)!=61||a.style.slice(t.length+1)!=r))){if(a.getAttrs){var s=a.getAttrs(r);if(s===!1)continue;a.attrs=s}return a}}};_r.schemaRules=function(t){var r=[];function n(u){for(var h=u.priority==null?50:u.priority,d=0;d<r.length;d++){var m=r[d],y=m.priority==null?50:m.priority;if(y<h)break}r.splice(d,0,u)}var i=function(u){var h=t.marks[u].spec.parseDOM;h&&h.forEach(function(d){n(d=yh(d)),d.mark=u})};for(var o in t.marks)i(o);var a=function(u){var h=t.nodes[s].spec.parseDOM;h&&h.forEach(function(d){n(d=yh(d)),d.node=s})};for(var s in t.nodes)a();return r};_r.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new _r(t,_r.schemaRules(t)))};var Ul={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},G4={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},vh={ol:!0,ul:!0},ja=1,Va=2,xo=4;function gh(e,t,r){return t!=null?(t?ja:0)|(t==="full"?Va:0):e&&e.whitespace=="pre"?ja|Va:r&~xo}var cn=function(t,r,n,i,o,a,s){this.type=t,this.attrs=r,this.solid=o,this.match=a||(s&xo?null:t.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=Fe.none,this.pendingMarks=i,this.stashMarks=[]};cn.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var r=this.type.contentMatch.fillBefore(X.from(t));if(r)this.match=this.type.contentMatch.matchFragment(r);else{var n=this.type.contentMatch,i;return(i=n.findWrapping(t.type))?(this.match=n,i):null}}return this.match.findWrapping(t.type)};cn.prototype.finish=function(t){if(!(this.options&ja)){var r=this.content[this.content.length-1],n;r&&r.isText&&(n=/[ \t\r\n\u000c]+$/.exec(r.text))&&(r.text.length==n[0].length?this.content.pop():this.content[this.content.length-1]=r.withText(r.text.slice(0,r.text.length-n[0].length)))}var i=X.from(this.content);return!t&&this.match&&(i=i.append(this.match.fillBefore(X.empty,!0))),this.type?this.type.create(this.attrs,i,this.marks):i};cn.prototype.popFromStashMark=function(t){for(var r=this.stashMarks.length-1;r>=0;r--)if(t.eq(this.stashMarks[r]))return this.stashMarks.splice(r,1)[0]};cn.prototype.applyPending=function(t){for(var r=0,n=this.pendingMarks;r<n.length;r++){var i=n[r];(this.type?this.type.allowsMarkType(i.type):J4(i.type,t))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}};cn.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!Ul.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var Ye=function(t,r,n){this.parser=t,this.options=r,this.isOpen=n;var i=r.topNode,o,a=gh(null,r.preserveWhitespace,0)|(n?xo:0);i?o=new cn(i.type,i.attrs,Fe.none,Fe.none,!0,r.topMatch||i.type.contentMatch,a):n?o=new cn(null,null,Fe.none,Fe.none,!0,null,a):o=new cn(t.schema.topNodeType,null,Fe.none,Fe.none,!0,null,a),this.nodes=[o],this.open=0,this.find=r.findPositions,this.needsBlock=!1},Kl={top:{configurable:!0},currentPos:{configurable:!0}};Kl.top.get=function(){return this.nodes[this.open]};Ye.prototype.addDOM=function(t){if(t.nodeType==3)this.addTextNode(t);else if(t.nodeType==1){var r=t.getAttribute("style"),n=r?this.readStyles(K4(r)):null,i=this.top;if(n!=null)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(t),n!=null)for(var a=0;a<n.length;a++)this.removePendingMark(n[a],i)}};Ye.prototype.addTextNode=function(t){var r=t.nodeValue,n=this.top;if(n.options&Va||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(r)){if(n.options&ja)n.options&Va?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){var i=n.content[n.content.length-1],o=t.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r)),this.findInText(t)}else this.findInside(t)};Ye.prototype.addElement=function(t,r){var n=t.nodeName.toLowerCase(),i;vh.hasOwnProperty(n)&&this.parser.normalizeLists&&W4(t);var o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(i=this.parser.matchTag(t,this,r));if(o?o.ignore:G4.hasOwnProperty(n))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);var a,s=this.top,u=this.needsBlock;if(Ul.hasOwnProperty(n))a=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t);return}this.addAll(t),a&&this.sync(s),this.needsBlock=u}else this.addElementByRule(t,o,o.consuming===!1?i:null)};Ye.prototype.leafFallback=function(t){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`))};Ye.prototype.ignoreFallback=function(t){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))};Ye.prototype.readStyles=function(t){var r=Fe.none;e:for(var n=0;n<t.length;n+=2)for(var i=null;;){var o=this.parser.matchStyle(t[n],t[n+1],this,i);if(!o)continue e;if(o.ignore)return null;if(r=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(r),o.consuming===!1)i=o;else break}return r};Ye.prototype.addElementByRule=function(t,r,n){var i=this,o,a,s,u;r.node?(a=this.parser.schema.nodes[r.node],a.isLeaf?this.insertNode(a.create(r.attrs))||this.leafFallback(t):o=this.enter(a,r.attrs,r.preserveWhitespace)):(s=this.parser.schema.marks[r.mark],u=s.create(r.attrs),this.addPendingMark(u));var h=this.top;if(a&&a.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(r.getContent)this.findInside(t),r.getContent(t,this.parser.schema).forEach(function(m){return i.insertNode(m)});else{var d=r.contentElement;typeof d=="string"?d=t.querySelector(d):typeof d=="function"&&(d=d(t)),d||(d=t),this.findAround(t,d,!0),this.addAll(d,o)}o&&(this.sync(h),this.open--),u&&this.removePendingMark(u,h)};Ye.prototype.addAll=function(t,r,n,i){for(var o=n||0,a=n?t.childNodes[n]:t.firstChild,s=i==null?null:t.childNodes[i];a!=s;a=a.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(a),r&&Ul.hasOwnProperty(a.nodeName.toLowerCase())&&this.sync(r);this.findAtPoint(t,o)};Ye.prototype.findPlace=function(t){for(var r,n,i=this.open;i>=0;i--){var o=this.nodes[i],a=o.findWrapping(t);if(a&&(!r||r.length>a.length)&&(r=a,n=o,!a.length)||o.solid)break}if(!r)return!1;this.sync(n);for(var s=0;s<r.length;s++)this.enterInner(r[s],null,!1);return!0};Ye.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var r=this.textblockFromContext();r&&this.enterInner(r)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var i=n.activeMarks,o=0;o<t.marks.length;o++)(!n.type||n.type.allowsMarkType(t.marks[o].type))&&(i=t.marks[o].addToSet(i));return n.content.push(t.mark(i)),!0}return!1};Ye.prototype.enter=function(t,r,n){var i=this.findPlace(t.create(r));return i&&this.enterInner(t,r,!0,n),i};Ye.prototype.enterInner=function(t,r,n,i){this.closeExtra();var o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t,r);var a=gh(t,i,o.options);o.options&xo&&o.content.length==0&&(a|=xo),this.nodes.push(new cn(t,r,o.activeMarks,o.pendingMarks,n,null,a)),this.open++};Ye.prototype.closeExtra=function(t){var r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(t));this.nodes.length=this.open+1}};Ye.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)};Ye.prototype.sync=function(t){for(var r=this.open;r>=0;r--)if(this.nodes[r]==t){this.open=r;return}};Kl.currentPos.get=function(){this.closeExtra();for(var e=0,t=this.open;t>=0;t--){for(var r=this.nodes[t].content,n=r.length-1;n>=0;n--)e+=r[n].nodeSize;t&&e++}return e};Ye.prototype.findAtPoint=function(t,r){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)};Ye.prototype.findInside=function(t){if(this.find)for(var r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)};Ye.prototype.findAround=function(t,r,n){if(t!=r&&this.find){for(var i=0;i<this.find.length;i++)if(this.find[i].pos==null&&t.nodeType==1&&t.contains(this.find[i].node)){var o=r.compareDocumentPosition(this.find[i].node);o&(n?2:4)&&(this.find[i].pos=this.currentPos)}}};Ye.prototype.findInText=function(t){if(this.find)for(var r=0;r<this.find.length;r++)this.find[r].node==t&&(this.find[r].pos=this.currentPos-(t.nodeValue.length-this.find[r].offset))};Ye.prototype.matchesContext=function(t){var r=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),i=this.options.context,o=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),a=-(i?i.depth+1:0)+(o?0:1),s=function(u,h){for(;u>=0;u--){var d=n[u];if(d==""){if(u==n.length-1||u==0)continue;for(;h>=a;h--)if(s(u-1,h))return!0;return!1}else{var m=h>0||h==0&&o?r.nodes[h].type:i&&h>=a?i.node(h-a).type:null;if(!m||m.name!=d&&m.groups.indexOf(d)==-1)return!1;h--}}return!0};return s(n.length-1,this.open)};Ye.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var r=t.depth;r>=0;r--){var n=t.node(r).contentMatchAt(t.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var i in this.parser.schema.nodes){var o=this.parser.schema.nodes[i];if(o.isTextblock&&o.defaultAttrs)return o}};Ye.prototype.addPendingMark=function(t){var r=X4(t,this.top.pendingMarks);r&&this.top.stashMarks.push(r),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)};Ye.prototype.removePendingMark=function(t,r){for(var n=this.open;n>=0;n--){var i=this.nodes[n],o=i.pendingMarks.lastIndexOf(t);if(o>-1)i.pendingMarks=t.removeFromSet(i.pendingMarks);else{i.activeMarks=t.removeFromSet(i.activeMarks);var a=i.popFromStashMark(t);a&&i.type&&i.type.allowsMarkType(a.type)&&(i.activeMarks=a.addToSet(i.activeMarks))}if(i==r)break}};Object.defineProperties(Ye.prototype,Kl);function W4(e){for(var t=e.firstChild,r=null;t;t=t.nextSibling){var n=t.nodeType==1?t.nodeName.toLowerCase():null;n&&vh.hasOwnProperty(n)&&r?(r.appendChild(t),t=r):n=="li"?r=t:n&&(r=null)}}function U4(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function K4(e){for(var t=/\s*([\w-]+)\s*:\s*([^;]+)/g,r,n=[];r=t.exec(e);)n.push(r[1],r[2].trim());return n}function yh(e){var t={};for(var r in e)t[r]=e[r];return t}function J4(e,t){var r=t.schema.nodes,n=function(a){var s=r[a];if(!!s.allowsMarkType(e)){var u=[],h=function(d){u.push(d);for(var m=0;m<d.edgeCount;m++){var y=d.edge(m),k=y.type,A=y.next;if(k==t||u.indexOf(A)<0&&h(A))return!0}};if(h(s.contentMatch))return{v:!0}}};for(var i in r){var o=n(i);if(o)return o.v}}function X4(e,t){for(var r=0;r<t.length;r++)if(e.eq(t[r]))return t[r]}var bt=function(t,r){this.nodes=t||{},this.marks=r||{}};bt.prototype.serializeFragment=function(t,r,n){var i=this;r===void 0&&(r={}),n||(n=Jl(r).createDocumentFragment());var o=n,a=null;return t.forEach(function(s){if(a||s.marks.length){a||(a=[]);for(var u=0,h=0;u<a.length&&h<s.marks.length;){var d=s.marks[h];if(!i.marks[d.type.name]){h++;continue}if(!d.eq(a[u])||d.type.spec.spanning===!1)break;u+=2,h++}for(;u<a.length;)o=a.pop(),a.pop();for(;h<s.marks.length;){var m=s.marks[h++],y=i.serializeMark(m,s.isInline,r);y&&(a.push(m,o),o.appendChild(y.dom),o=y.contentDOM||y.dom)}}o.appendChild(i.serializeNodeInner(s,r))}),n};bt.prototype.serializeNodeInner=function(t,r){r===void 0&&(r={});var n=bt.renderSpec(Jl(r),this.nodes[t.type.name](t)),i=n.dom,o=n.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");r.onContent?r.onContent(t,o,r):this.serializeFragment(t.content,r,o)}return i};bt.prototype.serializeNode=function(t,r){r===void 0&&(r={});for(var n=this.serializeNodeInner(t,r),i=t.marks.length-1;i>=0;i--){var o=this.serializeMark(t.marks[i],t.isInline,r);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n};bt.prototype.serializeMark=function(t,r,n){n===void 0&&(n={});var i=this.marks[t.type.name];return i&&bt.renderSpec(Jl(n),i(t,r))};bt.renderSpec=function(t,r,n){if(n===void 0&&(n=null),typeof r=="string")return{dom:t.createTextNode(r)};if(r.nodeType!=null)return{dom:r};if(r.dom&&r.dom.nodeType!=null)return r;var i=r[0],o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));var a=null,s=n?t.createElementNS(n,i):t.createElement(i),u=r[1],h=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){h=2;for(var d in u)if(u[d]!=null){var m=d.indexOf(" ");m>0?s.setAttributeNS(d.slice(0,m),d.slice(m+1),u[d]):s.setAttribute(d,u[d])}}for(var y=h;y<r.length;y++){var k=r[y];if(k===0){if(y<r.length-1||y>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}else{var A=bt.renderSpec(t,k,n),C=A.dom,D=A.contentDOM;if(s.appendChild(C),D){if(a)throw new RangeError("Multiple content holes");a=D}}}return{dom:s,contentDOM:a}};bt.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new bt(this.nodesFromSchema(t),this.marksFromSchema(t)))};bt.nodesFromSchema=function(t){var r=bh(t.nodes);return r.text||(r.text=function(n){return n.text}),r};bt.marksFromSchema=function(t){return bh(t.marks)};function bh(e){var t={};for(var r in e){var n=e[r].spec.toDOM;n&&(t[r]=n)}return t}function Jl(e){return e.document||window.document}var xh=65535,wh=Math.pow(2,16);function Y4(e,t){return e+t*wh}function kh(e){return e&xh}function Z4(e){return(e-(e&xh))/wh}var Xl=function(t,r,n){r===void 0&&(r=!1),n===void 0&&(n=null),this.pos=t,this.deleted=r,this.recover=n},xt=function e(t,r){if(r===void 0&&(r=!1),!t.length&&e.empty)return e.empty;this.ranges=t,this.inverted=r};xt.prototype.recover=function(t){var r=0,n=kh(t);if(!this.inverted)for(var i=0;i<n;i++)r+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[n*3]+r+Z4(t)};xt.prototype.mapResult=function(t,r){return r===void 0&&(r=1),this._map(t,r,!1)};xt.prototype.map=function(t,r){return r===void 0&&(r=1),this._map(t,r,!0)};xt.prototype._map=function(t,r,n){for(var i=0,o=this.inverted?2:1,a=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var u=this.ranges[s]-(this.inverted?i:0);if(u>t)break;var h=this.ranges[s+o],d=this.ranges[s+a],m=u+h;if(t<=m){var y=h?t==u?-1:t==m?1:r:r,k=u+i+(y<0?0:d);if(n)return k;var A=t==(r<0?u:m)?null:Y4(s/3,t-u);return new Xl(k,r<0?t!=u:t!=m,A)}i+=d-h}return n?t+i:new Xl(t+i)};xt.prototype.touches=function(t,r){for(var n=0,i=kh(r),o=this.inverted?2:1,a=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var u=this.ranges[s]-(this.inverted?n:0);if(u>t)break;var h=this.ranges[s+o],d=u+h;if(t<=d&&s==i*3)return!0;n+=this.ranges[s+a]-h}return!1};xt.prototype.forEach=function(t){for(var r=this.inverted?2:1,n=this.inverted?1:2,i=0,o=0;i<this.ranges.length;i+=3){var a=this.ranges[i],s=a-(this.inverted?o:0),u=a+(this.inverted?0:o),h=this.ranges[i+r],d=this.ranges[i+n];t(s,s+h,u,u+d),o+=d-h}};xt.prototype.invert=function(){return new xt(this.ranges,!this.inverted)};xt.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)};xt.offset=function(t){return t==0?xt.empty:new xt(t<0?[0,-t,0]:[0,0,t])};xt.empty=new xt([]);var _t=function(t,r,n,i){this.maps=t||[],this.from=n||0,this.to=i==null?this.maps.length:i,this.mirror=r};_t.prototype.slice=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=this.maps.length),new _t(this.maps,this.mirror,t,r)};_t.prototype.copy=function(){return new _t(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)};_t.prototype.appendMap=function(t,r){this.to=this.maps.push(t),r!=null&&this.setMirror(this.maps.length-1,r)};_t.prototype.appendMapping=function(t){for(var r=0,n=this.maps.length;r<t.maps.length;r++){var i=t.getMirror(r);this.appendMap(t.maps[r],i!=null&&i<r?n+i:null)}};_t.prototype.getMirror=function(t){if(this.mirror){for(var r=0;r<this.mirror.length;r++)if(this.mirror[r]==t)return this.mirror[r+(r%2?-1:1)]}};_t.prototype.setMirror=function(t,r){this.mirror||(this.mirror=[]),this.mirror.push(t,r)};_t.prototype.appendMappingInverted=function(t){for(var r=t.maps.length-1,n=this.maps.length+t.maps.length;r>=0;r--){var i=t.getMirror(r);this.appendMap(t.maps[r].invert(),i!=null&&i>r?n-i-1:null)}};_t.prototype.invert=function(){var t=new _t;return t.appendMappingInverted(this),t};_t.prototype.map=function(t,r){if(r===void 0&&(r=1),this.mirror)return this._map(t,r,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,r);return t};_t.prototype.mapResult=function(t,r){return r===void 0&&(r=1),this._map(t,r,!1)};_t.prototype._map=function(t,r,n){for(var i=!1,o=this.from;o<this.to;o++){var a=this.maps[o],s=a.mapResult(t,r);if(s.recover!=null){var u=this.getMirror(o);if(u!=null&&u>o&&u<this.to){o=u,t=this.maps[u].recover(s.recover);continue}}s.deleted&&(i=!0),t=s.pos}return n?t:new Xl(t,i)};function Ri(e){var t=Error.call(this,e);return t.__proto__=Ri.prototype,t}Ri.prototype=Object.create(Error.prototype);Ri.prototype.constructor=Ri;Ri.prototype.name="TransformError";var lt=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new _t},Yl={before:{configurable:!0},docChanged:{configurable:!0}};Yl.before.get=function(){return this.docs.length?this.docs[0]:this.doc};lt.prototype.step=function(t){var r=this.maybeStep(t);if(r.failed)throw new Ri(r.failed);return this};lt.prototype.maybeStep=function(t){var r=t.apply(this.doc);return r.failed||this.addStep(t,r.doc),r};Yl.docChanged.get=function(){return this.steps.length>0};lt.prototype.addStep=function(t,r){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=r};Object.defineProperties(lt.prototype,Yl);function $a(){throw new Error("Override me")}var Zl=Object.create(null),Nt=function(){};Nt.prototype.apply=function(t){return $a()};Nt.prototype.getMap=function(){return xt.empty};Nt.prototype.invert=function(t){return $a()};Nt.prototype.map=function(t){return $a()};Nt.prototype.merge=function(t){return null};Nt.prototype.toJSON=function(){return $a()};Nt.fromJSON=function(t,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=Zl[r.stepType];if(!n)throw new RangeError("No step type "+r.stepType+" defined");return n.fromJSON(t,r)};Nt.jsonID=function(t,r){if(t in Zl)throw new RangeError("Duplicate use of step JSON ID "+t);return Zl[t]=r,r.prototype.jsonID=t,r};var Lt=function(t,r){this.doc=t,this.failed=r};Lt.ok=function(t){return new Lt(t,null)};Lt.fail=function(t){return new Lt(null,t)};Lt.fromReplace=function(t,r,n,i){try{return Lt.ok(t.replace(r,n,i))}catch(o){if(o instanceof Vr)return Lt.fail(o.message);throw o}};var fn=function(e){function t(r,n,i,o){e.call(this),this.from=r,this.to=n,this.slice=i,this.structure=!!o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(n){return this.structure&&Ql(n,this.from,this.to)?Lt.fail("Structure replace would overwrite content"):Lt.fromReplace(n,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new xt([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(n){return new t(this.from,this.from+this.slice.size,n.slice(this.from,this.to))},t.prototype.map=function(n){var i=n.mapResult(this.from,1),o=n.mapResult(this.to,-1);return i.deleted&&o.deleted?null:new t(i.pos,Math.max(i.pos,o.pos),this.slice)},t.prototype.merge=function(n){if(!(n instanceof t)||n.structure||this.structure)return null;if(this.from+this.slice.size==n.from&&!this.slice.openEnd&&!n.slice.openStart){var i=this.slice.size+n.slice.size==0?ue.empty:new ue(this.slice.content.append(n.slice.content),this.slice.openStart,n.slice.openEnd);return new t(this.from,this.to+(n.to-n.from),i,this.structure)}else if(n.to==this.from&&!this.slice.openStart&&!n.slice.openEnd){var o=this.slice.size+n.slice.size==0?ue.empty:new ue(n.slice.content.append(this.slice.content),n.slice.openStart,this.slice.openEnd);return new t(n.from,this.to,o,this.structure)}else return null},t.prototype.toJSON=function(){var n={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(n.slice=this.slice.toJSON()),this.structure&&(n.structure=!0),n},t.fromJSON=function(n,i){if(typeof i.from!="number"||typeof i.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(i.from,i.to,ue.fromJSON(n,i.slice),!!i.structure)},t}(Nt);Nt.jsonID("replace",fn);var Ut=function(e){function t(r,n,i,o,a,s,u){e.call(this),this.from=r,this.to=n,this.gapFrom=i,this.gapTo=o,this.slice=a,this.insert=s,this.structure=!!u}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(n){if(this.structure&&(Ql(n,this.from,this.gapFrom)||Ql(n,this.gapTo,this.to)))return Lt.fail("Structure gap-replace would overwrite content");var i=n.slice(this.gapFrom,this.gapTo);if(i.openStart||i.openEnd)return Lt.fail("Gap is not a flat range");var o=this.slice.insertAt(this.insert,i.content);return o?Lt.fromReplace(n,this.from,this.to,o):Lt.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new xt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(n){var i=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+i,this.from+this.insert,this.from+this.insert+i,n.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(n){var i=n.mapResult(this.from,1),o=n.mapResult(this.to,-1),a=n.map(this.gapFrom,-1),s=n.map(this.gapTo,1);return i.deleted&&o.deleted||a<i.pos||s>o.pos?null:new t(i.pos,o.pos,a,s,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var n={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(n.slice=this.slice.toJSON()),this.structure&&(n.structure=!0),n},t.fromJSON=function(n,i){if(typeof i.from!="number"||typeof i.to!="number"||typeof i.gapFrom!="number"||typeof i.gapTo!="number"||typeof i.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(i.from,i.to,i.gapFrom,i.gapTo,ue.fromJSON(n,i.slice),i.insert,!!i.structure)},t}(Nt);Nt.jsonID("replaceAround",Ut);function Ql(e,t,r){for(var n=e.resolve(t),i=r-t,o=n.depth;i>0&&o>0&&n.indexAfter(o)==n.node(o).childCount;)o--,i--;if(i>0)for(var a=n.node(o).maybeChild(n.indexAfter(o));i>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,i--}return!1}function Q4(e,t,r){return(t==0||e.canReplace(t,e.childCount))&&(r==e.childCount||e.canReplace(0,r))}function Ii(e){for(var t=e.parent,r=t.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var i=e.$from.node(n),o=e.$from.index(n),a=e.$to.indexAfter(n);if(n<e.depth&&i.canReplace(o,a,r))return n;if(n==0||i.type.spec.isolating||!Q4(i,o,a))break}}lt.prototype.lift=function(e,t){for(var r=e.$from,n=e.$to,i=e.depth,o=r.before(i+1),a=n.after(i+1),s=o,u=a,h=X.empty,d=0,m=i,y=!1;m>t;m--)y||r.index(m)>0?(y=!0,h=X.from(r.node(m).copy(h)),d++):s--;for(var k=X.empty,A=0,C=i,D=!1;C>t;C--)D||n.after(C+1)<n.end(C)?(D=!0,k=X.from(n.node(C).copy(k)),A++):u++;return this.step(new Ut(s,u,o,a,new ue(h.append(k),d,A),h.size-d,!0))};function e0(e,t,r,n){n===void 0&&(n=e);var i=e2(e,t),o=i&&t2(n,t);return o?i.map(Sh).concat({type:t,attrs:r}).concat(o.map(Sh)):null}function Sh(e){return{type:e,attrs:null}}function e2(e,t){var r=e.parent,n=e.startIndex,i=e.endIndex,o=r.contentMatchAt(n).findWrapping(t);if(!o)return null;var a=o.length?o[0]:t;return r.canReplaceWith(n,i,a)?o:null}function t2(e,t){var r=e.parent,n=e.startIndex,i=e.endIndex,o=r.child(n),a=t.contentMatch.findWrapping(o.type);if(!a)return null;for(var s=a.length?a[a.length-1]:t,u=s.contentMatch,h=n;u&&h<i;h++)u=u.matchType(r.child(h).type);return!u||!u.validEnd?null:a}lt.prototype.wrap=function(e,t){for(var r=X.empty,n=t.length-1;n>=0;n--){if(r.size){var i=t[n].type.contentMatch.matchFragment(r);if(!i||!i.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=X.from(t[n].type.create(t[n].attrs,r))}var o=e.start,a=e.end;return this.step(new Ut(o,a,o,a,new ue(r,0,0),t.length,!0))};lt.prototype.setBlockType=function(e,t,r,n){var i=this;if(t===void 0&&(t=e),!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var o=this.steps.length;return this.doc.nodesBetween(e,t,function(a,s){if(a.isTextblock&&!a.hasMarkup(r,n)&&r2(i.doc,i.mapping.slice(o).map(s),r)){i.clearIncompatible(i.mapping.slice(o).map(s,1),r);var u=i.mapping.slice(o),h=u.map(s,1),d=u.map(s+a.nodeSize,1);return i.step(new Ut(h,d,h+1,d-1,new ue(X.from(r.create(n,null,a.marks)),0,0),1,!0)),!1}}),this};function r2(e,t,r){var n=e.resolve(t),i=n.index();return n.parent.canReplaceWith(i,i+1,r)}lt.prototype.setNodeMarkup=function(e,t,r,n){var i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");t||(t=i.type);var o=t.create(r,null,n||i.marks);if(i.isLeaf)return this.replaceWith(e,e+i.nodeSize,o);if(!t.validContent(i.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new Ut(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new ue(X.from(o),0,0),1,!0))};function hn(e,t,r,n){r===void 0&&(r=1);var i=e.resolve(t),o=i.depth-r,a=n&&n[n.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!a.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(var s=i.depth-1,u=r-2;s>o;s--,u--){var h=i.node(s),d=i.index(s);if(h.type.spec.isolating)return!1;var m=h.content.cutByIndex(d,h.childCount),y=n&&n[u]||h;if(y!=h&&(m=m.replaceChild(0,y.type.create(y.attrs))),!h.canReplace(d+1,h.childCount)||!y.type.validContent(m))return!1}var k=i.indexAfter(o),A=n&&n[0];return i.node(o).canReplaceWith(k,k,A?A.type:i.node(o+1).type)}lt.prototype.split=function(e,t,r){t===void 0&&(t=1);for(var n=this.doc.resolve(e),i=X.empty,o=X.empty,a=n.depth,s=n.depth-t,u=t-1;a>s;a--,u--){i=X.from(n.node(a).copy(i));var h=r&&r[u];o=X.from(h?h.type.create(h.attrs,o):n.node(a).copy(o))}return this.step(new fn(e,e,new ue(i.append(o),t,t),!0))};function wo(e,t){var r=e.resolve(t),n=r.index();return n2(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function n2(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}lt.prototype.join=function(e,t){t===void 0&&(t=1);var r=new fn(e-t,e+t,ue.empty,!0);return this.step(r)};function i2(e,t,r){var n=e.resolve(t);if(n.parent.canReplaceWith(n.index(),n.index(),r))return t;if(n.parentOffset==0)for(var i=n.depth-1;i>=0;i--){var o=n.index(i);if(n.node(i).canReplaceWith(o,o,r))return n.before(i+1);if(o>0)return null}if(n.parentOffset==n.parent.content.size)for(var a=n.depth-1;a>=0;a--){var s=n.indexAfter(a);if(n.node(a).canReplaceWith(s,s,r))return n.after(a+1);if(s<n.node(a).childCount)return null}}function Ah(e,t,r){var n=e.resolve(t);if(!r.content.size)return t;for(var i=r.content,o=0;o<r.openStart;o++)i=i.firstChild.content;for(var a=1;a<=(r.openStart==0&&r.size?2:1);a++)for(var s=n.depth;s>=0;s--){var u=s==n.depth?0:n.pos<=(n.start(s+1)+n.end(s+1))/2?-1:1,h=n.index(s)+(u>0?1:0),d=n.node(s),m=!1;if(a==1)m=d.canReplace(h,h,i);else{var y=d.contentMatchAt(h).findWrapping(i.firstChild.type);m=y&&d.canReplaceWith(h,h,y[0])}if(m)return u==0?n.pos:u<0?n.before(s+1):n.after(s+1)}return null}function t0(e,t,r){for(var n=[],i=0;i<e.childCount;i++){var o=e.child(i);o.content.size&&(o=o.copy(t0(o.content,t,o))),o.isInline&&(o=t(o,r,i)),n.push(o)}return X.fromArray(n)}var r0=function(e){function t(r,n,i){e.call(this),this.from=r,this.to=n,this.mark=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(n){var i=this,o=n.slice(this.from,this.to),a=n.resolve(this.from),s=a.node(a.sharedDepth(this.to)),u=new ue(t0(o.content,function(h,d){return!h.isAtom||!d.type.allowsMarkType(i.mark.type)?h:h.mark(i.mark.addToSet(h.marks))},s),o.openStart,o.openEnd);return Lt.fromReplace(n,this.from,this.to,u)},t.prototype.invert=function(){return new ko(this.from,this.to,this.mark)},t.prototype.map=function(n){var i=n.mapResult(this.from,1),o=n.mapResult(this.to,-1);return i.deleted&&o.deleted||i.pos>=o.pos?null:new t(i.pos,o.pos,this.mark)},t.prototype.merge=function(n){if(n instanceof t&&n.mark.eq(this.mark)&&this.from<=n.to&&this.to>=n.from)return new t(Math.min(this.from,n.from),Math.max(this.to,n.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(n,i){if(typeof i.from!="number"||typeof i.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(i.from,i.to,n.markFromJSON(i.mark))},t}(Nt);Nt.jsonID("addMark",r0);var ko=function(e){function t(r,n,i){e.call(this),this.from=r,this.to=n,this.mark=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(n){var i=this,o=n.slice(this.from,this.to),a=new ue(t0(o.content,function(s){return s.mark(i.mark.removeFromSet(s.marks))}),o.openStart,o.openEnd);return Lt.fromReplace(n,this.from,this.to,a)},t.prototype.invert=function(){return new r0(this.from,this.to,this.mark)},t.prototype.map=function(n){var i=n.mapResult(this.from,1),o=n.mapResult(this.to,-1);return i.deleted&&o.deleted||i.pos>=o.pos?null:new t(i.pos,o.pos,this.mark)},t.prototype.merge=function(n){if(n instanceof t&&n.mark.eq(this.mark)&&this.from<=n.to&&this.to>=n.from)return new t(Math.min(this.from,n.from),Math.max(this.to,n.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(n,i){if(typeof i.from!="number"||typeof i.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(i.from,i.to,n.markFromJSON(i.mark))},t}(Nt);Nt.jsonID("removeMark",ko);lt.prototype.addMark=function(e,t,r){var n=this,i=[],o=[],a=null,s=null;return this.doc.nodesBetween(e,t,function(u,h,d){if(!!u.isInline){var m=u.marks;if(!r.isInSet(m)&&d.type.allowsMarkType(r.type)){for(var y=Math.max(h,e),k=Math.min(h+u.nodeSize,t),A=r.addToSet(m),C=0;C<m.length;C++)m[C].isInSet(A)||(a&&a.to==y&&a.mark.eq(m[C])?a.to=k:i.push(a=new ko(y,k,m[C])));s&&s.to==y?s.to=k:o.push(s=new r0(y,k,r))}}}),i.forEach(function(u){return n.step(u)}),o.forEach(function(u){return n.step(u)}),this};lt.prototype.removeMark=function(e,t,r){var n=this;r===void 0&&(r=null);var i=[],o=0;return this.doc.nodesBetween(e,t,function(a,s){if(!!a.isInline){o++;var u=null;if(r instanceof On)for(var h=a.marks,d;d=r.isInSet(h);)(u||(u=[])).push(d),h=d.removeFromSet(h);else r?r.isInSet(a.marks)&&(u=[r]):u=a.marks;if(u&&u.length)for(var m=Math.min(s+a.nodeSize,t),y=0;y<u.length;y++){for(var k=u[y],A=void 0,C=0;C<i.length;C++){var D=i[C];D.step==o-1&&k.eq(i[C].style)&&(A=D)}A?(A.to=m,A.step=o):i.push({style:k,from:Math.max(s,e),to:m,step:o})}}}),i.forEach(function(a){return n.step(new ko(a.from,a.to,a.style))}),this};lt.prototype.clearIncompatible=function(e,t,r){r===void 0&&(r=t.contentMatch);for(var n=this.doc.nodeAt(e),i=[],o=e+1,a=0;a<n.childCount;a++){var s=n.child(a),u=o+s.nodeSize,h=r.matchType(s.type,s.attrs);if(!h)i.push(new fn(o,u,ue.empty));else{r=h;for(var d=0;d<s.marks.length;d++)t.allowsMarkType(s.marks[d].type)||this.step(new ko(o,u,s.marks[d]))}o=u}if(!r.validEnd){var m=r.fillBefore(X.empty,!0);this.replace(o,o,new ue(m,0,0))}for(var y=i.length-1;y>=0;y--)this.step(i[y]);return this};function n0(e,t,r,n){if(r===void 0&&(r=t),n===void 0&&(n=ue.empty),t==r&&!n.size)return null;var i=e.resolve(t),o=e.resolve(r);return Mh(i,o,n)?new fn(t,r,n):new gr(i,o,n).fit()}lt.prototype.replace=function(e,t,r){t===void 0&&(t=e),r===void 0&&(r=ue.empty);var n=n0(this.doc,e,t,r);return n&&this.step(n),this};lt.prototype.replaceWith=function(e,t,r){return this.replace(e,t,new ue(X.from(r),0,0))};lt.prototype.delete=function(e,t){return this.replace(e,t,ue.empty)};lt.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};function Mh(e,t,r){return!r.openStart&&!r.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),r.content)}var gr=function(t,r,n){this.$to=r,this.$from=t,this.unplaced=n,this.frontier=[];for(var i=0;i<=t.depth;i++){var o=t.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(i))})}this.placed=X.empty;for(var a=t.depth;a>0;a--)this.placed=X.from(t.node(a).copy(this.placed))},Ch={depth:{configurable:!0}};Ch.depth.get=function(){return this.frontier.length-1};gr.prototype.fit=function(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var r=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,o=this.close(r<0?this.$to:i.doc.resolve(r));if(!o)return null;for(var a=this.placed,s=i.depth,u=o.depth;s&&u&&a.childCount==1;)a=a.firstChild.content,s--,u--;var h=new ue(a,s,u);if(r>-1)return new Ut(i.pos,r,this.$to.pos,this.$to.end(),h,n);if(h.size||i.pos!=this.$to.pos)return new fn(i.pos,o.pos,h)};gr.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var r=this.unplaced.openStart;r>=0;r--){var n=void 0,i=void 0;r?(i=i0(this.unplaced.content,r-1).firstChild,n=i.content):n=this.unplaced.content;for(var o=n.firstChild,a=this.depth;a>=0;a--){var s=this.frontier[a],u=s.type,h=s.match,d=void 0,m=void 0;if(t==1&&(o?h.matchType(o.type)||(m=h.fillBefore(X.from(o),!1)):u.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:a,parent:i,inject:m};if(t==2&&o&&(d=h.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:i,wrap:d};if(i&&h.matchType(i.type))break}}};gr.prototype.openMore=function(){var t=this.unplaced,r=t.content,n=t.openStart,i=t.openEnd,o=i0(r,n);return!o.childCount||o.firstChild.isLeaf?!1:(this.unplaced=new ue(r,n+1,Math.max(i,o.size+n>=r.size-i?n+1:0)),!0)};gr.prototype.dropNode=function(){var t=this.unplaced,r=t.content,n=t.openStart,i=t.openEnd,o=i0(r,n);if(o.childCount<=1&&n>0){var a=r.size-n<=n+o.size;this.unplaced=new ue(So(r,n-1,1),n-1,a?n-1:i)}else this.unplaced=new ue(So(r,n,1),n,i)};gr.prototype.placeNodes=function(t){for(var r=t.sliceDepth,n=t.frontierDepth,i=t.parent,o=t.inject,a=t.wrap;this.depth>n;)this.closeFrontierNode();if(a)for(var s=0;s<a.length;s++)this.openFrontierNode(a[s]);var u=this.unplaced,h=i?i.content:u.content,d=u.openStart-r,m=0,y=[],k=this.frontier[n],A=k.match,C=k.type;if(o){for(var D=0;D<o.childCount;D++)y.push(o.child(D));A=A.matchFragment(o)}for(var N=h.size+r-(u.content.size-u.openEnd);m<h.childCount;){var T=h.child(m),I=A.matchType(T.type);if(!I)break;m++,(m>1||d==0||T.content.size)&&(A=I,y.push(Th(T.mark(C.allowedMarks(T.marks)),m==1?d:0,m==h.childCount?N:-1)))}var O=m==h.childCount;O||(N=-1),this.placed=Ao(this.placed,n,X.from(y)),this.frontier[n].match=A,O&&N<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var H=0,L=h;H<N;H++){var G=L.lastChild;this.frontier.push({type:G.type,match:G.contentMatchAt(G.childCount)}),L=G.content}this.unplaced=O?r==0?ue.empty:new ue(So(u.content,r-1,1),r-1,N<0?u.openEnd:r-1):new ue(So(u.content,r,m),u.openStart,u.openEnd)};gr.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock)return-1;var t=this.frontier[this.depth],r;if(!t.type.isTextblock||!o0(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;for(var n=this.$to,i=n.depth,o=this.$to.after(i);i>1&&o==this.$to.end(--i);)++o;return o};gr.prototype.findCloseLevel=function(t){e:for(var r=Math.min(this.depth,t.depth);r>=0;r--){var n=this.frontier[r],i=n.match,o=n.type,a=r<t.depth&&t.end(r+1)==t.pos+(t.depth-(r+1)),s=o0(t,r,o,i,a);if(!!s){for(var u=r-1;u>=0;u--){var h=this.frontier[u],d=h.match,m=h.type,y=o0(t,u,m,d,!0);if(!y||y.childCount)continue e}return{depth:r,fit:s,move:a?t.doc.resolve(t.after(r+1)):t}}}};gr.prototype.close=function(t){var r=this.findCloseLevel(t);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=Ao(this.placed,r.depth,r.fit)),t=r.move;for(var n=r.depth+1;n<=t.depth;n++){var i=t.node(n),o=i.type.contentMatch.fillBefore(i.content,!0,t.index(n));this.openFrontierNode(i.type,i.attrs,o)}return t};gr.prototype.openFrontierNode=function(t,r,n){var i=this.frontier[this.depth];i.match=i.match.matchType(t),this.placed=Ao(this.placed,this.depth,X.from(t.create(r,n))),this.frontier.push({type:t,match:t.contentMatch})};gr.prototype.closeFrontierNode=function(){var t=this.frontier.pop(),r=t.match.fillBefore(X.empty,!0);r.childCount&&(this.placed=Ao(this.placed,this.frontier.length,r))};Object.defineProperties(gr.prototype,Ch);function So(e,t,r){return t==0?e.cutByIndex(r):e.replaceChild(0,e.firstChild.copy(So(e.firstChild.content,t-1,r)))}function Ao(e,t,r){return t==0?e.append(r):e.replaceChild(e.childCount-1,e.lastChild.copy(Ao(e.lastChild.content,t-1,r)))}function i0(e,t){for(var r=0;r<t;r++)e=e.firstChild.content;return e}function Th(e,t,r){if(t<=0)return e;var n=e.content;return t>1&&(n=n.replaceChild(0,Th(n.firstChild,t-1,n.childCount==1?r-1:0))),t>0&&(n=e.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(e.type.contentMatch.matchFragment(n).fillBefore(X.empty,!0)))),e.copy(n)}function o0(e,t,r,n,i){var o=e.node(t),a=i?e.indexAfter(t):e.index(t);if(a==o.childCount&&!r.compatibleContent(o.type))return null;var s=n.fillBefore(o.content,!0,a);return s&&!o2(r,o.content,a)?s:null}function o2(e,t,r){for(var n=r;n<t.childCount;n++)if(!e.allowsMarks(t.child(n).marks))return!0;return!1}function a2(e){return e.spec.defining||e.spec.definingForContent}lt.prototype.replaceRange=function(e,t,r){if(!r.size)return this.deleteRange(e,t);var n=this.doc.resolve(e),i=this.doc.resolve(t);if(Mh(n,i,r))return this.step(new fn(e,t,r));var o=Oh(n,this.doc.resolve(t));o[o.length-1]==0&&o.pop();var a=-(n.depth+1);o.unshift(a);for(var s=n.depth,u=n.pos-1;s>0;s--,u--){var h=n.node(s).type.spec;if(h.defining||h.definingAsContext||h.isolating)break;o.indexOf(s)>-1?a=s:n.before(s)==u&&o.splice(1,0,-s)}for(var d=o.indexOf(a),m=[],y=r.openStart,k=r.content,A=0;;A++){var C=k.firstChild;if(m.push(C),A==r.openStart)break;k=C.content}for(var D=y-1;D>=0;D--){var N=m[D].type,T=a2(N);if(T&&n.node(d).type!=N)y=D;else if(T||!N.isTextblock)break}for(var I=r.openStart;I>=0;I--){var O=(I+y+1)%(r.openStart+1),H=m[O];if(!!H)for(var L=0;L<o.length;L++){var G=o[(L+d)%o.length],Z=!0;G<0&&(Z=!1,G=-G);var K=n.node(G-1),oe=n.index(G-1);if(K.canReplaceWith(oe,oe,H.type,H.marks))return this.replace(n.before(G),Z?i.after(G):t,new ue(Eh(r.content,0,r.openStart,O),O,r.openEnd))}}for(var he=this.steps.length,me=o.length-1;me>=0&&(this.replace(e,t,r),!(this.steps.length>he));me--){var ge=o[me];ge<0||(e=n.before(ge),t=i.after(ge))}return this};function Eh(e,t,r,n,i){if(t<r){var o=e.firstChild;e=e.replaceChild(0,o.copy(Eh(o.content,t+1,r,n,o)))}if(t>n){var a=i.contentMatchAt(0),s=a.fillBefore(e).append(e);e=s.append(a.matchFragment(s).fillBefore(X.empty,!0))}return e}lt.prototype.replaceRangeWith=function(e,t,r){if(!r.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var n=i2(this.doc,e,r.type);n!=null&&(e=t=n)}return this.replaceRange(e,t,new ue(X.from(r),0,0))};lt.prototype.deleteRange=function(e,t){for(var r=this.doc.resolve(e),n=this.doc.resolve(t),i=Oh(r,n),o=0;o<i.length;o++){var a=i[o],s=o==i.length-1;if(s&&a==0||r.node(a).type.contentMatch.validEnd)return this.delete(r.start(a),n.end(a));if(a>0&&(s||r.node(a-1).canReplace(r.index(a-1),n.indexAfter(a-1))))return this.delete(r.before(a),n.after(a))}for(var u=1;u<=r.depth&&u<=n.depth;u++)if(e-r.start(u)==r.depth-u&&t>r.end(u)&&n.end(u)-t!=n.depth-u)return this.delete(r.before(u),t);return this.delete(e,t)};function Oh(e,t){for(var r=[],n=Math.min(e.depth,t.depth),i=n;i>=0;i--){var o=e.start(i);if(o<e.pos-(e.depth-i)||t.end(i)>t.pos+(t.depth-i)||e.node(i).type.spec.isolating||t.node(i).type.spec.isolating)break;(o==t.start(i)||i==e.depth&&i==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&i&&t.start(i-1)==o-1)&&r.push(i)}return r}var a0=Object.create(null),Oe=function(t,r,n){this.ranges=n||[new s2(t.min(r),t.max(r))],this.$anchor=t,this.$head=r},_n={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};_n.anchor.get=function(){return this.$anchor.pos};_n.head.get=function(){return this.$head.pos};_n.from.get=function(){return this.$from.pos};_n.to.get=function(){return this.$to.pos};_n.$from.get=function(){return this.ranges[0].$from};_n.$to.get=function(){return this.ranges[0].$to};_n.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0};Oe.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)};Oe.prototype.replace=function(t,r){r===void 0&&(r=ue.empty);for(var n=r.content.lastChild,i=null,o=0;o<r.openEnd;o++)i=n,n=n.lastChild;for(var a=t.steps.length,s=this.ranges,u=0;u<s.length;u++){var h=s[u],d=h.$from,m=h.$to,y=t.mapping.slice(a);t.replaceRange(y.map(d.pos),y.map(m.pos),u?ue.empty:r),u==0&&_h(t,a,(n?n.isInline:i&&i.isTextblock)?-1:1)}};Oe.prototype.replaceWith=function(t,r){for(var n=t.steps.length,i=this.ranges,o=0;o<i.length;o++){var a=i[o],s=a.$from,u=a.$to,h=t.mapping.slice(n),d=h.map(s.pos),m=h.map(u.pos);o?t.deleteRange(d,m):(t.replaceRangeWith(d,m,r),_h(t,n,r.isInline?-1:1))}};Oe.findFrom=function(t,r,n){var i=t.parent.inlineContent?new Re(t):Fi(t.node(0),t.parent,t.pos,t.index(),r,n);if(i)return i;for(var o=t.depth-1;o>=0;o--){var a=r<0?Fi(t.node(0),t.node(o),t.before(o+1),t.index(o),r,n):Fi(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,r,n);if(a)return a}};Oe.near=function(t,r){return r===void 0&&(r=1),this.findFrom(t,r)||this.findFrom(t,-r)||new pn(t.node(0))};Oe.atStart=function(t){return Fi(t,t,0,0,1)||new pn(t)};Oe.atEnd=function(t){return Fi(t,t,t.content.size,t.childCount,-1)||new pn(t)};Oe.fromJSON=function(t,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=a0[r.type];if(!n)throw new RangeError("No selection type "+r.type+" defined");return n.fromJSON(t,r)};Oe.jsonID=function(t,r){if(t in a0)throw new RangeError("Duplicate use of selection JSON ID "+t);return a0[t]=r,r.prototype.jsonID=t,r};Oe.prototype.getBookmark=function(){return Re.between(this.$anchor,this.$head).getBookmark()};Object.defineProperties(Oe.prototype,_n);Oe.prototype.visible=!0;var s2=function(t,r){this.$from=t,this.$to=r},Re=function(e){function t(n,i){i===void 0&&(i=n),e.call(this,n,i)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={$cursor:{configurable:!0}};return r.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(i,o){var a=i.resolve(o.map(this.head));if(!a.parent.inlineContent)return e.near(a);var s=i.resolve(o.map(this.anchor));return new t(s.parent.inlineContent?s:a,a)},t.prototype.replace=function(i,o){if(o===void 0&&(o=ue.empty),e.prototype.replace.call(this,i,o),o==ue.empty){var a=this.$from.marksAcross(this.$to);a&&i.ensureMarks(a)}},t.prototype.eq=function(i){return i instanceof t&&i.anchor==this.anchor&&i.head==this.head},t.prototype.getBookmark=function(){return new Mo(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(i,o){if(typeof o.anchor!="number"||typeof o.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(i.resolve(o.anchor),i.resolve(o.head))},t.create=function(i,o,a){a===void 0&&(a=o);var s=i.resolve(o);return new this(s,a==o?s:i.resolve(a))},t.between=function(i,o,a){var s=i.pos-o.pos;if((!a||s)&&(a=s>=0?1:-1),!o.parent.inlineContent){var u=e.findFrom(o,a,!0)||e.findFrom(o,-a,!0);if(u)o=u.$head;else return e.near(o,a)}return i.parent.inlineContent||(s==0?i=o:(i=(e.findFrom(i,-a,!0)||e.findFrom(i,a,!0)).$anchor,i.pos<o.pos!=s<0&&(i=o))),new t(i,o)},Object.defineProperties(t.prototype,r),t}(Oe);Oe.jsonID("text",Re);var Mo=function(t,r){this.anchor=t,this.head=r};Mo.prototype.map=function(t){return new Mo(t.map(this.anchor),t.map(this.head))};Mo.prototype.resolve=function(t){return Re.between(t.resolve(this.anchor),t.resolve(this.head))};var _e=function(e){function t(r){var n=r.nodeAfter,i=r.node(0).resolve(r.pos+n.nodeSize);e.call(this,r,i),this.node=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,i){var o=i.mapResult(this.anchor),a=o.deleted,s=o.pos,u=n.resolve(s);return a?e.near(u):new t(u)},t.prototype.content=function(){return new ue(X.from(this.node),0,0)},t.prototype.eq=function(n){return n instanceof t&&n.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new Ga(this.anchor)},t.fromJSON=function(n,i){if(typeof i.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(n.resolve(i.anchor))},t.create=function(n,i){return new this(n.resolve(i))},t.isSelectable=function(n){return!n.isText&&n.type.spec.selectable!==!1},t}(Oe);_e.prototype.visible=!1;Oe.jsonID("node",_e);var Ga=function(t){this.anchor=t};Ga.prototype.map=function(t){var r=t.mapResult(this.anchor),n=r.deleted,i=r.pos;return n?new Mo(i,i):new Ga(i)};Ga.prototype.resolve=function(t){var r=t.resolve(this.anchor),n=r.nodeAfter;return n&&_e.isSelectable(n)?new _e(r):Oe.near(r)};var pn=function(e){function t(r){e.call(this,r.resolve(0),r.resolve(r.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.replace=function(n,i){if(i===void 0&&(i=ue.empty),i==ue.empty){n.delete(0,n.doc.content.size);var o=e.atStart(n.doc);o.eq(n.selection)||n.setSelection(o)}else e.prototype.replace.call(this,n,i)},t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(n){return new t(n)},t.prototype.map=function(n){return new t(n)},t.prototype.eq=function(n){return n instanceof t},t.prototype.getBookmark=function(){return l2},t}(Oe);Oe.jsonID("all",pn);var l2={map:function(){return this},resolve:function(t){return new pn(t)}};function Fi(e,t,r,n,i,o){if(t.inlineContent)return Re.create(e,r);for(var a=n-(i>0?0:1);i>0?a<t.childCount:a>=0;a+=i){var s=t.child(a);if(s.isAtom){if(!o&&_e.isSelectable(s))return _e.create(e,r-(i<0?s.nodeSize:0))}else{var u=Fi(e,s,r+i,i<0?s.childCount:0,i,o);if(u)return u}r+=s.nodeSize*i}}function _h(e,t,r){var n=e.steps.length-1;if(!(n<t)){var i=e.steps[n];if(i instanceof fn||i instanceof Ut){var o=e.mapping.maps[n],a;o.forEach(function(s,u,h,d){a==null&&(a=d)}),e.setSelection(Oe.near(e.doc.resolve(a),r))}}}var Nh=1,Wa=2,Dh=4,u2=function(e){function t(n){e.call(this,n.doc),this.time=Date.now(),this.curSelection=n.selection,this.curSelectionFor=0,this.storedMarks=n.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return r.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(i){if(i.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=i,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Nh)&~Wa,this.storedMarks=null,this},r.selectionSet.get=function(){return(this.updated&Nh)>0},t.prototype.setStoredMarks=function(i){return this.storedMarks=i,this.updated|=Wa,this},t.prototype.ensureMarks=function(i){return Fe.sameSet(this.storedMarks||this.selection.$from.marks(),i)||this.setStoredMarks(i),this},t.prototype.addStoredMark=function(i){return this.ensureMarks(i.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(i){return this.ensureMarks(i.removeFromSet(this.storedMarks||this.selection.$head.marks()))},r.storedMarksSet.get=function(){return(this.updated&Wa)>0},t.prototype.addStep=function(i,o){e.prototype.addStep.call(this,i,o),this.updated=this.updated&~Wa,this.storedMarks=null},t.prototype.setTime=function(i){return this.time=i,this},t.prototype.replaceSelection=function(i){return this.selection.replace(this,i),this},t.prototype.replaceSelectionWith=function(i,o){var a=this.selection;return o!==!1&&(i=i.mark(this.storedMarks||(a.empty?a.$from.marks():a.$from.marksAcross(a.$to)||Fe.none))),a.replaceWith(this,i),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(i,o,a){a===void 0&&(a=o);var s=this.doc.type.schema;if(o==null)return i?this.replaceSelectionWith(s.text(i),!0):this.deleteSelection();if(!i)return this.deleteRange(o,a);var u=this.storedMarks;if(!u){var h=this.doc.resolve(o);u=a==o?h.marks():h.marksAcross(this.doc.resolve(a))}return this.replaceRangeWith(o,a,s.text(i,u)),this.selection.empty||this.setSelection(Oe.near(this.selection.$to)),this},t.prototype.setMeta=function(i,o){return this.meta[typeof i=="string"?i:i.key]=o,this},t.prototype.getMeta=function(i){return this.meta[typeof i=="string"?i:i.key]},r.isGeneric.get=function(){for(var n in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=Dh,this},r.scrolledIntoView.get=function(){return(this.updated&Dh)>0},Object.defineProperties(t.prototype,r),t}(lt);function zh(e,t){return!t||!e?e:e.bind(t)}var Co=function(t,r,n){this.name=t,this.init=zh(r.init,n),this.apply=zh(r.apply,n)},c2=[new Co("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new Co("selection",{init:function(t,r){return t.selection||Oe.atStart(r.doc)},apply:function(t){return t.selection}}),new Co("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,r,n,i){return i.selection.$cursor?t.storedMarks:null}}),new Co("scrollToSelection",{init:function(){return 0},apply:function(t,r){return t.scrolledIntoView?r+1:r}})],s0=function(t,r){var n=this;this.schema=t,this.fields=c2.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),r&&r.forEach(function(i){if(n.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");n.plugins.push(i),n.pluginsByKey[i.key]=i,i.spec.state&&n.fields.push(new Co(i.key,i.spec.state,i))})},Dt=function(t){this.config=t},Ua={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};Ua.schema.get=function(){return this.config.schema};Ua.plugins.get=function(){return this.config.plugins};Dt.prototype.apply=function(t){return this.applyTransaction(t).state};Dt.prototype.filterTransaction=function(t,r){r===void 0&&(r=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=r){var i=this.config.plugins[n];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,t,this))return!1}return!0};Dt.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var r=[t],n=this.applyInner(t),i=null;;){for(var o=!1,a=0;a<this.config.plugins.length;a++){var s=this.config.plugins[a];if(s.spec.appendTransaction){var u=i?i[a].n:0,h=i?i[a].state:this,d=u<r.length&&s.spec.appendTransaction.call(s,u?r.slice(u):r,h,n);if(d&&n.filterTransaction(d,a)){if(d.setMeta("appendedTransaction",t),!i){i=[];for(var m=0;m<this.config.plugins.length;m++)i.push(m<a?{state:n,n:r.length}:{state:this,n:0})}r.push(d),n=n.applyInner(d),o=!0}i&&(i[a]={state:n,n:r.length})}}if(!o)return{state:n,transactions:r}}};Dt.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var r=new Dt(this.config),n=this.config.fields,i=0;i<n.length;i++){var o=n[i];r[o.name]=o.apply(t,this[o.name],this,r)}for(var a=0;a<To.length;a++)To[a](this,t,r);return r};Ua.tr.get=function(){return new u2(this)};Dt.create=function(t){for(var r=new s0(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new Dt(r),i=0;i<r.fields.length;i++)n[r.fields[i].name]=r.fields[i].init(t,n);return n};Dt.prototype.reconfigure=function(t){for(var r=new s0(this.schema,t.plugins),n=r.fields,i=new Dt(r),o=0;o<n.length;o++){var a=n[o].name;i[a]=this.hasOwnProperty(a)?this[a]:n[o].init(t,i)}return i};Dt.prototype.toJSON=function(t){var r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(function(a){return a.toJSON()})),t&&typeof t=="object")for(var n in t){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");var i=t[n],o=i.spec.state;o&&o.toJSON&&(r[n]=o.toJSON.call(i,this[i.key]))}return r};Dt.fromJSON=function(t,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var i=new s0(t.schema,t.plugins),o=new Dt(i);return i.fields.forEach(function(a){if(a.name=="doc")o.doc=Pe.fromJSON(t.schema,r.doc);else if(a.name=="selection")o.selection=Oe.fromJSON(o.doc,r.selection);else if(a.name=="storedMarks")r.storedMarks&&(o.storedMarks=r.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var s in n){var u=n[s],h=u.spec.state;if(u.key==a.name&&h&&h.fromJSON&&Object.prototype.hasOwnProperty.call(r,s)){o[a.name]=h.fromJSON.call(u,t,r[s],o);return}}o[a.name]=a.init(t,o)}}),o};Dt.addApplyListener=function(t){To.push(t)};Dt.removeApplyListener=function(t){var r=To.indexOf(t);r>-1&&To.splice(r,1)};Object.defineProperties(Dt.prototype,Ua);var To=[];function Bh(e,t,r){for(var n in e){var i=e[n];i instanceof Function?i=i.bind(t):n=="handleDOMEvents"&&(i=Bh(i,t,{})),r[n]=i}return r}var qt=function(t){this.props={},t.props&&Bh(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:Rh("plugin")};qt.prototype.getState=function(t){return t[this.key]};var l0=Object.create(null);function Rh(e){return e in l0?e+"$"+ ++l0[e]:(l0[e]=0,e+"$")}var yr=function(t){t===void 0&&(t="key"),this.key=Rh(t)};yr.prototype.get=function(t){return t.config.pluginsByKey[this.key]};yr.prototype.getState=function(t){return t[this.key]};function u0(e,t){return e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function Ih(e,t,r){var n=e.selection,i=n.$cursor;if(!i||(r?!r.endOfTextblock("backward",e):i.parentOffset>0))return!1;var o=Ph(i);if(!o){var a=i.blockRange(),s=a&&Ii(a);return s==null?!1:(t&&t(e.tr.lift(a,s).scrollIntoView()),!0)}var u=o.nodeBefore;if(!u.type.spec.isolating&&Wh(e,o,t))return!0;if(i.parent.content.size==0&&(Pi(u,"end")||_e.isSelectable(u))){var h=n0(e.doc,i.before(),i.after(),ue.empty);if(h.slice.size<h.to-h.from){if(t){var d=e.tr.step(h);d.setSelection(Pi(u,"end")?Oe.findFrom(d.doc.resolve(d.mapping.map(o.pos,-1)),-1):_e.create(d.doc,o.pos-u.nodeSize)),t(d.scrollIntoView())}return!0}}return u.isAtom&&o.depth==i.depth-1?(t&&t(e.tr.delete(o.pos-u.nodeSize,o.pos).scrollIntoView()),!0):!1}function Pi(e,t,r){for(;e;e=t=="start"?e.firstChild:e.lastChild){if(e.isTextblock)return!0;if(r&&e.childCount!=1)return!1}return!1}function Fh(e,t,r){var n=e.selection,i=n.$head,o=n.empty,a=i;if(!o)return!1;if(i.parent.isTextblock){if(r?!r.endOfTextblock("backward",e):i.parentOffset>0)return!1;a=Ph(i)}var s=a&&a.nodeBefore;return!s||!_e.isSelectable(s)?!1:(t&&t(e.tr.setSelection(_e.create(e.doc,a.pos-s.nodeSize)).scrollIntoView()),!0)}function Ph(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Lh(e,t,r){var n=e.selection,i=n.$cursor;if(!i||(r?!r.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size))return!1;var o=Hh(i);if(!o)return!1;var a=o.nodeAfter;if(Wh(e,o,t))return!0;if(i.parent.content.size==0&&(Pi(a,"start")||_e.isSelectable(a))){var s=n0(e.doc,i.before(),i.after(),ue.empty);if(s.slice.size<s.to-s.from){if(t){var u=e.tr.step(s);u.setSelection(Pi(a,"start")?Oe.findFrom(u.doc.resolve(u.mapping.map(o.pos)),1):_e.create(u.doc,u.mapping.map(o.pos))),t(u.scrollIntoView())}return!0}}return a.isAtom&&o.depth==i.depth-1?(t&&t(e.tr.delete(o.pos,o.pos+a.nodeSize).scrollIntoView()),!0):!1}function qh(e,t,r){var n=e.selection,i=n.$head,o=n.empty,a=i;if(!o)return!1;if(i.parent.isTextblock){if(r?!r.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size)return!1;a=Hh(i)}var s=a&&a.nodeAfter;return!s||!_e.isSelectable(s)?!1:(t&&t(e.tr.setSelection(_e.create(e.doc,a.pos)).scrollIntoView()),!0)}function Hh(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var r=e.node(t);if(e.index(t)+1<r.childCount)return e.doc.resolve(e.after(t+1));if(r.type.spec.isolating)break}return null}function f2(e,t){var r=e.selection,n=r.$from,i=r.$to,o=n.blockRange(i),a=o&&Ii(o);return a==null?!1:(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)}function jh(e,t){var r=e.selection,n=r.$head,i=r.$anchor;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)}function c0(e){for(var t=0;t<e.edgeCount;t++){var r=e.edge(t),n=r.type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Vh(e,t){var r=e.selection,n=r.$head,i=r.$anchor;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;var o=n.node(-1),a=n.indexAfter(-1),s=c0(o.contentMatchAt(a));if(!o.canReplaceWith(a,a,s))return!1;if(t){var u=n.after(),h=e.tr.replaceWith(u,u,s.createAndFill());h.setSelection(Oe.near(h.doc.resolve(u),1)),t(h.scrollIntoView())}return!0}function $h(e,t){var r=e.selection,n=r.$from,i=r.$to;if(r instanceof pn||n.parent.inlineContent||i.parent.inlineContent)return!1;var o=c0(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){var a=(!n.parentOffset&&i.index()<i.parent.childCount?n:i).pos,s=e.tr.insert(a,o.createAndFill());s.setSelection(Re.create(s.doc,a+1)),t(s.scrollIntoView())}return!0}function Gh(e,t){var r=e.selection,n=r.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var i=n.before();if(hn(e.doc,i))return t&&t(e.tr.split(i).scrollIntoView()),!0}var o=n.blockRange(),a=o&&Ii(o);return a==null?!1:(t&&t(e.tr.lift(o,a).scrollIntoView()),!0)}function h2(e,t){var r=e.selection,n=r.$from,i=r.$to;if(e.selection instanceof _e&&e.selection.node.isBlock)return!n.parentOffset||!hn(e.doc,n.pos)?!1:(t&&t(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(t){var o=i.parentOffset==i.parent.content.size,a=e.tr;(e.selection instanceof Re||e.selection instanceof pn)&&a.deleteSelection();var s=n.depth==0?null:c0(n.node(-1).contentMatchAt(n.indexAfter(-1))),u=o&&s?[{type:s}]:null,h=hn(a.doc,a.mapping.map(n.pos),1,u);if(!u&&!h&&hn(a.doc,a.mapping.map(n.pos),1,s&&[{type:s}])&&(u=[{type:s}],h=!0),h&&(a.split(a.mapping.map(n.pos),1,u),!o&&!n.parentOffset&&n.parent.type!=s)){var d=a.mapping.map(n.before()),m=a.doc.resolve(d);n.node(-1).canReplaceWith(m.index(),m.index()+1,s)&&a.setNodeMarkup(a.mapping.map(n.before()),s)}t(a.scrollIntoView())}return!0}function p2(e,t){var r=e.selection,n=r.$from,i=r.to,o,a=n.sharedDepth(i);return a==0?!1:(o=n.before(a),t&&t(e.tr.setSelection(_e.create(e.doc,o))),!0)}function d2(e,t){return t&&t(e.tr.setSelection(new pn(e.doc))),!0}function m2(e,t,r){var n=t.nodeBefore,i=t.nodeAfter,o=t.index();return!n||!i||!n.type.compatibleContent(i.type)?!1:!n.content.size&&t.parent.canReplace(o-1,o)?(r&&r(e.tr.delete(t.pos-n.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(i.isTextblock||wo(e.doc,t.pos))?!1:(r&&r(e.tr.clearIncompatible(t.pos,n.type,n.contentMatchAt(n.childCount)).join(t.pos).scrollIntoView()),!0)}function Wh(e,t,r){var n=t.nodeBefore,i=t.nodeAfter,o,a;if(n.type.spec.isolating||i.type.spec.isolating)return!1;if(m2(e,t,r))return!0;var s=t.parent.canReplace(t.index(),t.index()+1);if(s&&(o=(a=n.contentMatchAt(n.childCount)).findWrapping(i.type))&&a.matchType(o[0]||i.type).validEnd){if(r){for(var u=t.pos+i.nodeSize,h=X.empty,d=o.length-1;d>=0;d--)h=X.from(o[d].create(null,h));h=X.from(n.copy(h));var m=e.tr.step(new Ut(t.pos-1,u,t.pos,u,new ue(h,1,0),o.length,!0)),y=u+2*o.length;wo(m.doc,y)&&m.join(y),r(m.scrollIntoView())}return!0}var k=Oe.findFrom(t,1),A=k&&k.$from.blockRange(k.$to),C=A&&Ii(A);if(C!=null&&C>=t.depth)return r&&r(e.tr.lift(A,C).scrollIntoView()),!0;if(s&&Pi(i,"start",!0)&&Pi(n,"end")){for(var D=n,N=[];N.push(D),!D.isTextblock;)D=D.lastChild;for(var T=i,I=1;!T.isTextblock;T=T.firstChild)I++;if(D.canReplace(D.childCount,D.childCount,T.content)){if(r){for(var O=X.empty,H=N.length-1;H>=0;H--)O=X.from(N[H].copy(O));var L=e.tr.step(new Ut(t.pos-N.length,t.pos+i.nodeSize,t.pos+I,t.pos+i.nodeSize-I,new ue(O,N.length,0),0,!0));r(L.scrollIntoView())}return!0}}return!1}function Uh(e){return function(t,r){for(var n=t.selection,i=e<0?n.$from:n.$to,o=i.depth;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(r&&r(t.tr.setSelection(Re.create(t.doc,e<0?i.start(o):i.end(o)))),!0):!1}}var Kh=Uh(-1),Jh=Uh(1);function v2(e,t){return function(r,n){var i=r.selection,o=i.$from,a=i.$to,s=o.blockRange(a),u=s&&e0(s,e,t);return u?(n&&n(r.tr.wrap(s,u).scrollIntoView()),!0):!1}}function Xh(e,t){return function(r,n){var i=r.selection,o=i.from,a=i.to,s=!1;return r.doc.nodesBetween(o,a,function(u,h){if(s)return!1;if(!(!u.isTextblock||u.hasMarkup(e,t)))if(u.type==e)s=!0;else{var d=r.doc.resolve(h),m=d.index();s=d.parent.canReplaceWith(m,m+1,e)}}),s?(n&&n(r.tr.setBlockType(o,a,e,t).scrollIntoView()),!0):!1}}function f0(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(r,n,i){for(var o=0;o<e.length;o++)if(e[o](r,n,i))return!0;return!1}}var h0=f0(u0,Ih,Fh),Yh=f0(u0,Lh,qh),Nn={Enter:f0(jh,$h,Gh,h2),"Mod-Enter":Vh,Backspace:h0,"Mod-Backspace":h0,"Shift-Backspace":h0,Delete:Yh,"Mod-Delete":Yh,"Mod-a":d2},g2={"Ctrl-h":Nn.Backspace,"Alt-Backspace":Nn["Mod-Backspace"],"Ctrl-d":Nn.Delete,"Ctrl-Alt-Backspace":Nn["Mod-Delete"],"Alt-Delete":Nn["Mod-Delete"],"Alt-d":Nn["Mod-Delete"],"Ctrl-a":Kh,"Ctrl-e":Jh};for(var Zh in Nn)g2[Zh]=Nn[Zh];typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os!="undefined"&&os.platform()=="darwin";function y2(e,t){return function(r,n){var i=r.selection,o=i.$from,a=i.$to,s=o.blockRange(a),u=!1,h=s;if(!s)return!1;if(s.depth>=2&&o.node(s.depth-1).type.compatibleContent(e)&&s.startIndex==0){if(o.index(s.depth-1)==0)return!1;var d=r.doc.resolve(s.start-2);h=new bo(d,d,s.depth),s.endIndex<s.parent.childCount&&(s=new bo(o,r.doc.resolve(a.end(s.depth)),s.depth)),u=!0}var m=e0(h,e,t,s);return m?(n&&n(b2(r.tr,s,m,u,e).scrollIntoView()),!0):!1}}function b2(e,t,r,n,i){for(var o=X.empty,a=r.length-1;a>=0;a--)o=X.from(r[a].type.create(r[a].attrs,o));e.step(new Ut(t.start-(n?2:0),t.end,t.start,t.end,new ue(o,0,0),r.length,!0));for(var s=0,u=0;u<r.length;u++)r[u].type==i&&(s=u+1);for(var h=r.length-s,d=t.start+r.length-(n?2:0),m=t.parent,y=t.startIndex,k=t.endIndex,A=!0;y<k;y++,A=!1)!A&&hn(e.doc,d,h)&&(e.split(d,h),d+=2*h),d+=m.child(y).nodeSize;return e}function x2(e){return function(t,r){var n=t.selection,i=n.$from,o=n.$to,a=i.blockRange(o,function(s){return s.childCount&&s.firstChild.type==e});return a?r?i.node(a.depth-1).type==e?w2(t,r,e,a):k2(t,r,a):!0:!1}}function w2(e,t,r,n){var i=e.tr,o=n.end,a=n.$to.end(n.depth);return o<a&&(i.step(new Ut(o-1,a,o,a,new ue(X.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new bo(i.doc.resolve(n.$from.pos),i.doc.resolve(a),n.depth)),t(i.lift(n,Ii(n)).scrollIntoView()),!0}function k2(e,t,r){for(var n=e.tr,i=r.parent,o=r.end,a=r.endIndex-1,s=r.startIndex;a>s;a--)o-=i.child(a).nodeSize,n.delete(o-1,o+1);var u=n.doc.resolve(r.start),h=u.nodeAfter;if(n.mapping.map(r.end)!=r.start+u.nodeAfter.nodeSize)return!1;var d=r.startIndex==0,m=r.endIndex==i.childCount,y=u.node(-1),k=u.index(-1);if(!y.canReplace(k+(d?0:1),k+1,h.content.append(m?X.empty:X.from(i))))return!1;var A=u.pos,C=A+h.nodeSize;return n.step(new Ut(A-(d?1:0),C+(m?1:0),A+1,C-1,new ue((d?X.empty:X.from(i.copy(X.empty))).append(m?X.empty:X.from(i.copy(X.empty))),d?0:1,m?0:1),d?0:1)),t(n.scrollIntoView()),!0}function S2(e){return function(t,r){var n=t.selection,i=n.$from,o=n.$to,a=i.blockRange(o,function(C){return C.childCount&&C.firstChild.type==e});if(!a)return!1;var s=a.startIndex;if(s==0)return!1;var u=a.parent,h=u.child(s-1);if(h.type!=e)return!1;if(r){var d=h.lastChild&&h.lastChild.type==u.type,m=X.from(d?e.create():null),y=new ue(X.from(e.create(null,X.from(u.type.create(null,m)))),d?3:1,0),k=a.start,A=a.end;r(t.tr.step(new Ut(k-(d?3:1),A,k,A,y,1,!0)).scrollIntoView())}return!0}}var re={};if(typeof navigator!="undefined"&&typeof document!="undefined"){var p0=/Edge\/(\d+)/.exec(navigator.userAgent),Qh=/MSIE \d/.test(navigator.userAgent),d0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),m0=re.ie=!!(Qh||d0||p0);re.ie_version=Qh?document.documentMode||6:d0?+d0[1]:p0?+p0[1]:null,re.gecko=!m0&&/gecko\/(\d+)/i.test(navigator.userAgent),re.gecko_version=re.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var v0=!m0&&/Chrome\/(\d+)/.exec(navigator.userAgent);re.chrome=!!v0,re.chrome_version=v0&&+v0[1],re.safari=!m0&&/Apple Computer/.test(navigator.vendor),re.ios=re.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),re.mac=re.ios||/Mac/.test(navigator.platform),re.android=/Android \d/.test(navigator.userAgent),re.webkit="webkitFontSmoothing"in document.documentElement.style,re.webkit_version=re.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var lr=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},g0=function(e){var t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t},ep=null,dn=function(e,t,r){var n=ep||(ep=document.createRange());return n.setEnd(e,r==null?e.nodeValue.length:r),n.setStart(e,t||0),n},Eo=function(e,t,r,n){return r&&(tp(e,t,r,n,-1)||tp(e,t,r,n,1))},A2=/^(img|br|input|textarea|hr)$/i;function tp(e,t,r,n,i){for(;;){if(e==r&&t==n)return!0;if(t==(i<0?0:$r(e))){var o=e.parentNode;if(!o||o.nodeType!=1||C2(e)||A2.test(e.nodeName)||e.contentEditable=="false")return!1;t=lr(e)+(i<0?0:1),e=o}else if(e.nodeType==1){if(e=e.childNodes[t+(i<0?-1:0)],e.contentEditable=="false")return!1;t=i<0?$r(e):0}else return!1}}function $r(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function M2(e,t,r){for(var n=t==0,i=t==$r(e);n||i;){if(e==r)return!0;var o=lr(e);if(e=e.parentNode,!e)return!1;n=n&&o==0,i=i&&o==$r(e)}}function C2(e){for(var t,r=e;r&&!(t=r.pmViewDesc);r=r.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var y0=function(e){var t=e.isCollapsed;return t&&re.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function Li(e,t){var r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=e,r.key=r.code=t,r}function T2(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Dn(e,t){return typeof e=="number"?e:e[t]}function E2(e){var t=e.getBoundingClientRect(),r=t.width/e.offsetWidth||1,n=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*r,top:t.top,bottom:t.top+e.clientHeight*n}}function rp(e,t,r){for(var n=e.someProp("scrollThreshold")||0,i=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument,a=r||e.dom;a;a=g0(a))if(a.nodeType==1){var s=a==o.body||a.nodeType!=1,u=s?T2(o):E2(a),h=0,d=0;if(t.top<u.top+Dn(n,"top")?d=-(u.top-t.top+Dn(i,"top")):t.bottom>u.bottom-Dn(n,"bottom")&&(d=t.bottom-u.bottom+Dn(i,"bottom")),t.left<u.left+Dn(n,"left")?h=-(u.left-t.left+Dn(i,"left")):t.right>u.right-Dn(n,"right")&&(h=t.right-u.right+Dn(i,"right")),h||d)if(s)o.defaultView.scrollBy(h,d);else{var m=a.scrollLeft,y=a.scrollTop;d&&(a.scrollTop+=d),h&&(a.scrollLeft+=h);var k=a.scrollLeft-m,A=a.scrollTop-y;t={left:t.left-k,top:t.top-A,right:t.right-k,bottom:t.bottom-A}}if(s)break}}function O2(e){for(var t=e.dom.getBoundingClientRect(),r=Math.max(0,t.top),n,i,o=(t.left+t.right)/2,a=r+1;a<Math.min(innerHeight,t.bottom);a+=5){var s=e.root.elementFromPoint(o,a);if(!(s==e.dom||!e.dom.contains(s))){var u=s.getBoundingClientRect();if(u.top>=r-20){n=s,i=u.top;break}}}return{refDOM:n,refTop:i,stack:np(e.dom)}}function np(e){for(var t=[],r=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=r);e=g0(e));return t}function _2(e){var t=e.refDOM,r=e.refTop,n=e.stack,i=t?t.getBoundingClientRect().top:0;ip(n,i==0?0:i-r)}function ip(e,t){for(var r=0;r<e.length;r++){var n=e[r],i=n.dom,o=n.top,a=n.left;i.scrollTop!=o+t&&(i.scrollTop=o+t),i.scrollLeft!=a&&(i.scrollLeft=a)}}var qi=null;function N2(e){if(e.setActive)return e.setActive();if(qi)return e.focus(qi);var t=np(e);e.focus(qi==null?{get preventScroll(){return qi={preventScroll:!0},!0}}:void 0),qi||(qi=!1,ip(t,0))}function op(e,t){for(var r,n=2e8,i,o=0,a=t.top,s=t.top,u=e.firstChild,h=0;u;u=u.nextSibling,h++){var d=void 0;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=dn(u).getClientRects();else continue;for(var m=0;m<d.length;m++){var y=d[m];if(y.top<=a&&y.bottom>=s){a=Math.max(y.bottom,a),s=Math.min(y.top,s);var k=y.left>t.left?y.left-t.left:y.right<t.left?t.left-y.right:0;if(k<n){r=u,n=k,i=k&&r.nodeType==3?{left:y.right<t.left?y.right:y.left,top:t.top}:t,u.nodeType==1&&k&&(o=h+(t.left>=(y.left+y.right)/2?1:0));continue}}!r&&(t.left>=y.right&&t.top>=y.top||t.left>=y.left&&t.top>=y.bottom)&&(o=h+1)}}return r&&r.nodeType==3?D2(r,i):!r||n&&r.nodeType==1?{node:e,offset:o}:op(r,i)}function D2(e,t){for(var r=e.nodeValue.length,n=document.createRange(),i=0;i<r;i++){n.setEnd(e,i+1),n.setStart(e,i);var o=zn(n,1);if(o.top!=o.bottom&&b0(t,o))return{node:e,offset:i+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function b0(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function z2(e,t){var r=e.parentNode;return r&&/^li$/i.test(r.nodeName)&&t.left<e.getBoundingClientRect().left?r:e}function B2(e,t,r){var n=op(t,r),i=n.node,o=n.offset,a=-1;if(i.nodeType==1&&!i.firstChild){var s=i.getBoundingClientRect();a=s.left!=s.right&&r.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(i,o,a)}function R2(e,t,r,n){for(var i=-1,o=t;o!=e.dom;){var a=e.docView.nearestDesc(o,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>n.left||s.top>n.top)i=a.posBefore;else if(s.right<n.left||s.bottom<n.top)i=a.posAfter;else break}o=a.dom.parentNode}return i>-1?i:e.docView.posFromDOM(t,r)}function ap(e,t,r){var n=e.childNodes.length;if(n&&r.top<r.bottom)for(var i=Math.max(0,Math.min(n-1,Math.floor(n*(t.top-r.top)/(r.bottom-r.top))-2)),o=i;;){var a=e.childNodes[o];if(a.nodeType==1)for(var s=a.getClientRects(),u=0;u<s.length;u++){var h=s[u];if(b0(t,h))return ap(a,t,h)}if((o=(o+1)%n)==i)break}return e}function I2(e,t){var r,n,i=e.dom.ownerDocument,o,a;if(i.caretPositionFromPoint)try{var s=i.caretPositionFromPoint(t.left,t.top);s&&(r=s,o=r.offsetNode,a=r.offset)}catch{}if(!o&&i.caretRangeFromPoint){var u=i.caretRangeFromPoint(t.left,t.top);u&&(n=u,o=n.startContainer,a=n.startOffset)}var h=(e.root.elementFromPoint?e.root:i).elementFromPoint(t.left,t.top+1),d;if(!h||!e.dom.contains(h.nodeType!=1?h.parentNode:h)){var m=e.dom.getBoundingClientRect();if(!b0(t,m)||(h=ap(e.dom,t,m),!h))return null}if(re.safari)for(var y=h;o&&y;y=g0(y))y.draggable&&(o=a=null);if(h=z2(h,t),o){if(re.gecko&&o.nodeType==1&&(a=Math.min(a,o.childNodes.length),a<o.childNodes.length)){var k=o.childNodes[a],A;k.nodeName=="IMG"&&(A=k.getBoundingClientRect()).right<=t.left&&A.bottom>t.top&&a++}o==e.dom&&a==o.childNodes.length-1&&o.lastChild.nodeType==1&&t.top>o.lastChild.getBoundingClientRect().bottom?d=e.state.doc.content.size:(a==0||o.nodeType!=1||o.childNodes[a-1].nodeName!="BR")&&(d=R2(e,o,a,t))}d==null&&(d=B2(e,h,t));var C=e.docView.nearestDesc(h,!0);return{pos:d,inside:C?C.posAtStart-C.border:-1}}function zn(e,t){var r=e.getClientRects();return r.length?r[t<0?0:r.length-1]:e.getBoundingClientRect()}var F2=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function sp(e,t,r){var n=e.docView.domFromPos(t,r<0?-1:1),i=n.node,o=n.offset,a=re.webkit||re.gecko;if(i.nodeType==3)if(a&&(F2.test(i.nodeValue)||(r<0?!o:o==i.nodeValue.length))){var s=zn(dn(i,o,o),r);if(re.gecko&&o&&/\s/.test(i.nodeValue[o-1])&&o<i.nodeValue.length){var u=zn(dn(i,o-1,o-1),-1);if(u.top==s.top){var h=zn(dn(i,o,o+1),-1);if(h.top!=s.top)return Oo(h,h.left<u.left)}}return s}else{var d=o,m=o,y=r<0?1:-1;return r<0&&!o?(m++,y=-1):r>=0&&o==i.nodeValue.length?(d--,y=1):r<0?d--:m++,Oo(zn(dn(i,d,m),y),y<0)}if(!e.state.doc.resolve(t).parent.inlineContent){if(o&&(r<0||o==$r(i))){var k=i.childNodes[o-1];if(k.nodeType==1)return x0(k.getBoundingClientRect(),!1)}if(o<$r(i)){var A=i.childNodes[o];if(A.nodeType==1)return x0(A.getBoundingClientRect(),!0)}return x0(i.getBoundingClientRect(),r>=0)}if(o&&(r<0||o==$r(i))){var C=i.childNodes[o-1],D=C.nodeType==3?dn(C,$r(C)-(a?0:1)):C.nodeType==1&&(C.nodeName!="BR"||!C.nextSibling)?C:null;if(D)return Oo(zn(D,1),!1)}if(o<$r(i)){for(var N=i.childNodes[o];N.pmViewDesc&&N.pmViewDesc.ignoreForCoords;)N=N.nextSibling;var T=N?N.nodeType==3?dn(N,0,a?0:1):N.nodeType==1?N:null:null;if(T)return Oo(zn(T,-1),!0)}return Oo(zn(i.nodeType==3?dn(i):i,-r),r>=0)}function Oo(e,t){if(e.width==0)return e;var r=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:r,right:r}}function x0(e,t){if(e.height==0)return e;var r=t?e.top:e.bottom;return{top:r,bottom:r,left:e.left,right:e.right}}function lp(e,t,r){var n=e.state,i=e.root.activeElement;n!=t&&e.updateState(t),i!=e.dom&&e.focus();try{return r()}finally{n!=t&&e.updateState(n),i!=e.dom&&i&&i.focus()}}function P2(e,t,r){var n=t.selection,i=r=="up"?n.$from:n.$to;return lp(e,t,function(){for(var o=e.docView.domFromPos(i.pos,r=="up"?-1:1),a=o.node;;){var s=e.docView.nearestDesc(a,!0);if(!s)break;if(s.node.isBlock){a=s.dom;break}a=s.dom.parentNode}for(var u=sp(e,i.pos,1),h=a.firstChild;h;h=h.nextSibling){var d=void 0;if(h.nodeType==1)d=h.getClientRects();else if(h.nodeType==3)d=dn(h,0,h.nodeValue.length).getClientRects();else continue;for(var m=0;m<d.length;m++){var y=d[m];if(y.bottom>y.top+1&&(r=="up"?u.top-y.top>(y.bottom-u.top)*2:y.bottom-u.bottom>(u.bottom-y.top)*2))return!1}}return!0})}var L2=/[\u0590-\u08ac]/;function q2(e,t,r){var n=t.selection,i=n.$head;if(!i.parent.isTextblock)return!1;var o=i.parentOffset,a=!o,s=o==i.parent.content.size,u=e.root.getSelection();return!L2.test(i.parent.textContent)||!u.modify?r=="left"||r=="backward"?a:s:lp(e,t,function(){var h=u.getRangeAt(0),d=u.focusNode,m=u.focusOffset,y=u.caretBidiLevel;u.modify("move",r,"character");var k=i.depth?e.docView.domAfterPos(i.before()):e.dom,A=!k.contains(u.focusNode.nodeType==1?u.focusNode:u.focusNode.parentNode)||d==u.focusNode&&m==u.focusOffset;return u.removeAllRanges(),u.addRange(h),y!=null&&(u.caretBidiLevel=y),A})}var up=null,cp=null,fp=!1;function H2(e,t,r){return up==t&&cp==r?fp:(up=t,cp=r,fp=r=="up"||r=="down"?P2(e,t,r):q2(e,t,r))}var Nr=0,hp=1,_o=2,mn=3,Je=function(t,r,n,i){this.parent=t,this.children=r,this.dom=n,n.pmViewDesc=this,this.contentDOM=i,this.dirty=Nr},Gr={size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};Je.prototype.matchesWidget=function(){return!1};Je.prototype.matchesMark=function(){return!1};Je.prototype.matchesNode=function(){return!1};Je.prototype.matchesHack=function(t){return!1};Je.prototype.parseRule=function(){return null};Je.prototype.stopEvent=function(){return!1};Gr.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e};Gr.border.get=function(){return 0};Je.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()};Je.prototype.posBeforeChild=function(t){for(var r=0,n=this.posAtStart;r<this.children.length;r++){var i=this.children[r];if(i==t)return n;n+=i.size}};Gr.posBefore.get=function(){return this.parent.posBeforeChild(this)};Gr.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0};Gr.posAfter.get=function(){return this.posBefore+this.size};Gr.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border};Je.prototype.localPosFromDOM=function(t,r,n){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(n<0){var i,o;if(t==this.contentDOM)i=t.childNodes[r-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{var a,s;if(t==this.contentDOM)a=t.childNodes[r];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;a=t.nextSibling}for(;a&&!((s=a.pmViewDesc)&&s.parent==this);)a=a.nextSibling;return a?this.posBeforeChild(s):this.posAtEnd}var u;if(t==this.dom&&this.contentDOM)u=r>lr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))u=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(var h=t;;h=h.parentNode){if(h==this.dom){u=!1;break}if(h.parentNode.firstChild!=h)break}if(u==null&&r==t.childNodes.length)for(var d=t;;d=d.parentNode){if(d==this.dom){u=!0;break}if(d.parentNode.lastChild!=d)break}}return(u==null?n>0:u)?this.posAtEnd:this.posAtStart};Je.prototype.nearestDesc=function(t,r){for(var n=!0,i=t;i;i=i.parentNode){var o=this.getDesc(i);if(o&&(!r||o.node))if(n&&o.nodeDOM&&!(o.nodeDOM.nodeType==1?o.nodeDOM.contains(t.nodeType==1?t:t.parentNode):o.nodeDOM==t))n=!1;else return o}};Je.prototype.getDesc=function(t){for(var r=t.pmViewDesc,n=r;n;n=n.parent)if(n==this)return r};Je.prototype.posFromDOM=function(t,r,n){for(var i=t;i;i=i.parentNode){var o=this.getDesc(i);if(o)return o.localPosFromDOM(t,r,n)}return-1};Je.prototype.descAt=function(t){for(var r=0,n=0;r<this.children.length;r++){var i=this.children[r],o=n+i.size;if(n==t&&o!=n){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(t<o)return i.descAt(t-n-i.border);n=o}};Je.prototype.domFromPos=function(t,r){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,i=0,o=0;n<this.children.length;n++){var a=this.children[n],s=o+a.size;if(s>t||a instanceof vp){i=t-o;break}o=s}if(i)return this.children[n].domFromPos(i-this.children[n].border,r);for(var u=void 0;n&&!(u=this.children[n-1]).size&&u instanceof pp&&u.widget.type.side>=0;n--);if(r<=0){for(var h,d=!0;h=n?this.children[n-1]:null,!(!h||h.dom.parentNode==this.contentDOM);n--,d=!1);return h&&r&&d&&!h.border&&!h.domAtom?h.domFromPos(h.size,r):{node:this.contentDOM,offset:h?lr(h.dom)+1:0}}else{for(var m,y=!0;m=n<this.children.length?this.children[n]:null,!(!m||m.dom.parentNode==this.contentDOM);n++,y=!1);return m&&y&&!m.border&&!m.domAtom?m.domFromPos(0,r):{node:this.contentDOM,offset:m?lr(m.dom):this.contentDOM.childNodes.length}}};Je.prototype.parseRange=function(t,r,n){if(n===void 0&&(n=0),this.children.length==0)return{node:this.contentDOM,from:t,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var i=-1,o=-1,a=n,s=0;;s++){var u=this.children[s],h=a+u.size;if(i==-1&&t<=h){var d=a+u.border;if(t>=d&&r<=h-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(t,r,d);t=a;for(var m=s;m>0;m--){var y=this.children[m-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){i=lr(y.dom)+1;break}t-=y.size}i==-1&&(i=0)}if(i>-1&&(h>r||s==this.children.length-1)){r=h;for(var k=s+1;k<this.children.length;k++){var A=this.children[k];if(A.size&&A.dom.parentNode==this.contentDOM&&!A.emptyChildAt(-1)){o=lr(A.dom);break}r+=A.size}o==-1&&(o=this.contentDOM.childNodes.length);break}a=h}return{node:this.contentDOM,from:t,to:r,fromOffset:i,toOffset:o}};Je.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var r=this.children[t<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(t)};Je.prototype.domAfterPos=function(t){var r=this.domFromPos(t,0),n=r.node,i=r.offset;if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[i]};Je.prototype.setSelection=function(t,r,n,i){for(var o=Math.min(t,r),a=Math.max(t,r),s=0,u=0;s<this.children.length;s++){var h=this.children[s],d=u+h.size;if(o>u&&a<d)return h.setSelection(t-u-h.border,r-u-h.border,n,i);u=d}var m=this.domFromPos(t,t?-1:1),y=r==t?m:this.domFromPos(r,r?-1:1),k=n.getSelection(),A=!1;if((re.gecko||re.safari)&&t==r){var C=m.node,D=m.offset;if(C.nodeType==3){if(A=D&&C.nodeValue[D-1]==`
`,A&&D==C.nodeValue.length)for(var N=C,T=void 0;N;N=N.parentNode){if(T=N.nextSibling){T.nodeName=="BR"&&(m=y={node:T.parentNode,offset:lr(T)+1});break}var I=N.pmViewDesc;if(I&&I.node&&I.node.isBlock)break}}else{var O=C.childNodes[D-1];A=O&&(O.nodeName=="BR"||O.contentEditable=="false")}}if(re.gecko&&k.focusNode&&k.focusNode!=y.node&&k.focusNode.nodeType==1){var H=k.focusNode.childNodes[k.focusOffset];H&&H.contentEditable=="false"&&(i=!0)}if(!(!(i||A&&re.safari)&&Eo(m.node,m.offset,k.anchorNode,k.anchorOffset)&&Eo(y.node,y.offset,k.focusNode,k.focusOffset))){var L=!1;if((k.extend||t==r)&&!A){k.collapse(m.node,m.offset);try{t!=r&&k.extend(y.node,y.offset),L=!0}catch(K){if(!(K instanceof DOMException))throw K}}if(!L){if(t>r){var G=m;m=y,y=G}var Z=document.createRange();Z.setEnd(y.node,y.offset),Z.setStart(m.node,m.offset),k.removeAllRanges(),k.addRange(Z)}}};Je.prototype.ignoreMutation=function(t){return!this.contentDOM&&t.type!="selection"};Gr.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)};Je.prototype.markDirty=function(t,r){for(var n=0,i=0;i<this.children.length;i++){var o=this.children[i],a=n+o.size;if(n==a?t<=a&&r>=n:t<a&&r>n){var s=n+o.border,u=a-o.border;if(t>=s&&r<=u){this.dirty=t==n||r==a?_o:hp,t==s&&r==u&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=mn:o.markDirty(t-s,r-s);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?_o:mn}n=a}this.dirty=_o};Je.prototype.markParentsDirty=function(){for(var t=1,r=this.parent;r;r=r.parent,t++){var n=t==1?_o:hp;r.dirty<n&&(r.dirty=n)}};Gr.domAtom.get=function(){return!1};Gr.ignoreForCoords.get=function(){return!1};Object.defineProperties(Je.prototype,Gr);var Bn=[],pp=function(e){function t(n,i,o,a){var s,u=i.type.toDOM;if(typeof u=="function"&&(u=u(o,function(){if(!s)return a;if(s.parent)return s.parent.posBeforeChild(s)})),!i.type.spec.raw){if(u.nodeType!=1){var h=document.createElement("span");h.appendChild(u),u=h}u.contentEditable=!1,u.classList.add("ProseMirror-widget")}e.call(this,n,Bn,u,null),this.widget=i,s=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={domAtom:{configurable:!0}};return t.prototype.matchesWidget=function(i){return this.dirty==Nr&&i.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(i){var o=this.widget.spec.stopEvent;return o?o(i):!1},t.prototype.ignoreMutation=function(i){return i.type!="selection"||this.widget.spec.ignoreSelection},t.prototype.destroy=function(){this.widget.type.destroy(this.dom),e.prototype.destroy.call(this)},r.domAtom.get=function(){return!0},Object.defineProperties(t.prototype,r),t}(Je),j2=function(e){function t(n,i,o,a){e.call(this,n,Bn,i,null),this.textDOM=o,this.text=a}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={size:{configurable:!0}};return r.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(i,o){return i!=this.textDOM?this.posAtStart+(o?this.size:0):this.posAtStart+o},t.prototype.domFromPos=function(i){return{node:this.textDOM,offset:i}},t.prototype.ignoreMutation=function(i){return i.type==="characterData"&&i.target.nodeValue==i.oldValue},Object.defineProperties(t.prototype,r),t}(Je),Ka=function(e){function t(r,n,i,o){e.call(this,r,[],i,o),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(n,i,o,a){var s=a.nodeViews[i.type.name],u=s&&s(i,a,o);return(!u||!u.dom)&&(u=bt.renderSpec(document,i.type.spec.toDOM(i,o))),new t(n,i,u.dom,u.contentDOM||u.dom)},t.prototype.parseRule=function(){return this.dirty&mn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(n){return this.dirty!=mn&&this.mark.eq(n)},t.prototype.markDirty=function(n,i){if(e.prototype.markDirty.call(this,n,i),this.dirty!=Nr){for(var o=this.parent;!o.node;)o=o.parent;o.dirty<this.dirty&&(o.dirty=this.dirty),this.dirty=Nr}},t.prototype.slice=function(n,i,o){var a=t.create(this.parent,this.mark,!0,o),s=this.children,u=this.size;i<u&&(s=S0(s,i,u,o)),n>0&&(s=S0(s,0,n,o));for(var h=0;h<s.length;h++)s[h].parent=a;return a.children=s,a},t}(Je),No=function(e){function t(n,i,o,a,s,u,h,d,m){e.call(this,n,i.isLeaf?Bn:[],s,u),this.nodeDOM=h,this.node=i,this.outerDeco=o,this.innerDeco=a,u&&this.updateChildren(d,m)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return t.create=function(i,o,a,s,u,h){var d,m=u.nodeViews[o.type.name],y,k=m&&m(o,u,function(){if(!y)return h;if(y.parent)return y.parent.posBeforeChild(y)},a,s),A=k&&k.dom,C=k&&k.contentDOM;if(o.isText){if(!A)A=document.createTextNode(o.text);else if(A.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else A||(d=bt.renderSpec(document,o.type.spec.toDOM(o)),A=d.dom,C=d.contentDOM);!C&&!o.isText&&A.nodeName!="BR"&&(A.hasAttribute("contenteditable")||(A.contentEditable=!1),o.type.spec.draggable&&(A.draggable=!0));var D=A;return A=bp(A,a,o),k?y=new V2(i,o,a,s,A,C,D,k,u,h+1):o.isText?new mp(i,o,a,s,A,D,u):new t(i,o,a,s,A,C,D,u,h+1)},t.prototype.parseRule=function(){var i=this;if(this.node.type.spec.reparseInView)return null;var o={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(o.preserveWhitespace="full"),!this.contentDOM)o.getContent=function(){return i.node.content};else if(!this.contentLost)o.contentElement=this.contentDOM;else{for(var a=this.children.length-1;a>=0;a--){var s=this.children[a];if(this.dom.contains(s.dom.parentNode)){o.contentElement=s.dom.parentNode;break}}o.contentElement||(o.getContent=function(){return X.empty})}return o},t.prototype.matchesNode=function(i,o,a){return this.dirty==Nr&&i.eq(this.node)&&k0(o,this.outerDeco)&&a.eq(this.innerDeco)},r.size.get=function(){return this.node.nodeSize},r.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(i,o){var a=this,s=this.node.inlineContent,u=o,h=i.composing&&this.localCompositionInfo(i,o),d=h&&h.pos>-1?h:null,m=h&&h.pos<0,y=new br(this,d&&d.node);U2(this.node,this.innerDeco,function(k,A,C){k.spec.marks?y.syncToMarks(k.spec.marks,s,i):k.type.side>=0&&!C&&y.syncToMarks(A==a.node.childCount?Fe.none:a.node.child(A).marks,s,i),y.placeWidget(k,i,u)},function(k,A,C,D){y.syncToMarks(k.marks,s,i);var N;y.findNodeMatch(k,A,C,D)||m&&i.state.selection.from>u&&i.state.selection.to<u+k.nodeSize&&(N=y.findIndexWithChild(h.node))>-1&&y.updateNodeAt(k,A,C,N,i)||y.updateNextNode(k,A,C,i,D)||y.addNode(k,A,C,i,u),u+=k.nodeSize}),y.syncToMarks(Bn,s,i),this.node.isTextblock&&y.addTextblockHacks(),y.destroyRest(),(y.changed||this.dirty==_o)&&(d&&this.protectLocalComposition(i,d),gp(this.contentDOM,this.children,i),re.ios&&K2(this.dom))},t.prototype.localCompositionInfo=function(i,o){var a=i.state.selection,s=a.from,u=a.to;if(!(!(i.state.selection instanceof Re)||s<o||u>o+this.node.content.size)){var h=i.root.getSelection(),d=J2(h.focusNode,h.focusOffset);if(!(!d||!this.dom.contains(d.parentNode)))if(this.node.inlineContent){var m=d.nodeValue,y=X2(this.node.content,m,s-o,u-o);return y<0?null:{node:d,pos:y,text:m}}else return{node:d,pos:-1}}},t.prototype.protectLocalComposition=function(i,o){var a=o.node,s=o.pos,u=o.text;if(!this.getDesc(a)){for(var h=a;h.parentNode!=this.contentDOM;h=h.parentNode){for(;h.previousSibling;)h.parentNode.removeChild(h.previousSibling);for(;h.nextSibling;)h.parentNode.removeChild(h.nextSibling);h.pmViewDesc&&(h.pmViewDesc=null)}var d=new j2(this,h,a,u);i.compositionNodes.push(d),this.children=S0(this.children,s,s+u.length,i,d)}},t.prototype.update=function(i,o,a,s){return this.dirty==mn||!i.sameMarkup(this.node)?!1:(this.updateInner(i,o,a,s),!0)},t.prototype.updateInner=function(i,o,a,s){this.updateOuterDeco(o),this.node=i,this.innerDeco=a,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Nr},t.prototype.updateOuterDeco=function(i){if(!k0(i,this.outerDeco)){var o=this.nodeDOM.nodeType!=1,a=this.dom;this.dom=yp(this.dom,this.nodeDOM,w0(this.outerDeco,this.node,o),w0(i,this.node,o)),this.dom!=a&&(a.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=i}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")},r.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(t.prototype,r),t}(Je);function dp(e,t,r,n,i){return bp(n,t,e),new No(null,e,t,r,n,n,n,i,0)}var mp=function(e){function t(n,i,o,a,s,u,h){e.call(this,n,i,o,a,s,null,u,h)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={domAtom:{configurable:!0}};return t.prototype.parseRule=function(){for(var i=this.nodeDOM.parentNode;i&&i!=this.dom&&!i.pmIsDeco;)i=i.parentNode;return{skip:i||!0}},t.prototype.update=function(i,o,a,s){return this.dirty==mn||this.dirty!=Nr&&!this.inParent()||!i.sameMarkup(this.node)?!1:(this.updateOuterDeco(o),(this.dirty!=Nr||i.text!=this.node.text)&&i.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=i.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=i,this.dirty=Nr,!0)},t.prototype.inParent=function(){for(var i=this.parent.contentDOM,o=this.nodeDOM;o;o=o.parentNode)if(o==i)return!0;return!1},t.prototype.domFromPos=function(i){return{node:this.nodeDOM,offset:i}},t.prototype.localPosFromDOM=function(i,o,a){return i==this.nodeDOM?this.posAtStart+Math.min(o,this.node.text.length):e.prototype.localPosFromDOM.call(this,i,o,a)},t.prototype.ignoreMutation=function(i){return i.type!="characterData"&&i.type!="selection"},t.prototype.slice=function(i,o,a){var s=this.node.cut(i,o),u=document.createTextNode(s.text);return new t(this.parent,s,this.outerDeco,this.innerDeco,u,u,a)},t.prototype.markDirty=function(i,o){e.prototype.markDirty.call(this,i,o),this.dom!=this.nodeDOM&&(i==0||o==this.nodeDOM.nodeValue.length)&&(this.dirty=mn)},r.domAtom.get=function(){return!1},Object.defineProperties(t.prototype,r),t}(No),vp=function(e){function t(){e.apply(this,arguments)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={domAtom:{configurable:!0},ignoreForCoords:{configurable:!0}};return t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(i){return this.dirty==Nr&&this.dom.nodeName==i},r.domAtom.get=function(){return!0},r.ignoreForCoords.get=function(){return this.dom.nodeName=="IMG"},Object.defineProperties(t.prototype,r),t}(Je),V2=function(e){function t(r,n,i,o,a,s,u,h,d,m){e.call(this,r,n,i,o,a,s,u,d,m),this.spec=h}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(n,i,o,a){if(this.dirty==mn)return!1;if(this.spec.update){var s=this.spec.update(n,i,o);return s&&this.updateInner(n,i,o,a),s}else return!this.contentDOM&&!n.isLeaf?!1:e.prototype.update.call(this,n,i,o,a)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(n,i,o,a){this.spec.setSelection?this.spec.setSelection(n,i,o):e.prototype.setSelection.call(this,n,i,o,a)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(n){return this.spec.stopEvent?this.spec.stopEvent(n):!1},t.prototype.ignoreMutation=function(n){return this.spec.ignoreMutation?this.spec.ignoreMutation(n):e.prototype.ignoreMutation.call(this,n)},t}(No);function gp(e,t,r){for(var n=e.firstChild,i=!1,o=0;o<t.length;o++){var a=t[o],s=a.dom;if(s.parentNode==e){for(;s!=n;)n=xp(n),i=!0;n=n.nextSibling}else i=!0,e.insertBefore(s,n);if(a instanceof Ka){var u=n?n.previousSibling:e.lastChild;gp(a.contentDOM,a.children,r),n=u?u.nextSibling:e.firstChild}}for(;n;)n=xp(n),i=!0;i&&r.trackWrites==e&&(r.trackWrites=null)}function Do(e){e&&(this.nodeName=e)}Do.prototype=Object.create(null);var ni=[new Do];function w0(e,t,r){if(e.length==0)return ni;for(var n=r?ni[0]:new Do,i=[n],o=0;o<e.length;o++){var a=e[o].type.attrs;if(!!a){a.nodeName&&i.push(n=new Do(a.nodeName));for(var s in a){var u=a[s];u!=null&&(r&&i.length==1&&i.push(n=new Do(t.isInline?"span":"div")),s=="class"?n.class=(n.class?n.class+" ":"")+u:s=="style"?n.style=(n.style?n.style+";":"")+u:s!="nodeName"&&(n[s]=u))}}}return i}function yp(e,t,r,n){if(r==ni&&n==ni)return t;for(var i=t,o=0;o<n.length;o++){var a=n[o],s=r[o];if(o){var u=void 0;s&&s.nodeName==a.nodeName&&i!=e&&(u=i.parentNode)&&u.tagName.toLowerCase()==a.nodeName||(u=document.createElement(a.nodeName),u.pmIsDeco=!0,u.appendChild(i),s=ni[0]),i=u}$2(i,s||ni[0],a)}return i}function $2(e,t,r){for(var n in t)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&e.removeAttribute(n);for(var i in r)i!="class"&&i!="style"&&i!="nodeName"&&r[i]!=t[i]&&e.setAttribute(i,r[i]);if(t.class!=r.class){for(var o=t.class?t.class.split(" ").filter(Boolean):Bn,a=r.class?r.class.split(" ").filter(Boolean):Bn,s=0;s<o.length;s++)a.indexOf(o[s])==-1&&e.classList.remove(o[s]);for(var u=0;u<a.length;u++)o.indexOf(a[u])==-1&&e.classList.add(a[u]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=r.style){if(t.style)for(var h=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,d;d=h.exec(t.style);)e.style.removeProperty(d[1]);r.style&&(e.style.cssText+=r.style)}}function bp(e,t,r){return yp(e,e,ni,w0(t,r,e.nodeType!=1))}function k0(e,t){if(e.length!=t.length)return!1;for(var r=0;r<e.length;r++)if(!e[r].type.eq(t[r].type))return!1;return!0}function xp(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var br=function(t,r){this.top=t,this.lock=r,this.index=0,this.stack=[],this.changed=!1,this.preMatch=G2(t.node.content,t)};br.prototype.destroyBetween=function(t,r){if(t!=r){for(var n=t;n<r;n++)this.top.children[n].destroy();this.top.children.splice(t,r-t),this.changed=!0}};br.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)};br.prototype.syncToMarks=function(t,r,n){for(var i=0,o=this.stack.length>>1,a=Math.min(o,t.length);i<a&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(t[i])&&t[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=Nr,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);for(var s=-1,u=this.index;u<Math.min(this.index+3,this.top.children.length);u++)if(this.top.children[u].matchesMark(t[o])){s=u;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var h=Ka.create(this.top,t[o],r,n);this.top.children.splice(this.index,0,h),this.top=h,this.changed=!0}this.index=0,o++}};br.prototype.findNodeMatch=function(t,r,n,i){var o=-1,a;if(i>=this.preMatch.index&&(a=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&a.matchesNode(t,r,n))o=this.top.children.indexOf(a,this.index);else for(var s=this.index,u=Math.min(this.top.children.length,s+5);s<u;s++){var h=this.top.children[s];if(h.matchesNode(t,r,n)&&!this.preMatch.matched.has(h)){o=s;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)};br.prototype.updateNodeAt=function(t,r,n,i,o){var a=this.top.children[i];return a.update(t,r,n,o)?(this.destroyBetween(this.index,i),this.index=i+1,!0):!1};br.prototype.findIndexWithChild=function(t){for(;;){var r=t.parentNode;if(!r)return-1;if(r==this.top.contentDOM){var n=t.pmViewDesc;if(n){for(var i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==n)return i}return-1}t=r}};br.prototype.updateNextNode=function(t,r,n,i,o){for(var a=this.index;a<this.top.children.length;a++){var s=this.top.children[a];if(s instanceof No){var u=this.preMatch.matched.get(s);if(u!=null&&u!=o)return!1;var h=s.dom,d=this.lock&&(h==this.lock||h.nodeType==1&&h.contains(this.lock.parentNode))&&!(t.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==t.text&&s.dirty!=mn&&k0(r,s.outerDeco));if(!d&&s.update(t,r,n,i))return this.destroyBetween(this.index,a),s.dom!=h&&(this.changed=!0),this.index++,!0;break}}return!1};br.prototype.addNode=function(t,r,n,i,o){this.top.children.splice(this.index++,0,No.create(this.top,t,r,n,i,o)),this.changed=!0};br.prototype.placeWidget=function(t,r,n){var i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(t)&&(t==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{var o=new pp(this.top,t,r,n);this.top.children.splice(this.index++,0,o),this.changed=!0}};br.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof Ka;)t=t.children[t.children.length-1];(!t||!(t instanceof mp)||/\n$/.test(t.node.text))&&((re.safari||re.chrome)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG"),this.addHackNode("BR"))};br.prototype.addHackNode=function(t){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(t))this.index++;else{var r=document.createElement(t);t=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),t=="BR"&&(r.className="ProseMirror-trailingBreak"),this.top.children.splice(this.index++,0,new vp(this.top,Bn,r,null)),this.changed=!0}};function G2(e,t){var r=t,n=r.children.length,i=e.childCount,o=new Map,a=[];e:for(;i>0;){for(var s=void 0;;)if(n){var u=r.children[n-1];if(u instanceof Ka)r=u,n=u.children.length;else{s=u,n--;break}}else{if(r==t)break e;n=r.parent.children.indexOf(r),r=r.parent}var h=s.node;if(!!h){if(h!=e.child(i-1))break;--i,o.set(s,i),a.push(s)}}return{index:i,matched:o,matches:a.reverse()}}function W2(e,t){return e.type.side-t.type.side}function U2(e,t,r,n){var i=t.locals(e),o=0;if(i.length==0){for(var a=0;a<e.childCount;a++){var s=e.child(a);n(s,i,t.forChild(o,s),a),o+=s.nodeSize}return}for(var u=0,h=[],d=null,m=0;;){if(u<i.length&&i[u].to==o){for(var y=i[u++],k=void 0;u<i.length&&i[u].to==o;)(k||(k=[y])).push(i[u++]);if(k){k.sort(W2);for(var A=0;A<k.length;A++)r(k[A],m,!!d)}else r(y,m,!!d)}var C=void 0,D=void 0;if(d)D=-1,C=d,d=null;else if(m<e.childCount)D=m,C=e.child(m++);else break;for(var N=0;N<h.length;N++)h[N].to<=o&&h.splice(N--,1);for(;u<i.length&&i[u].from<=o&&i[u].to>o;)h.push(i[u++]);var T=o+C.nodeSize;if(C.isText){var I=T;u<i.length&&i[u].from<I&&(I=i[u].from);for(var O=0;O<h.length;O++)h[O].to<I&&(I=h[O].to);I<T&&(d=C.cut(I-o),C=C.cut(0,I-o),T=I,D=-1)}var H=h.length?C.isInline&&!C.isLeaf?h.filter(function(L){return!L.inline}):h.slice():Bn;n(C,H,t.forChild(o,C),D),o=T}}function K2(e){if(e.nodeName=="UL"||e.nodeName=="OL"){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function J2(e,t){for(;;){if(e.nodeType==3)return e;if(e.nodeType==1&&t>0){if(e.childNodes.length>t&&e.childNodes[t].nodeType==3)return e.childNodes[t];e=e.childNodes[t-1],t=$r(e)}else if(e.nodeType==1&&t<e.childNodes.length)e=e.childNodes[t],t=0;else return null}}function X2(e,t,r,n){for(var i=0,o=0;i<e.childCount&&o<=n;){var a=e.child(i++),s=o;if(o+=a.nodeSize,!!a.isText){for(var u=a.text;i<e.childCount;){var h=e.child(i++);if(o+=h.nodeSize,!h.isText)break;u+=h.text}if(o>=r){var d=s<n?u.lastIndexOf(t,n-s-1):-1;if(d>=0&&d+t.length+s>=r)return s+d;if(r==n&&u.length>=n+t.length-s&&u.slice(n-s,n-s+t.length)==t)return n}}}return-1}function S0(e,t,r,n,i){for(var o=[],a=0,s=0;a<e.length;a++){var u=e[a],h=s,d=s+=u.size;h>=r||d<=t?o.push(u):(h<t&&o.push(u.slice(0,t-h,n)),i&&(o.push(i),i=null),d>r&&o.push(u.slice(r-h,u.size,n)))}return o}function wp(e,t){var r=e.root.getSelection(),n=e.state.doc;if(!r.focusNode)return null;var i=e.docView.nearestDesc(r.focusNode),o=i&&i.size==0,a=e.docView.posFromDOM(r.focusNode,r.focusOffset);if(a<0)return null;var s=n.resolve(a),u,h;if(y0(r)){for(u=s;i&&!i.node;)i=i.parent;if(i&&i.node.isAtom&&_e.isSelectable(i.node)&&i.parent&&!(i.node.isInline&&M2(r.focusNode,r.focusOffset,i.dom))){var d=i.posBefore;h=new _e(a==d?s:n.resolve(d))}}else{var m=e.docView.posFromDOM(r.anchorNode,r.anchorOffset);if(m<0)return null;u=n.resolve(m)}if(!h){var y=t=="pointer"||e.state.selection.head<s.pos&&!o?1:-1;h=M0(e,u,s,y)}return h}function kp(e){return e.editable?e.hasFocus():C0(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Rn(e,t){var r=e.state.selection;if(Cp(e,r),!!kp(e)){if(!t&&e.mouseDown&&e.mouseDown.allowDefault&&re.chrome){var n=e.root.getSelection(),i=e.domObserver.currentSelection;if(n.anchorNode&&Eo(n.anchorNode,n.anchorOffset,i.anchorNode,i.anchorOffset)){e.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)Z2(e);else{var o=r.anchor,a=r.head,s,u;Sp&&!(r instanceof Re)&&(r.$from.parent.inlineContent||(s=Ap(e,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(u=Ap(e,r.to))),e.docView.setSelection(o,a,e.root,t),Sp&&(s&&Mp(s),u&&Mp(u)),r.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Y2(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}var Sp=re.safari||re.chrome&&re.chrome_version<63;function Ap(e,t){var r=e.docView.domFromPos(t,0),n=r.node,i=r.offset,o=i<n.childNodes.length?n.childNodes[i]:null,a=i?n.childNodes[i-1]:null;if(re.safari&&o&&o.contentEditable=="false")return A0(o);if((!o||o.contentEditable=="false")&&(!a||a.contentEditable=="false")){if(o)return A0(o);if(a)return A0(a)}}function A0(e){return e.contentEditable="true",re.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Mp(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Y2(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var r=e.root.getSelection(),n=r.anchorNode,i=r.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){(r.anchorNode!=n||r.anchorOffset!=i)&&(t.removeEventListener("selectionchange",e.hideSelectionGuard),setTimeout(function(){(!kp(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function Z2(e){var t=e.root.getSelection(),r=document.createRange(),n=e.cursorWrapper.dom,i=n.nodeName=="IMG";i?r.setEnd(n.parentNode,lr(n)+1):r.setEnd(n,0),r.collapse(!1),t.removeAllRanges(),t.addRange(r),!i&&!e.state.selection.visible&&re.ie&&re.ie_version<=11&&(n.disabled=!0,n.disabled=!1)}function Cp(e,t){if(t instanceof _e){var r=e.docView.descAt(t.from);r!=e.lastSelectedViewDesc&&(Tp(e),r&&r.selectNode(),e.lastSelectedViewDesc=r)}else Tp(e)}function Tp(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function M0(e,t,r,n){return e.someProp("createSelectionBetween",function(i){return i(e,t,r)})||Re.between(t,r,n)}function Q2(e){return e.editable&&e.root.activeElement!=e.dom?!1:C0(e)}function C0(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function ey(e){var t=e.docView.domFromPos(e.state.selection.anchor,0),r=e.root.getSelection();return Eo(t.node,t.offset,r.anchorNode,r.anchorOffset)}function T0(e,t){var r=e.selection,n=r.$anchor,i=r.$head,o=t>0?n.max(i):n.min(i),a=o.parent.inlineContent?o.depth?e.doc.resolve(t>0?o.after():o.before()):null:o;return a&&Oe.findFrom(a,t)}function ii(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function Ep(e,t,r){var n=e.state.selection;if(n instanceof Re){if(!n.empty||r.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var i=T0(e.state,t);return i&&i instanceof _e?ii(e,i):!1}else if(!(re.mac&&r.indexOf("m")>-1)){var o=n.$head,a=o.textOffset?null:t<0?o.nodeBefore:o.nodeAfter,s;if(!a||a.isText)return!1;var u=t<0?o.pos-a.nodeSize:o.pos;return a.isAtom||(s=e.docView.descAt(u))&&!s.contentDOM?_e.isSelectable(a)?ii(e,new _e(t<0?e.state.doc.resolve(o.pos-a.nodeSize):o)):re.webkit?ii(e,new Re(e.state.doc.resolve(t<0?u:u+a.nodeSize))):!1:!1}}else{if(n instanceof _e&&n.node.isInline)return ii(e,new Re(t>0?n.$to:n.$from));var h=T0(e.state,t);return h?ii(e,h):!1}}function Ja(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function zo(e){var t=e.pmViewDesc;return t&&t.size==0&&(e.nextSibling||e.nodeName!="BR")}function E0(e){var t=e.root.getSelection(),r=t.focusNode,n=t.focusOffset;if(!!r){var i,o,a=!1;for(re.gecko&&r.nodeType==1&&n<Ja(r)&&zo(r.childNodes[n])&&(a=!0);;)if(n>0){if(r.nodeType!=1)break;var s=r.childNodes[n-1];if(zo(s))i=r,o=--n;else if(s.nodeType==3)r=s,n=r.nodeValue.length;else break}else{if(Op(r))break;for(var u=r.previousSibling;u&&zo(u);)i=r.parentNode,o=lr(u),u=u.previousSibling;if(u)r=u,n=Ja(r);else{if(r=r.parentNode,r==e.dom)break;n=0}}a?_0(e,t,r,n):i&&_0(e,t,i,o)}}function O0(e){var t=e.root.getSelection(),r=t.focusNode,n=t.focusOffset;if(!!r){for(var i=Ja(r),o,a;;)if(n<i){if(r.nodeType!=1)break;var s=r.childNodes[n];if(zo(s))o=r,a=++n;else break}else{if(Op(r))break;for(var u=r.nextSibling;u&&zo(u);)o=u.parentNode,a=lr(u)+1,u=u.nextSibling;if(u)r=u,n=0,i=Ja(r);else{if(r=r.parentNode,r==e.dom)break;n=i=0}}o&&_0(e,t,o,a)}}function Op(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function _0(e,t,r,n){if(y0(t)){var i=document.createRange();i.setEnd(r,n),i.setStart(r,n),t.removeAllRanges(),t.addRange(i)}else t.extend&&t.extend(r,n);e.domObserver.setCurSelection();var o=e.state;setTimeout(function(){e.state==o&&Rn(e)},50)}function _p(e,t,r){var n=e.state.selection;if(n instanceof Re&&!n.empty||r.indexOf("s")>-1||re.mac&&r.indexOf("m")>-1)return!1;var i=n.$from,o=n.$to;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var a=T0(e.state,t);if(a&&a instanceof _e)return ii(e,a)}if(!i.parent.inlineContent){var s=t<0?i:o,u=n instanceof pn?Oe.near(s,t):Oe.findFrom(s,t);return u?ii(e,u):!1}return!1}function Np(e,t){if(!(e.state.selection instanceof Re))return!0;var r=e.state.selection,n=r.$head,i=r.$anchor,o=r.empty;if(!n.sameParent(i))return!0;if(!o)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var a=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(a&&!a.isText){var s=e.state.tr;return t<0?s.delete(n.pos-a.nodeSize,n.pos):s.delete(n.pos,n.pos+a.nodeSize),e.dispatch(s),!0}return!1}function Dp(e,t,r){e.domObserver.stop(),t.contentEditable=r,e.domObserver.start()}function ty(e){if(!(!re.safari||e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),r=t.focusNode,n=t.focusOffset;if(r&&r.nodeType==1&&n==0&&r.firstChild&&r.firstChild.contentEditable=="false"){var i=r.firstChild;Dp(e,i,!0),setTimeout(function(){return Dp(e,i,!1)},20)}}}function ry(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function ny(e,t){var r=t.keyCode,n=ry(t);return r==8||re.mac&&r==72&&n=="c"?Np(e,-1)||E0(e):r==46||re.mac&&r==68&&n=="c"?Np(e,1)||O0(e):r==13||r==27?!0:r==37?Ep(e,-1,n)||E0(e):r==39?Ep(e,1,n)||O0(e):r==38?_p(e,-1,n)||E0(e):r==40?ty(e)||_p(e,1,n)||O0(e):n==(re.mac?"m":"c")&&(r==66||r==73||r==89||r==90)}function iy(e,t,r){var n=e.docView.parseRange(t,r),i=n.node,o=n.fromOffset,a=n.toOffset,s=n.from,u=n.to,h=e.root.getSelection(),d=null,m=h.anchorNode;if(m&&e.dom.contains(m.nodeType==1?m:m.parentNode)&&(d=[{node:m,offset:h.anchorOffset}],y0(h)||d.push({node:h.focusNode,offset:h.focusOffset})),re.chrome&&e.lastKeyCode===8)for(var y=a;y>o;y--){var k=i.childNodes[y-1],A=k.pmViewDesc;if(k.nodeName=="BR"&&!A){a=y;break}if(!A||A.size)break}var C=e.state.doc,D=e.someProp("domParser")||_r.fromSchema(e.state.schema),N=C.resolve(s),T=null,I=D.parse(i,{topNode:N.parent,topMatch:N.parent.contentMatchAt(N.index()),topOpen:!0,from:o,to:a,preserveWhitespace:N.parent.type.whitespace=="pre"?"full":!0,editableContent:!0,findPositions:d,ruleFromNode:oy,context:N});if(d&&d[0].pos!=null){var O=d[0].pos,H=d[1]&&d[1].pos;H==null&&(H=O),T={anchor:O+s,head:H+s}}return{doc:I,sel:T,from:s,to:u}}function oy(e){var t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(re.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(e.parentNode.lastChild==e||re.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function ay(e,t,r,n,i){if(t<0){var o=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,a=wp(e,o);if(a&&!e.state.selection.eq(a)){var s=e.state.tr.setSelection(a);o=="pointer"?s.setMeta("pointer",!0):o=="key"&&s.scrollIntoView(),e.dispatch(s)}return}var u=e.state.doc.resolve(t),h=u.sharedDepth(r);t=u.before(h+1),r=e.state.doc.resolve(r).after(h+1);var d=e.state.selection,m=iy(e,t,r);if(re.chrome&&e.cursorWrapper&&m.sel&&m.sel.anchor==e.cursorWrapper.deco.from){var y=e.cursorWrapper.deco.type.toDOM.nextSibling,k=y&&y.nodeValue?y.nodeValue.length:1;m.sel={anchor:m.sel.anchor+k,head:m.sel.anchor+k}}var A=e.state.doc,C=A.slice(m.from,m.to),D,N;e.lastKeyCode===8&&Date.now()-100<e.lastKeyCodeTime?(D=e.state.selection.to,N="end"):(D=e.state.selection.from,N="start"),e.lastKeyCode=null;var T=uy(C.content,m.doc.content,m.from,D,N);if((re.ios&&e.lastIOSEnter>Date.now()-225||re.android)&&i.some(function(W){return W.nodeName=="DIV"||W.nodeName=="P"})&&(!T||T.endA>=T.endB)&&e.someProp("handleKeyDown",function(W){return W(e,Li(13,"Enter"))})){e.lastIOSEnter=0;return}if(!T)if(n&&d instanceof Re&&!d.empty&&d.$head.sameParent(d.$anchor)&&!e.composing&&!(m.sel&&m.sel.anchor!=m.sel.head))T={start:d.from,endA:d.to,endB:d.to};else{if(m.sel){var I=zp(e,e.state.doc,m.sel);I&&!I.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(I))}return}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&T.start==T.endB&&e.state.selection instanceof Re&&(T.start>e.state.selection.from&&T.start<=e.state.selection.from+2&&e.state.selection.from>=m.from?T.start=e.state.selection.from:T.endA<e.state.selection.to&&T.endA>=e.state.selection.to-2&&e.state.selection.to<=m.to&&(T.endB+=e.state.selection.to-T.endA,T.endA=e.state.selection.to)),re.ie&&re.ie_version<=11&&T.endB==T.start+1&&T.endA==T.start&&T.start>m.from&&m.doc.textBetween(T.start-m.from-1,T.start-m.from+1)==" \xA0"&&(T.start--,T.endA--,T.endB--);var O=m.doc.resolveNoCache(T.start-m.from),H=m.doc.resolveNoCache(T.endB-m.from),L=O.sameParent(H)&&O.parent.inlineContent,G;if((re.ios&&e.lastIOSEnter>Date.now()-225&&(!L||i.some(function(W){return W.nodeName=="DIV"||W.nodeName=="P"}))||!L&&O.pos<m.doc.content.size&&(G=Oe.findFrom(m.doc.resolve(O.pos+1),1,!0))&&G.head==H.pos)&&e.someProp("handleKeyDown",function(W){return W(e,Li(13,"Enter"))})){e.lastIOSEnter=0;return}if(e.state.selection.anchor>T.start&&ly(A,T.start,T.endA,O,H)&&e.someProp("handleKeyDown",function(W){return W(e,Li(8,"Backspace"))})){re.android&&re.chrome&&e.domObserver.suppressSelectionUpdates();return}re.chrome&&re.android&&T.toB==T.from&&(e.lastAndroidDelete=Date.now()),re.android&&!L&&O.start()!=H.start()&&H.parentOffset==0&&O.depth==H.depth&&m.sel&&m.sel.anchor==m.sel.head&&m.sel.head==T.endA&&(T.endB-=2,H=m.doc.resolveNoCache(T.endB-m.from),setTimeout(function(){e.someProp("handleKeyDown",function(W){return W(e,Li(13,"Enter"))})},20));var Z=T.start,K=T.endA,oe,he,me,ge;if(L){if(O.pos==H.pos)re.ie&&re.ie_version<=11&&O.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(function(){return Rn(e)},20)),oe=e.state.tr.delete(Z,K),he=A.resolve(T.start).marksAcross(A.resolve(T.endA));else if(T.endA==T.endB&&(ge=A.resolve(T.start))&&(me=sy(O.parent.content.cut(O.parentOffset,H.parentOffset),ge.parent.content.cut(ge.parentOffset,T.endA-ge.start()))))oe=e.state.tr,me.type=="add"?oe.addMark(Z,K,me.mark):oe.removeMark(Z,K,me.mark);else if(O.parent.child(O.index()).isText&&O.index()==H.index()-(H.textOffset?0:1)){var B=O.parent.textBetween(O.parentOffset,H.parentOffset);if(e.someProp("handleTextInput",function(W){return W(e,Z,K,B)}))return;oe=e.state.tr.insertText(B,Z,K)}}if(oe||(oe=e.state.tr.replace(Z,K,m.doc.slice(T.start-m.from,T.endB-m.from))),m.sel){var U=zp(e,oe.doc,m.sel);U&&!(re.chrome&&re.android&&e.composing&&U.empty&&(T.start!=T.endB||e.lastAndroidDelete<Date.now()-100)&&(U.head==Z||U.head==oe.mapping.map(K)-1)||re.ie&&U.empty&&U.head==Z)&&oe.setSelection(U)}he&&oe.ensureMarks(he),e.dispatch(oe.scrollIntoView())}function zp(e,t,r){return Math.max(r.anchor,r.head)>t.content.size?null:M0(e,t.resolve(r.anchor),t.resolve(r.head))}function sy(e,t){for(var r=e.firstChild.marks,n=t.firstChild.marks,i=r,o=n,a,s,u,h=0;h<n.length;h++)i=n[h].removeFromSet(i);for(var d=0;d<r.length;d++)o=r[d].removeFromSet(o);if(i.length==1&&o.length==0)s=i[0],a="add",u=function(k){return k.mark(s.addToSet(k.marks))};else if(i.length==0&&o.length==1)s=o[0],a="remove",u=function(k){return k.mark(s.removeFromSet(k.marks))};else return null;for(var m=[],y=0;y<t.childCount;y++)m.push(u(t.child(y)));if(X.from(m).eq(e))return{mark:s,type:a}}function ly(e,t,r,n,i){if(!n.parent.isTextblock||r-t<=i.pos-n.pos||N0(n,!0,!1)<i.pos)return!1;var o=e.resolve(t);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;var a=e.resolve(N0(o,!0,!0));return!a.parent.isTextblock||a.pos>r||N0(a,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(a.parent.content)}function N0(e,t,r){for(var n=e.depth,i=t?e.end():e.pos;n>0&&(t||e.indexAfter(n)==e.node(n).childCount);)n--,i++,t=!1;if(r)for(var o=e.node(n).maybeChild(e.indexAfter(n));o&&!o.isLeaf;)o=o.firstChild,i++;return i}function uy(e,t,r,n,i){var o=e.findDiffStart(t,r);if(o==null)return null;var a=e.findDiffEnd(t,r+e.size,r+t.size),s=a.a,u=a.b;if(i=="end"){var h=Math.max(0,o-Math.min(s,u));n-=s+h-o}if(s<o&&e.size<t.size){var d=n<=o&&n>=s?o-n:0;o-=d,u=o+(u-s),s=o}else if(u<o){var m=n<=o&&n>=u?o-n:0;o-=m,s=o+(s-u),u=o}return{start:o,endA:s,endB:u}}function Bp(e,t){for(var r=[],n=t.content,i=t.openStart,o=t.openEnd;i>1&&o>1&&n.childCount==1&&n.firstChild.childCount==1;){i--,o--;var a=n.firstChild;r.push(a.type.name,a.attrs!=a.type.defaultAttrs?a.attrs:null),n=a.content}var s=e.someProp("clipboardSerializer")||bt.fromSchema(e.state.schema),u=jp(),h=u.createElement("div");h.appendChild(s.serializeFragment(n,{document:u}));for(var d=h.firstChild,m;d&&d.nodeType==1&&(m=qp[d.nodeName.toLowerCase()]);){for(var y=m.length-1;y>=0;y--){for(var k=u.createElement(m[y]);h.firstChild;)k.appendChild(h.firstChild);h.appendChild(k),m[y]!="tbody"&&(i++,o++)}d=h.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",i+" "+o+" "+JSON.stringify(r));var A=e.someProp("clipboardTextSerializer",function(C){return C(t)})||t.content.textBetween(0,t.content.size,`

`);return{dom:h,text:A}}function Rp(e,t,r,n,i){var o,a=i.parent.type.spec.code,s;if(!r&&!t)return null;var u=t&&(n||a||!r);if(u){if(e.someProp("transformPastedText",function(H){t=H(t,a||n)}),a)return t?new ue(X.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0):ue.empty;var h=e.someProp("clipboardTextParser",function(H){return H(t,i,n)});if(h)s=h;else{var d=i.marks(),m=e.state,y=m.schema,k=bt.fromSchema(y);o=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(function(H){var L=o.appendChild(document.createElement("p"));H&&L.appendChild(k.serializeNode(y.text(H,d)))})}}else e.someProp("transformPastedHTML",function(H){r=H(r)}),o=hy(r),re.webkit&&py(o);var A=o&&o.querySelector("[data-pm-slice]"),C=A&&/^(\d+) (\d+) (.*)/.exec(A.getAttribute("data-pm-slice"));if(!s){var D=e.someProp("clipboardParser")||e.someProp("domParser")||_r.fromSchema(e.state.schema);s=D.parseSlice(o,{preserveWhitespace:!!(u||C),context:i,ruleFromNode:function(L){if(L.nodeName=="BR"&&!L.nextSibling&&L.parentNode&&!cy.test(L.parentNode.nodeName))return{ignore:!0}}})}if(C)s=dy(Lp(s,+C[1],+C[2]),C[3]);else if(s=ue.maxOpen(fy(s.content,i),!0),s.openStart||s.openEnd){for(var N=0,T=0,I=s.content.firstChild;N<s.openStart&&!I.type.spec.isolating;N++,I=I.firstChild);for(var O=s.content.lastChild;T<s.openEnd&&!O.type.spec.isolating;T++,O=O.lastChild);s=Lp(s,N,T)}return e.someProp("transformPasted",function(H){s=H(s)}),s}var cy=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function fy(e,t){if(e.childCount<2)return e;for(var r=function(o){var a=t.node(o),s=a.contentMatchAt(t.index(o)),u=void 0,h=[];if(e.forEach(function(d){if(!!h){var m=s.findWrapping(d.type),y;if(!m)return h=null;if(y=h.length&&u.length&&Fp(m,u,d,h[h.length-1],0))h[h.length-1]=y;else{h.length&&(h[h.length-1]=Pp(h[h.length-1],u.length));var k=Ip(d,m);h.push(k),s=s.matchType(k.type,k.attrs),u=m}}}),h)return{v:X.from(h)}},n=t.depth;n>=0;n--){var i=r(n);if(i)return i.v}return e}function Ip(e,t,r){r===void 0&&(r=0);for(var n=t.length-1;n>=r;n--)e=t[n].create(null,X.from(e));return e}function Fp(e,t,r,n,i){if(i<e.length&&i<t.length&&e[i]==t[i]){var o=Fp(e,t,r,n.lastChild,i+1);if(o)return n.copy(n.content.replaceChild(n.childCount-1,o));var a=n.contentMatchAt(n.childCount);if(a.matchType(i==e.length-1?r.type:e[i+1]))return n.copy(n.content.append(X.from(Ip(r,e,i+1))))}}function Pp(e,t){if(t==0)return e;var r=e.content.replaceChild(e.childCount-1,Pp(e.lastChild,t-1)),n=e.contentMatchAt(e.childCount).fillBefore(X.empty,!0);return e.copy(r.append(n))}function D0(e,t,r,n,i,o){var a=t<0?e.firstChild:e.lastChild,s=a.content;return i<n-1&&(s=D0(s,t,r,n,i+1,o)),i>=r&&(s=t<0?a.contentMatchAt(0).fillBefore(s,e.childCount>1||o<=i).append(s):s.append(a.contentMatchAt(a.childCount).fillBefore(X.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,a.copy(s))}function Lp(e,t,r){return t<e.openStart&&(e=new ue(D0(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),r<e.openEnd&&(e=new ue(D0(e.content,1,r,e.openEnd,0,0),e.openStart,r)),e}var qp={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Hp=null;function jp(){return Hp||(Hp=document.implementation.createHTMLDocument("title"))}function hy(e){var t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var r=jp().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(e),i;if((i=n&&qp[n[1].toLowerCase()])&&(e=i.map(function(a){return"<"+a+">"}).join("")+e+i.map(function(a){return"</"+a+">"}).reverse().join("")),r.innerHTML=e,i)for(var o=0;o<i.length;o++)r=r.querySelector(i[o])||r;return r}function py(e){for(var t=e.querySelectorAll(re.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),r=0;r<t.length;r++){var n=t[r];n.childNodes.length==1&&n.textContent=="\xA0"&&n.parentNode&&n.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),n)}}function dy(e,t){if(!e.size)return e;var r=e.content.firstChild.type.schema,n;try{n=JSON.parse(t)}catch{return e}for(var i=e.content,o=e.openStart,a=e.openEnd,s=n.length-2;s>=0;s-=2){var u=r.nodes[n[s]];if(!u||u.hasRequiredAttrs())break;i=X.from(u.create(n[s+1],i)),o++,a++}return new ue(i,o,a)}var my={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},z0=re.ie&&re.ie_version<=11,B0=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};B0.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset};B0.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var ur=function(t,r){var n=this;this.view=t,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver(function(i){for(var o=0;o<i.length;o++)n.queue.push(i[o]);re.ie&&re.ie_version<=11&&i.some(function(a){return a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length})?n.flushSoon():n.flush()}),this.currentSelection=new B0,z0&&(this.onCharData=function(i){n.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};ur.prototype.flushSoon=function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(function(){t.flushingSoon=-1,t.flush()},20))};ur.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())};ur.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,my),z0&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()};ur.prototype.stop=function(){var t=this;if(this.observer){var r=this.observer.takeRecords();if(r.length){for(var n=0;n<r.length;n++)this.queue.push(r[n]);window.setTimeout(function(){return t.flush()},20)}this.observer.disconnect()}z0&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()};ur.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)};ur.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)};ur.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout(function(){return t.suppressingSelectionUpdates=!1},50)};ur.prototype.onSelectionChange=function(){if(!!Q2(this.view)){if(this.suppressingSelectionUpdates)return Rn(this.view);if(re.ie&&re.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&Eo(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}};ur.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())};ur.prototype.ignoreSelectionChange=function(t){if(t.rangeCount==0)return!0;var r=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(r);if(n&&n.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0};ur.prototype.flush=function(){if(!(!this.view.docView||this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var r=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&C0(this.view)&&!this.ignoreSelectionChange(r),i=-1,o=-1,a=!1,s=[];if(this.view.editable)for(var u=0;u<t.length;u++){var h=this.registerMutation(t[u],s);h&&(i=i<0?h.from:Math.min(h.from,i),o=o<0?h.to:Math.max(h.to,o),h.typeOver&&(a=!0))}if(re.gecko&&s.length>1){var d=s.filter(function(k){return k.nodeName=="BR"});if(d.length==2){var m=d[0],y=d[1];m.parentNode&&m.parentNode.parentNode==y.parentNode?y.remove():m.remove()}}(i>-1||n)&&(i>-1&&(this.view.docView.markDirty(i,o),vy(this.view)),this.handleDOMChange(i,o,a,s),this.view.docView&&this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(r)||Rn(this.view),this.currentSelection.set(r))}};ur.prototype.registerMutation=function(t,r){if(r.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(n==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!n||n.ignoreMutation(t))return null;if(t.type=="childList"){for(var i=0;i<t.addedNodes.length;i++)r.push(t.addedNodes[i]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};var o=t.previousSibling,a=t.nextSibling;if(re.ie&&re.ie_version<=11&&t.addedNodes.length)for(var s=0;s<t.addedNodes.length;s++){var u=t.addedNodes[s],h=u.previousSibling,d=u.nextSibling;(!h||Array.prototype.indexOf.call(t.addedNodes,h)<0)&&(o=h),(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(a=d)}var m=o&&o.parentNode==t.target?lr(o)+1:0,y=n.localPosFromDOM(t.target,m,-1),k=a&&a.parentNode==t.target?lr(a):t.target.childNodes.length,A=n.localPosFromDOM(t.target,k,1);return{from:y,to:A}}else return t.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var Vp=!1;function vy(e){Vp||(Vp=!0,getComputedStyle(e.dom).whiteSpace=="normal"&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."))}var Kt={},Ht={};function gy(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.lastAndroidDelete=0,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new ur(e,function(n,i,o,a){return ay(e,n,i,o,a)}),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(n){var i=Kt[n];e.dom.addEventListener(n,e.eventHandlers[n]=function(o){by(e,o)&&!I0(e,o)&&(e.editable||!(o.type in Ht))&&i(e,o)})};for(var r in Kt)t(r);re.safari&&e.dom.addEventListener("input",function(){return null}),R0(e)}function oi(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function yy(e){e.domObserver.stop();for(var t in e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}function R0(e){e.someProp("handleDOMEvents",function(t){for(var r in t)e.eventHandlers[r]||e.dom.addEventListener(r,e.eventHandlers[r]=function(n){return I0(e,n)})})}function I0(e,t){return e.someProp("handleDOMEvents",function(r){var n=r[t.type];return n?n(e,t)||t.defaultPrevented:!1})}function by(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var r=t.target;r!=e.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(t))return!1;return!0}function xy(e,t){!I0(e,t)&&Kt[t.type]&&(e.editable||!(t.type in Ht))&&Kt[t.type](e,t)}Ht.keydown=function(e,t){if(e.shiftKey=t.keyCode==16||t.shiftKey,!Gp(e,t)&&(e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!(re.android&&re.chrome&&t.keyCode==13)))if(t.keyCode!=229&&e.domObserver.forceFlush(),re.ios&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){var r=Date.now();e.lastIOSEnter=r,e.lastIOSEnterFallbackTimeout=setTimeout(function(){e.lastIOSEnter==r&&(e.someProp("handleKeyDown",function(n){return n(e,Li(13,"Enter"))}),e.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",function(n){return n(e,t)})||ny(e,t)?t.preventDefault():oi(e,"key")};Ht.keyup=function(e,t){t.keyCode==16&&(e.shiftKey=!1)};Ht.keypress=function(e,t){if(!(Gp(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||re.mac&&t.metaKey)){if(e.someProp("handleKeyPress",function(i){return i(e,t)})){t.preventDefault();return}var r=e.state.selection;if(!(r instanceof Re)||!r.$from.sameParent(r.$to)){var n=String.fromCharCode(t.charCode);e.someProp("handleTextInput",function(i){return i(e,r.$from.pos,r.$to.pos,n)})||e.dispatch(e.state.tr.insertText(n).scrollIntoView()),t.preventDefault()}}};function Xa(e){return{left:e.clientX,top:e.clientY}}function wy(e,t){var r=t.x-e.clientX,n=t.y-e.clientY;return r*r+n*n<100}function F0(e,t,r,n,i){if(n==-1)return!1;for(var o=e.state.doc.resolve(n),a=function(h){if(e.someProp(t,function(d){return h>o.depth?d(e,r,o.nodeAfter,o.before(h),i,!0):d(e,r,o.node(h),o.before(h),i,!1)}))return{v:!0}},s=o.depth+1;s>0;s--){var u=a(s);if(u)return u.v}return!1}function Hi(e,t,r){e.focused||e.focus();var n=e.state.tr.setSelection(t);r=="pointer"&&n.setMeta("pointer",!0),e.dispatch(n)}function ky(e,t){if(t==-1)return!1;var r=e.state.doc.resolve(t),n=r.nodeAfter;return n&&n.isAtom&&_e.isSelectable(n)?(Hi(e,new _e(r),"pointer"),!0):!1}function Sy(e,t){if(t==-1)return!1;var r=e.state.selection,n,i;r instanceof _e&&(n=r.node);for(var o=e.state.doc.resolve(t),a=o.depth+1;a>0;a--){var s=a>o.depth?o.nodeAfter:o.node(a);if(_e.isSelectable(s)){n&&r.$from.depth>0&&a>=r.$from.depth&&o.before(r.$from.depth+1)==r.$from.pos?i=o.before(r.$from.depth):i=o.before(a);break}}return i!=null?(Hi(e,_e.create(e.state.doc,i),"pointer"),!0):!1}function Ay(e,t,r,n,i){return F0(e,"handleClickOn",t,r,n)||e.someProp("handleClick",function(o){return o(e,t,n)})||(i?Sy(e,r):ky(e,r))}function My(e,t,r,n){return F0(e,"handleDoubleClickOn",t,r,n)||e.someProp("handleDoubleClick",function(i){return i(e,t,n)})}function Cy(e,t,r,n){return F0(e,"handleTripleClickOn",t,r,n)||e.someProp("handleTripleClick",function(i){return i(e,t,n)})||Ty(e,r,n)}function Ty(e,t,r){if(r.button!=0)return!1;var n=e.state.doc;if(t==-1)return n.inlineContent?(Hi(e,Re.create(n,0,n.content.size),"pointer"),!0):!1;for(var i=n.resolve(t),o=i.depth+1;o>0;o--){var a=o>i.depth?i.nodeAfter:i.node(o),s=i.before(o);if(a.inlineContent)Hi(e,Re.create(n,s+1,s+1+a.content.size),"pointer");else if(_e.isSelectable(a))Hi(e,_e.create(n,s),"pointer");else continue;return!0}}function P0(e){return Za(e)}var $p=re.mac?"metaKey":"ctrlKey";Kt.mousedown=function(e,t){e.shiftKey=t.shiftKey;var r=P0(e),n=Date.now(),i="singleClick";n-e.lastClick.time<500&&wy(t,e.lastClick)&&!t[$p]&&(e.lastClick.type=="singleClick"?i="doubleClick":e.lastClick.type=="doubleClick"&&(i="tripleClick")),e.lastClick={time:n,x:t.clientX,y:t.clientY,type:i};var o=e.posAtCoords(Xa(t));!o||(i=="singleClick"?(e.mouseDown&&e.mouseDown.done(),e.mouseDown=new Ya(e,o,t,r)):(i=="doubleClick"?My:Cy)(e,o.pos,o.inside,t)?t.preventDefault():oi(e,"pointer"))};var Ya=function(t,r,n,i){var o=this;this.view=t,this.startDoc=t.state.doc,this.pos=r,this.event=n,this.flushed=i,this.selectNode=n[$p],this.allowDefault=n.shiftKey,this.delayedSelectionSync=!1;var a,s;if(r.inside>-1)a=t.state.doc.nodeAt(r.inside),s=r.inside;else{var u=t.state.doc.resolve(r.pos);a=u.parent,s=u.depth?u.before():0}this.mightDrag=null;var h=i?null:n.target,d=h?t.docView.nearestDesc(h,!0):null;this.target=d?d.dom:null;var m=t.state,y=m.selection;(n.button==0&&a.type.spec.draggable&&a.type.spec.selectable!==!1||y instanceof _e&&y.from<=s&&y.to>s)&&(this.mightDrag={node:a,pos:s,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&re.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(function(){o.view.mouseDown==o&&o.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),oi(t,"pointer")};Ya.prototype.done=function(){var t=this;this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(function(){return Rn(t.view)}),this.view.mouseDown=null};Ya.prototype.up=function(t){if(this.done(),!!this.view.dom.contains(t.target.nodeType==3?t.target.parentNode:t.target)){var r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Xa(t))),this.allowDefault||!r?oi(this.view,"pointer"):Ay(this.view,r.pos,r.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||re.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||re.chrome&&!(this.view.state.selection instanceof Re)&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Hi(this.view,Oe.near(this.view.state.doc.resolve(r.pos)),"pointer"),t.preventDefault()):oi(this.view,"pointer")}};Ya.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),oi(this.view,"pointer"),t.buttons==0&&this.done()};Kt.touchdown=function(e){P0(e),oi(e,"pointer")};Kt.contextmenu=function(e){return P0(e)};function Gp(e,t){return e.composing?!0:re.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500?(e.compositionEndedAt=-2e8,!0):!1}var Ey=re.android?5e3:-1;Ht.compositionstart=Ht.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,r=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(function(s){return s.type.spec.inclusive===!1})))e.markCursor=e.state.storedMarks||r.marks(),Za(e,!0),e.markCursor=null;else if(Za(e),re.gecko&&t.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length)for(var n=e.root.getSelection(),i=n.focusNode,o=n.focusOffset;i&&i.nodeType==1&&o!=0;){var a=o<0?i.lastChild:i.childNodes[o-1];if(!a)break;if(a.nodeType==3){n.collapse(a,a.nodeValue.length);break}else i=a,o=-1}e.composing=!0}Wp(e,Ey)};Ht.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,Wp(e,20))};function Wp(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout(function(){return Za(e)},t))}function Up(e){for(e.composing&&(e.composing=!1,e.compositionEndedAt=Oy());e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty()}function Oy(){var e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function Za(e,t){if(!(re.android&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),Up(e),t||e.docView&&e.docView.dirty){var r=wp(e);return r&&!r.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(r)):e.updateState(e.state),!0}return!1}}function _y(e,t){if(!!e.dom.parentNode){var r=e.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(t),r.style.cssText="position: fixed; left: -10000px; top: 10px";var n=getSelection(),i=document.createRange();i.selectNodeContents(t),e.dom.blur(),n.removeAllRanges(),n.addRange(i),setTimeout(function(){r.parentNode&&r.parentNode.removeChild(r),e.focus()},50)}}var ji=re.ie&&re.ie_version<15||re.ios&&re.webkit_version<604;Kt.copy=Ht.cut=function(e,t){var r=e.state.selection,n=t.type=="cut";if(!r.empty){var i=ji?null:t.clipboardData,o=r.content(),a=Bp(e,o),s=a.dom,u=a.text;i?(t.preventDefault(),i.clearData(),i.setData("text/html",s.innerHTML),i.setData("text/plain",u)):_y(e,s),n&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}};function Ny(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function Dy(e,t){if(!!e.dom.parentNode){var r=e.shiftKey||e.state.selection.$from.parent.type.spec.code,n=e.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(function(){e.focus(),n.parentNode&&n.parentNode.removeChild(n),r?L0(e,n.value,null,t):L0(e,n.textContent,n.innerHTML,t)},50)}}function L0(e,t,r,n){var i=Rp(e,t,r,e.shiftKey,e.state.selection.$from);if(e.someProp("handlePaste",function(s){return s(e,n,i||ue.empty)}))return!0;if(!i)return!1;var o=Ny(i),a=o?e.state.tr.replaceSelectionWith(o,e.shiftKey):e.state.tr.replaceSelection(i);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Ht.paste=function(e,t){if(!(e.composing&&!re.android)){var r=ji?null:t.clipboardData;r&&L0(e,r.getData("text/plain"),r.getData("text/html"),t)?t.preventDefault():Dy(e,t)}};var zy=function(t,r){this.slice=t,this.move=r},Kp=re.mac?"altKey":"ctrlKey";Kt.dragstart=function(e,t){var r=e.mouseDown;if(r&&r.done(),!!t.dataTransfer){var n=e.state.selection,i=n.empty?null:e.posAtCoords(Xa(t));if(!(i&&i.pos>=n.from&&i.pos<=(n instanceof _e?n.to-1:n.to))){if(r&&r.mightDrag)e.dispatch(e.state.tr.setSelection(_e.create(e.state.doc,r.mightDrag.pos)));else if(t.target&&t.target.nodeType==1){var o=e.docView.nearestDesc(t.target,!0);o&&o.node.type.spec.draggable&&o!=e.docView&&e.dispatch(e.state.tr.setSelection(_e.create(e.state.doc,o.posBefore)))}}var a=e.state.selection.content(),s=Bp(e,a),u=s.dom,h=s.text;t.dataTransfer.clearData(),t.dataTransfer.setData(ji?"Text":"text/html",u.innerHTML),t.dataTransfer.effectAllowed="copyMove",ji||t.dataTransfer.setData("text/plain",h),e.dragging=new zy(a,!t[Kp])}};Kt.dragend=function(e){var t=e.dragging;window.setTimeout(function(){e.dragging==t&&(e.dragging=null)},50)};Ht.dragover=Ht.dragenter=function(e,t){return t.preventDefault()};Ht.drop=function(e,t){var r=e.dragging;if(e.dragging=null,!!t.dataTransfer){var n=e.posAtCoords(Xa(t));if(!!n){var i=e.state.doc.resolve(n.pos);if(!!i){var o=r&&r.slice;o?e.someProp("transformPasted",function(A){o=A(o)}):o=Rp(e,t.dataTransfer.getData(ji?"Text":"text/plain"),ji?null:t.dataTransfer.getData("text/html"),!1,i);var a=r&&!t[Kp];if(e.someProp("handleDrop",function(A){return A(e,t,o||ue.empty,a)})){t.preventDefault();return}if(!!o){t.preventDefault();var s=o?Ah(e.state.doc,i.pos,o):i.pos;s==null&&(s=i.pos);var u=e.state.tr;a&&u.deleteSelection();var h=u.mapping.map(s),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,m=u.doc;if(d?u.replaceRangeWith(h,h,o.content.firstChild):u.replaceRange(h,h,o),!u.doc.eq(m)){var y=u.doc.resolve(h);if(d&&_e.isSelectable(o.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new _e(y));else{var k=u.mapping.map(s);u.mapping.maps[u.mapping.maps.length-1].forEach(function(A,C,D,N){return k=N}),u.setSelection(M0(e,y,u.doc.resolve(k)))}e.focus(),e.dispatch(u.setMeta("uiEvent","drop"))}}}}}};Kt.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&Rn(e)},20))};Kt.blur=function(e,t){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),t.relatedTarget&&e.dom.contains(t.relatedTarget)&&e.domObserver.currentSelection.set({}),e.focused=!1)};Kt.beforeinput=function(e,t){if(re.chrome&&re.android&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();var r=e.domChangeCount;setTimeout(function(){if(e.domChangeCount==r&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",function(o){return o(e,Li(8,"Backspace"))}))){var n=e.state.selection,i=n.$cursor;i&&i.pos>0&&e.dispatch(e.state.tr.delete(i.pos-1,i.pos).scrollIntoView())}},50)}};for(var Jp in Ht)Kt[Jp]=Ht[Jp];function Bo(e,t){if(e==t)return!0;for(var r in e)if(e[r]!==t[r])return!1;for(var n in t)if(!(n in e))return!1;return!0}var Vi=function(t,r){this.spec=r||ai,this.side=this.spec.side||0,this.toDOM=t};Vi.prototype.map=function(t,r,n,i){var o=t.mapResult(r.from+i,this.side<0?-1:1),a=o.pos,s=o.deleted;return s?null:new gt(a-n,a-n,this)};Vi.prototype.valid=function(){return!0};Vi.prototype.eq=function(t){return this==t||t instanceof Vi&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Bo(this.spec,t.spec))};Vi.prototype.destroy=function(t){this.spec.destroy&&this.spec.destroy(t)};var Dr=function(t,r){this.spec=r||ai,this.attrs=t};Dr.prototype.map=function(t,r,n,i){var o=t.map(r.from+i,this.spec.inclusiveStart?-1:1)-n,a=t.map(r.to+i,this.spec.inclusiveEnd?1:-1)-n;return o>=a?null:new gt(o,a,this)};Dr.prototype.valid=function(t,r){return r.from<r.to};Dr.prototype.eq=function(t){return this==t||t instanceof Dr&&Bo(this.attrs,t.attrs)&&Bo(this.spec,t.spec)};Dr.is=function(t){return t.type instanceof Dr};var Ro=function(t,r){this.spec=r||ai,this.attrs=t};Ro.prototype.map=function(t,r,n,i){var o=t.mapResult(r.from+i,1);if(o.deleted)return null;var a=t.mapResult(r.to+i,-1);return a.deleted||a.pos<=o.pos?null:new gt(o.pos-n,a.pos-n,this)};Ro.prototype.valid=function(t,r){var n=t.content.findIndex(r.from),i=n.index,o=n.offset,a;return o==r.from&&!(a=t.child(i)).isText&&o+a.nodeSize==r.to};Ro.prototype.eq=function(t){return this==t||t instanceof Ro&&Bo(this.attrs,t.attrs)&&Bo(this.spec,t.spec)};var gt=function(t,r,n){this.from=t,this.to=r,this.type=n},q0={spec:{configurable:!0},inline:{configurable:!0}};gt.prototype.copy=function(t,r){return new gt(t,r,this.type)};gt.prototype.eq=function(t,r){return r===void 0&&(r=0),this.type.eq(t.type)&&this.from+r==t.from&&this.to+r==t.to};gt.prototype.map=function(t,r,n){return this.type.map(t,this,r,n)};gt.widget=function(t,r,n){return new gt(t,t,new Vi(r,n))};gt.inline=function(t,r,n,i){return new gt(t,r,new Dr(n,i))};gt.node=function(t,r,n,i){return new gt(t,r,new Ro(n,i))};q0.spec.get=function(){return this.type.spec};q0.inline.get=function(){return this.type instanceof Dr};Object.defineProperties(gt.prototype,q0);var Qa=[],ai={},Ue=function(t,r){this.local=t&&t.length?t:Qa,this.children=r&&r.length?r:Qa};Ue.create=function(t,r){return r.length?es(r,t,0,ai):wt};Ue.prototype.find=function(t,r,n){var i=[];return this.findInner(t==null?0:t,r==null?1e9:r,i,0,n),i};Ue.prototype.findInner=function(t,r,n,i,o){for(var a=0;a<this.local.length;a++){var s=this.local[a];s.from<=r&&s.to>=t&&(!o||o(s.spec))&&n.push(s.copy(s.from+i,s.to+i))}for(var u=0;u<this.children.length;u+=3)if(this.children[u]<r&&this.children[u+1]>t){var h=this.children[u]+1;this.children[u+2].findInner(t-h,r-h,n,i+h,o)}};Ue.prototype.map=function(t,r,n){return this==wt||t.maps.length==0?this:this.mapInner(t,r,0,0,n||ai)};Ue.prototype.mapInner=function(t,r,n,i,o){for(var a,s=0;s<this.local.length;s++){var u=this.local[s].map(t,n,i);u&&u.type.valid(r,u)?(a||(a=[])).push(u):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?By(this.children,a,t,r,n,i,o):a?new Ue(a.sort(si)):wt};Ue.prototype.add=function(t,r){return r.length?this==wt?Ue.create(t,r):this.addInner(t,r,0):this};Ue.prototype.addInner=function(t,r,n){var i=this,o,a=0;t.forEach(function(h,d){var m=d+n,y;if(!!(y=Yp(r,h,m))){for(o||(o=i.children.slice());a<o.length&&o[a]<d;)a+=3;o[a]==d?o[a+2]=o[a+2].addInner(h,y,m+1):o.splice(a,0,d,d+h.nodeSize,es(y,h,m+1,ai)),a+=3}});for(var s=Xp(a?Zp(r):r,-n),u=0;u<s.length;u++)s[u].type.valid(t,s[u])||s.splice(u--,1);return new Ue(s.length?this.local.concat(s).sort(si):this.local,o||this.children)};Ue.prototype.remove=function(t){return t.length==0||this==wt?this:this.removeInner(t,0)};Ue.prototype.removeInner=function(t,r){for(var n=this.children,i=this.local,o=0;o<n.length;o+=3){for(var a=void 0,s=n[o]+r,u=n[o+1]+r,h=0,d=void 0;h<t.length;h++)(d=t[h])&&d.from>s&&d.to<u&&(t[h]=null,(a||(a=[])).push(d));if(!!a){n==this.children&&(n=this.children.slice());var m=n[o+2].removeInner(a,s+1);m!=wt?n[o+2]=m:(n.splice(o,3),o-=3)}}if(i.length){for(var y=0,k=void 0;y<t.length;y++)if(k=t[y])for(var A=0;A<i.length;A++)i[A].eq(k,r)&&(i==this.local&&(i=this.local.slice()),i.splice(A--,1))}return n==this.children&&i==this.local?this:i.length||n.length?new Ue(i,n):wt};Ue.prototype.forChild=function(t,r){if(this==wt)return this;if(r.isLeaf)return Ue.empty;for(var n,i,o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(n=this.children[o+2]);break}for(var a=t+1,s=a+r.content.size,u=0;u<this.local.length;u++){var h=this.local[u];if(h.from<s&&h.to>a&&h.type instanceof Dr){var d=Math.max(a,h.from)-a,m=Math.min(s,h.to)-a;d<m&&(i||(i=[])).push(h.copy(d,m))}}if(i){var y=new Ue(i.sort(si));return n?new xr([y,n]):y}return n||wt};Ue.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof Ue)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var r=0;r<this.local.length;r++)if(!this.local[r].eq(t.local[r]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0};Ue.prototype.locals=function(t){return H0(this.localsInner(t))};Ue.prototype.localsInner=function(t){if(this==wt)return Qa;if(t.inlineContent||!this.local.some(Dr.is))return this.local;for(var r=[],n=0;n<this.local.length;n++)this.local[n].type instanceof Dr||r.push(this.local[n]);return r};var wt=new Ue;Ue.empty=wt;Ue.removeOverlap=H0;var xr=function(t){this.members=t};xr.prototype.map=function(t,r){var n=this.members.map(function(i){return i.map(t,r,ai)});return xr.from(n)};xr.prototype.forChild=function(t,r){if(r.isLeaf)return Ue.empty;for(var n=[],i=0;i<this.members.length;i++){var o=this.members[i].forChild(t,r);o!=wt&&(o instanceof xr?n=n.concat(o.members):n.push(o))}return xr.from(n)};xr.prototype.eq=function(t){if(!(t instanceof xr)||t.members.length!=this.members.length)return!1;for(var r=0;r<this.members.length;r++)if(!this.members[r].eq(t.members[r]))return!1;return!0};xr.prototype.locals=function(t){for(var r,n=!0,i=0;i<this.members.length;i++){var o=this.members[i].localsInner(t);if(!!o.length)if(!r)r=o;else{n&&(r=r.slice(),n=!1);for(var a=0;a<o.length;a++)r.push(o[a])}}return r?H0(n?r:r.sort(si)):Qa};xr.from=function(t){switch(t.length){case 0:return wt;case 1:return t[0];default:return new xr(t)}};function By(e,t,r,n,i,o,a){for(var s=e.slice(),u=function(he,me,ge,B){for(var U=0;U<s.length;U+=3){var W=s[U+1],ce=void 0;if(!(W<0||he>W+o)){var ae=s[U]+o;me>=ae?s[U+1]=he<=ae?-2:-1:ge>=i&&(ce=B-ge-(me-he))&&(s[U]+=ce,s[U+1]+=ce)}}},h=0;h<r.maps.length;h++)r.maps[h].forEach(u);for(var d=!1,m=0;m<s.length;m+=3)if(s[m+1]<0){if(s[m+1]==-2){d=!0,s[m+1]=-1;continue}var y=r.map(e[m]+o),k=y-i;if(k<0||k>=n.content.size){d=!0;continue}var A=r.map(e[m+1]+o,-1),C=A-i,D=n.content.findIndex(k),N=D.index,T=D.offset,I=n.maybeChild(N);if(I&&T==k&&T+I.nodeSize==C){var O=s[m+2].mapInner(r,I,y+1,e[m]+o+1,a);O!=wt?(s[m]=k,s[m+1]=C,s[m+2]=O):(s[m+1]=-2,d=!0)}else d=!0}if(d){var H=Ry(s,e,t||[],r,i,o,a),L=es(H,n,0,a);t=L.local;for(var G=0;G<s.length;G+=3)s[G+1]<0&&(s.splice(G,3),G-=3);for(var Z=0,K=0;Z<L.children.length;Z+=3){for(var oe=L.children[Z];K<s.length&&s[K]<oe;)K+=3;s.splice(K,0,L.children[Z],L.children[Z+1],L.children[Z+2])}}return new Ue(t&&t.sort(si),s)}function Xp(e,t){if(!t||!e.length)return e;for(var r=[],n=0;n<e.length;n++){var i=e[n];r.push(new gt(i.from+t,i.to+t,i.type))}return r}function Ry(e,t,r,n,i,o,a){function s(h,d){for(var m=0;m<h.local.length;m++){var y=h.local[m].map(n,i,d);y?r.push(y):a.onRemove&&a.onRemove(h.local[m].spec)}for(var k=0;k<h.children.length;k+=3)s(h.children[k+2],h.children[k]+d+1)}for(var u=0;u<e.length;u+=3)e[u+1]==-1&&s(e[u+2],t[u]+o+1);return r}function Yp(e,t,r){if(t.isLeaf)return null;for(var n=r+t.nodeSize,i=null,o=0,a=void 0;o<e.length;o++)(a=e[o])&&a.from>r&&a.to<n&&((i||(i=[])).push(a),e[o]=null);return i}function Zp(e){for(var t=[],r=0;r<e.length;r++)e[r]!=null&&t.push(e[r]);return t}function es(e,t,r,n){var i=[],o=!1;t.forEach(function(u,h){var d=Yp(e,u,h+r);if(d){o=!0;var m=es(d,u,r+h+1,n);m!=wt&&i.push(h,h+u.nodeSize,m)}});for(var a=Xp(o?Zp(e):e,-r).sort(si),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(n.onRemove&&n.onRemove(a[s].spec),a.splice(s--,1));return a.length||i.length?new Ue(a,i):wt}function si(e,t){return e.from-t.from||e.to-t.to}function H0(e){for(var t=e,r=0;r<t.length-1;r++){var n=t[r];if(n.from!=n.to)for(var i=r+1;i<t.length;i++){var o=t[i];if(o.from==n.from){o.to!=n.to&&(t==e&&(t=e.slice()),t[i]=o.copy(o.from,n.to),Qp(t,i+1,o.copy(n.to,o.to)));continue}else{o.from<n.to&&(t==e&&(t=e.slice()),t[r]=n.copy(n.from,o.from),Qp(t,i,n.copy(o.from,n.to)));break}}}return t}function Qp(e,t,r){for(;t<e.length&&si(r,e[t])>0;)t++;e.splice(t,0,r)}function j0(e){var t=[];return e.someProp("decorations",function(r){var n=r(e.state);n&&n!=wt&&t.push(n)}),e.cursorWrapper&&t.push(Ue.create(e.state.doc,[e.cursorWrapper.deco])),xr.from(t)}var pt=function(t,r){this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(id),this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=rd(this),this.markCursor=null,this.cursorWrapper=null,td(this),this.nodeViews=nd(this),this.docView=dp(this.state.doc,ed(this),j0(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,gy(this),this.prevDirectPlugins=[],this.pluginViews=[],this.updatePluginViews()},ts={props:{configurable:!0},root:{configurable:!0},isDestroyed:{configurable:!0}};ts.props.get=function(){if(this._props.state!=this.state){var e=this._props;this._props={};for(var t in e)this._props[t]=e[t];this._props.state=this.state}return this._props};pt.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&R0(this),this._props=t,t.plugins&&(t.plugins.forEach(id),this.directPlugins=t.plugins),this.updateStateInner(t.state,!0)};pt.prototype.setProps=function(t){var r={};for(var n in this._props)r[n]=this._props[n];r.state=this.state;for(var i in t)r[i]=t[i];this.update(r)};pt.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)};pt.prototype.updateStateInner=function(t,r){var n=this,i=this.state,o=!1,a=!1;if(t.storedMarks&&this.composing&&(Up(this),a=!0),this.state=t,r){var s=nd(this);Fy(s,this.nodeViews)&&(this.nodeViews=s,o=!0),R0(this)}this.editable=rd(this),td(this);var u=j0(this),h=ed(this),d=r?"reset":t.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=o||!this.docView.matchesNode(t.doc,h,u);(m||!t.selection.eq(i.selection))&&(a=!0);var y=d=="preserve"&&a&&this.dom.style.overflowAnchor==null&&O2(this);if(a){this.domObserver.stop();var k=m&&(re.ie||re.chrome)&&!this.composing&&!i.selection.empty&&!t.selection.empty&&Iy(i.selection,t.selection);if(m){var A=re.chrome?this.trackWrites=this.root.getSelection().focusNode:null;(o||!this.docView.update(t.doc,h,u,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=dp(t.doc,h,u,this.dom,this)),A&&!this.trackWrites&&(k=!0)}k||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&ey(this))?Rn(this,k):(Cp(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(i),d=="reset")this.dom.scrollTop=0;else if(d=="to selection"){var C=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",function(D){return D(n)})||(t.selection instanceof _e?rp(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),C):rp(this,this.coordsAtPos(t.selection.head,1),C))}else y&&_2(y)};pt.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()};pt.prototype.updatePluginViews=function(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(var r=0;r<this.directPlugins.length;r++){var n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(var i=0;i<this.state.plugins.length;i++){var o=this.state.plugins[i];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}else for(var a=0;a<this.pluginViews.length;a++){var s=this.pluginViews[a];s.update&&s.update(this,t)}};pt.prototype.someProp=function(t,r){var n=this._props&&this._props[t],i;if(n!=null&&(i=r?r(n):n))return i;for(var o=0;o<this.directPlugins.length;o++){var a=this.directPlugins[o].props[t];if(a!=null&&(i=r?r(a):a))return i}var s=this.state.plugins;if(s)for(var u=0;u<s.length;u++){var h=s[u].props[t];if(h!=null&&(i=r?r(h):h))return i}};pt.prototype.hasFocus=function(){return this.root.activeElement==this.dom};pt.prototype.focus=function(){this.domObserver.stop(),this.editable&&N2(this.dom),Rn(this),this.domObserver.start()};ts.root.get=function(){var e=this._root;if(e==null){for(var t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t}return e||document};pt.prototype.posAtCoords=function(t){return I2(this,t)};pt.prototype.coordsAtPos=function(t,r){return r===void 0&&(r=1),sp(this,t,r)};pt.prototype.domAtPos=function(t,r){return r===void 0&&(r=0),this.docView.domFromPos(t,r)};pt.prototype.nodeDOM=function(t){var r=this.docView.descAt(t);return r?r.nodeDOM:null};pt.prototype.posAtDOM=function(t,r,n){n===void 0&&(n=-1);var i=this.docView.posFromDOM(t,r,n);if(i==null)throw new RangeError("DOM position not inside the editor");return i};pt.prototype.endOfTextblock=function(t,r){return H2(this,r||this.state,t)};pt.prototype.destroy=function(){!this.docView||(yy(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],j0(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)};ts.isDestroyed.get=function(){return this.docView==null};pt.prototype.dispatchEvent=function(t){return xy(this,t)};pt.prototype.dispatch=function(t){var r=this._props.dispatchTransaction;r?r.call(this,t):this.updateState(this.state.apply(t))};Object.defineProperties(pt.prototype,ts);function ed(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),t.translate="no",e.someProp("attributes",function(r){if(typeof r=="function"&&(r=r(e.state)),r)for(var n in r)n=="class"&&(t.class+=" "+r[n]),n=="style"?t.style=(t.style?t.style+";":"")+r[n]:!t[n]&&n!="contenteditable"&&n!="nodeName"&&(t[n]=String(r[n]))}),[gt.node(0,e.state.doc.content.size,t)]}function td(e){if(e.markCursor){var t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:gt.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function rd(e){return!e.someProp("editable",function(t){return t(e.state)===!1})}function Iy(e,t){var r=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(r)!=t.$anchor.start(r)}function nd(e){var t={};return e.someProp("nodeViews",function(r){for(var n in r)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=r[n])}),t}function Fy(e,t){var r=0,n=0;for(var i in e){if(e[i]!=t[i])return!0;r++}for(var o in t)n++;return r!=n}function id(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var In={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},rs={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},od=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),Py=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),Ly=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),ad=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),qy=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Hy=od&&(ad||+od[1]<57)||Ly&&ad;for(var kt=0;kt<10;kt++)In[48+kt]=In[96+kt]=String(kt);for(var kt=1;kt<=24;kt++)In[kt+111]="F"+kt;for(var kt=65;kt<=90;kt++)In[kt]=String.fromCharCode(kt+32),rs[kt]=String.fromCharCode(kt);for(var V0 in In)rs.hasOwnProperty(V0)||(rs[V0]=In[V0]);function jy(e){var t=Hy&&(e.ctrlKey||e.altKey||e.metaKey)||(Py||qy)&&e.shiftKey&&e.key&&e.key.length==1,r=!t&&e.key||(e.shiftKey?rs:In)[e.keyCode]||e.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}var Vy=typeof navigator!="undefined"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function $y(e){var t=e.split(/-(?!$)/),r=t[t.length-1];r=="Space"&&(r=" ");for(var n,i,o,a,s=0;s<t.length-1;s++){var u=t[s];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))n=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))Vy?a=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return n&&(r="Alt-"+r),i&&(r="Ctrl-"+r),a&&(r="Meta-"+r),o&&(r="Shift-"+r),r}function Gy(e){var t=Object.create(null);for(var r in e)t[$y(r)]=e[r];return t}function $0(e,t,r){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),r!==!1&&t.shiftKey&&(e="Shift-"+e),e}function Wy(e){return new qt({props:{handleKeyDown:sd(e)}})}function sd(e){var t=Gy(e);return function(r,n){var i=jy(n),o=i.length==1&&i!=" ",a,s=t[$0(i,n,!o)];if(s&&s(r.state,r.dispatch,r))return!0;if(o&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(a=In[n.keyCode])&&a!=i){var u=t[$0(a,n,!0)];if(u&&u(r.state,r.dispatch,r))return!0}else if(o&&n.shiftKey){var h=t[$0(i,n,!0)];if(h&&h(r.state,r.dispatch,r))return!0}return!1}}function Uy(e){return Object.prototype.toString.call(e).slice(8,-1)}function G0(e){return Uy(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function ns(e,t){const r=Q({},e);return G0(e)&&G0(t)&&Object.keys(t).forEach(n=>{G0(t[n])?n in e?r[n]=ns(e[n],t[n]):Object.assign(r,{[n]:t[n]}):Object.assign(r,{[n]:t[n]})}),r}function ld(e){return typeof e=="function"}function Be(e,t=void 0,...r){return ld(e)?t?e.bind(t)(...r):e(...r):e}function be(e,t,r){return e.config[t]===void 0&&e.parent?be(e.parent,t,r):typeof e.config[t]=="function"?e.config[t].bind(Tt(Q({},r),{parent:e.parent?be(e.parent,t,r):null})):e.config[t]}class jt{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=Q(Q({},this.config),t),this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Be(be(this,"addOptions",{name:this.name}))),this.storage=Be(be(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new jt(t)}configure(t={}){const r=this.extend();return r.options=ns(this.options,t),r.storage=Be(be(r,"addStorage",{name:r.name,options:r.options})),r}extend(t={}){const r=new jt(t);return r.parent=this,this.child=r,r.name=t.name?t.name:r.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Be(be(r,"addOptions",{name:r.name})),r.storage=Be(be(r,"addStorage",{name:r.name,options:r.options})),r}}function ud(e,t,r){const{from:n,to:i}=t,{blockSeparator:o=`

`,textSerializers:a={}}=r||{};let s="",u=!0;return e.nodesBetween(n,i,(h,d,m,y)=>{var k;const A=a==null?void 0:a[h.type.name];A?(h.isBlock&&!u&&(s+=o,u=!0),s+=A({node:h,pos:d,parent:m,index:y})):h.isText?(s+=(k=h==null?void 0:h.text)===null||k===void 0?void 0:k.slice(Math.max(n,d)-d,i-d),u=!1):h.isBlock&&!u&&(s+=o,u=!0)}),s}function cd(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,r])=>[t,r.spec.toText]))}const Ky=jt.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new qt({key:new yr("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:r}=e,{doc:n,selection:i}=t,{ranges:o}=i,a=Math.min(...o.map(d=>d.$from.pos)),s=Math.max(...o.map(d=>d.$to.pos)),u=cd(r);return ud(n,{from:a,to:s},{textSerializers:u})}}})]}}),Jy=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var r;e.isDestroyed||(t.dom.blur(),(r=window==null?void 0:window.getSelection())===null||r===void 0||r.removeAllRanges())}),!0);var Xy=Object.freeze({__proto__:null,blur:Jy});const Yy=(e=!1)=>({commands:t})=>t.setContent("",e);var Zy=Object.freeze({__proto__:null,clearContent:Yy});const Qy=()=>({state:e,tr:t,dispatch:r})=>{const{selection:n}=t,{ranges:i}=n;return r&&i.forEach(({$from:o,$to:a})=>{e.doc.nodesBetween(o.pos,a.pos,(s,u)=>{if(s.type.isText)return;const{doc:h,mapping:d}=t,m=h.resolve(d.map(u)),y=h.resolve(d.map(u+s.nodeSize)),k=m.blockRange(y);if(!k)return;const A=Ii(k);if(s.type.isTextblock){const{defaultType:C}=m.parent.contentMatchAt(m.index());t.setNodeMarkup(k.start,C)}(A||A===0)&&t.lift(k,A)})}),!0};var e5=Object.freeze({__proto__:null,clearNodes:Qy});const t5=e=>t=>e(t);var r5=Object.freeze({__proto__:null,command:t5});const n5=()=>({state:e,dispatch:t})=>$h(e,t);var i5=Object.freeze({__proto__:null,createParagraphNear:n5});function yt(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}const o5=e=>({tr:t,state:r,dispatch:n})=>{const i=yt(e,r.schema),o=t.selection.$anchor;for(let a=o.depth;a>0;a-=1)if(o.node(a).type===i){if(n){const u=o.before(a),h=o.after(a);t.delete(u,h).scrollIntoView()}return!0}return!1};var a5=Object.freeze({__proto__:null,deleteNode:o5});const s5=e=>({tr:t,dispatch:r})=>{const{from:n,to:i}=e;return r&&t.delete(n,i),!0};var l5=Object.freeze({__proto__:null,deleteRange:s5});const u5=()=>({state:e,dispatch:t})=>u0(e,t);var c5=Object.freeze({__proto__:null,deleteSelection:u5});const f5=()=>({commands:e})=>e.keyboardShortcut("Enter");var h5=Object.freeze({__proto__:null,enter:f5});const p5=()=>({state:e,dispatch:t})=>Vh(e,t);var d5=Object.freeze({__proto__:null,exitCode:p5});function Fn(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}function W0(e){return Object.prototype.toString.call(e)==="[object RegExp]"}function is(e,t,r={strict:!0}){const n=Object.keys(t);return n.length?n.every(i=>r.strict?t[i]===e[i]:W0(t[i])?t[i].test(e[i]):t[i]===e[i]):!0}function U0(e,t,r={}){return e.find(n=>n.type===t&&is(n.attrs,r))}function m5(e,t,r={}){return!!U0(e,t,r)}function K0(e,t,r={}){if(!e||!t)return;const n=e.parent.childAfter(e.parentOffset);if(!n.node)return;const i=U0(n.node.marks,t,r);if(!i)return;let o=e.index(),a=e.start()+n.offset,s=o+1,u=a+n.node.nodeSize;for(U0(n.node.marks,t,r);o>0&&i.isInSet(e.parent.child(o-1).marks);)o-=1,a-=e.parent.child(o).nodeSize;for(;s<e.parent.childCount&&m5(e.parent.child(s).marks,t,r);)u+=e.parent.child(s).nodeSize,s+=1;return{from:a,to:u}}const v5=(e,t={})=>({tr:r,state:n,dispatch:i})=>{const o=Fn(e,n.schema),{doc:a,selection:s}=r,{$from:u,from:h,to:d}=s;if(i){const m=K0(u,o,t);if(m&&m.from<=h&&m.to>=d){const y=Re.create(a,m.from,m.to);r.setSelection(y)}}return!0};var g5=Object.freeze({__proto__:null,extendMarkRange:v5});const y5=e=>t=>{const r=typeof e=="function"?e(t):e;for(let n=0;n<r.length;n+=1)if(r[n](t))return!0;return!1};var b5=Object.freeze({__proto__:null,first:y5});function x5(e){var t;return((t=e.constructor)===null||t===void 0?void 0:t.toString().substring(0,5))==="class"}function fd(e){return e&&typeof e=="object"&&!Array.isArray(e)&&!x5(e)}function hd(e){return fd(e)&&e instanceof Re}function J0(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}function vn(e=0,t=0,r=0){return Math.min(Math.max(e,t),r)}function pd(e,t=null){if(!t)return null;const r=Oe.atStart(e),n=Oe.atEnd(e);if(t==="start"||t===!0)return r;if(t==="end")return n;const i=r.from,o=n.to;return t==="all"?Re.create(e,vn(0,i,o),vn(e.content.size,i,o)):Re.create(e,vn(t,i,o),vn(t,i,o))}const w5=(e=null,t)=>({editor:r,view:n,tr:i,dispatch:o})=>{t=Q({scrollIntoView:!0},t);const a=()=>{J0()&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),(t==null?void 0:t.scrollIntoView)&&r.commands.scrollIntoView())})};if(n.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!hd(r.state.selection))return a(),!0;const s=pd(r.state.doc,e)||r.state.selection,u=r.state.selection.eq(s);return o&&(u||i.setSelection(s),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),a()),!0};var k5=Object.freeze({__proto__:null,focus:w5});const S5=(e,t)=>r=>e.every((n,i)=>t(n,Tt(Q({},r),{index:i})));var A5=Object.freeze({__proto__:null,forEach:S5});const M5=(e,t)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},e,t);var C5=Object.freeze({__proto__:null,insertContent:M5});function dd(e){const t=`<body>${e}</body>`;return new window.DOMParser().parseFromString(t,"text/html").body}function as(e,t,r){if(r=Q({slice:!0,parseOptions:{}},r),typeof e=="object"&&e!==null)try{return Array.isArray(e)?X.fromArray(e.map(n=>t.nodeFromJSON(n))):t.nodeFromJSON(e)}catch(n){return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",n),as("",t,r)}if(typeof e=="string"){const n=_r.fromSchema(t);return r.slice?n.parseSlice(dd(e),r.parseOptions).content:n.parse(dd(e),r.parseOptions)}return as("",t,r)}function T5(e,t,r){const n=e.steps.length-1;if(n<t)return;const i=e.steps[n];if(!(i instanceof fn||i instanceof Ut))return;const o=e.mapping.maps[n];let a=0;o.forEach((s,u,h,d)=>{a===0&&(a=d)}),e.setSelection(Oe.near(e.doc.resolve(a),r))}const E5=e=>e.toString().startsWith("<"),O5=(e,t,r)=>({tr:n,dispatch:i,editor:o})=>{if(i){r=Q({parseOptions:{},updateSelection:!0},r);const a=as(t,o.schema,{parseOptions:Q({preserveWhitespace:"full"},r.parseOptions)});if(a.toString()==="<>")return!0;let{from:s,to:u}=typeof e=="number"?{from:e,to:e}:e,h=!0,d=!0;if((E5(a)?a:[a]).forEach(y=>{y.check(),h=h?y.isText&&y.marks.length===0:!1,d=d?y.isBlock:!1}),s===u&&d){const{parent:y}=n.doc.resolve(s);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(s-=1,u+=1)}h?n.insertText(t,s,u):n.replaceWith(s,u,a),r.updateSelection&&T5(n,n.steps.length-1,-1)}return!0};var _5=Object.freeze({__proto__:null,insertContentAt:O5});const N5=()=>({state:e,dispatch:t})=>Ih(e,t);var D5=Object.freeze({__proto__:null,joinBackward:N5});const z5=()=>({state:e,dispatch:t})=>Lh(e,t);var B5=Object.freeze({__proto__:null,joinForward:z5});function md(){return typeof navigator!="undefined"?/Mac/.test(navigator.platform):!1}function R5(e){const t=e.split(/-(?!$)/);let r=t[t.length-1];r==="Space"&&(r=" ");let n,i,o,a;for(let s=0;s<t.length-1;s+=1){const u=t[s];if(/^(cmd|meta|m)$/i.test(u))a=!0;else if(/^a(lt)?$/i.test(u))n=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))J0()||md()?a=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return n&&(r=`Alt-${r}`),i&&(r=`Ctrl-${r}`),a&&(r=`Meta-${r}`),o&&(r=`Shift-${r}`),r}const I5=e=>({editor:t,view:r,tr:n,dispatch:i})=>{const o=R5(e).split(/-(?!$)/),a=o.find(h=>!["Alt","Ctrl","Meta","Shift"].includes(h)),s=new KeyboardEvent("keydown",{key:a==="Space"?" ":a,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),u=t.captureTransaction(()=>{r.someProp("handleKeyDown",h=>h(r,s))});return u==null||u.steps.forEach(h=>{const d=h.map(n.mapping);d&&i&&n.maybeStep(d)}),!0};var F5=Object.freeze({__proto__:null,keyboardShortcut:I5});function Io(e,t,r={}){const{from:n,to:i,empty:o}=e.selection,a=t?yt(t,e.schema):null,s=[];e.doc.nodesBetween(n,i,(m,y)=>{if(m.isText)return;const k=Math.max(n,y),A=Math.min(i,y+m.nodeSize);s.push({node:m,from:k,to:A})});const u=i-n,h=s.filter(m=>a?a.name===m.node.type.name:!0).filter(m=>is(m.node.attrs,r,{strict:!1}));return o?!!h.length:h.reduce((m,y)=>m+y.to-y.from,0)>=u}const P5=(e,t={})=>({state:r,dispatch:n})=>{const i=yt(e,r.schema);return Io(r,i,t)?f2(r,n):!1};var L5=Object.freeze({__proto__:null,lift:P5});const q5=()=>({state:e,dispatch:t})=>Gh(e,t);var H5=Object.freeze({__proto__:null,liftEmptyBlock:q5});const j5=e=>({state:t,dispatch:r})=>{const n=yt(e,t.schema);return x2(n)(t,r)};var V5=Object.freeze({__proto__:null,liftListItem:j5});const $5=()=>({state:e,dispatch:t})=>jh(e,t);var G5=Object.freeze({__proto__:null,newlineInCode:$5});function ss(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function vd(e,t){const r=typeof t=="string"?[t]:t;return Object.keys(e).reduce((n,i)=>(r.includes(i)||(n[i]=e[i]),n),{})}const W5=(e,t)=>({tr:r,state:n,dispatch:i})=>{let o=null,a=null;const s=ss(typeof e=="string"?e:e.name,n.schema);return s?(s==="node"&&(o=yt(e,n.schema)),s==="mark"&&(a=Fn(e,n.schema)),i&&r.selection.ranges.forEach(u=>{n.doc.nodesBetween(u.$from.pos,u.$to.pos,(h,d)=>{o&&o===h.type&&r.setNodeMarkup(d,void 0,vd(h.attrs,t)),a&&h.marks.length&&h.marks.forEach(m=>{a===m.type&&r.addMark(d,d+h.nodeSize,a.create(vd(m.attrs,t)))})})}),!0):!1};var U5=Object.freeze({__proto__:null,resetAttributes:W5});const K5=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0);var J5=Object.freeze({__proto__:null,scrollIntoView:K5});const X5=()=>({tr:e,commands:t})=>t.setTextSelection({from:0,to:e.doc.content.size});var Y5=Object.freeze({__proto__:null,selectAll:X5});const Z5=()=>({state:e,dispatch:t})=>Fh(e,t);var Q5=Object.freeze({__proto__:null,selectNodeBackward:Z5});const e3=()=>({state:e,dispatch:t})=>qh(e,t);var t3=Object.freeze({__proto__:null,selectNodeForward:e3});const r3=()=>({state:e,dispatch:t})=>p2(e,t);var n3=Object.freeze({__proto__:null,selectParentNode:r3});const i3=()=>({state:e,dispatch:t})=>Jh(e,t);var o3=Object.freeze({__proto__:null,selectTextblockEnd:i3});const a3=()=>({state:e,dispatch:t})=>Kh(e,t);var s3=Object.freeze({__proto__:null,selectTextblockStart:a3});function gd(e,t,r={}){return as(e,t,{slice:!1,parseOptions:r})}const l3=(e,t=!1,r={})=>({tr:n,editor:i,dispatch:o})=>{const{doc:a}=n,s=gd(e,i.schema,r),u=Re.create(a,0,a.content.size);return o&&n.setSelection(u).replaceSelectionWith(s,!1).setMeta("preventUpdate",!t),!0};var u3=Object.freeze({__proto__:null,setContent:l3});function yd(e,t){const r=Fn(t,e.schema),{from:n,to:i,empty:o}=e.selection,a=[];o?(e.storedMarks&&a.push(...e.storedMarks),a.push(...e.selection.$head.marks())):e.doc.nodesBetween(n,i,u=>{a.push(...u.marks)});const s=a.find(u=>u.type.name===r.name);return s?Q({},s.attrs):{}}const c3=(e,t={})=>({tr:r,state:n,dispatch:i})=>{const{selection:o}=r,{empty:a,ranges:s}=o,u=Fn(e,n.schema);if(i)if(a){const h=yd(n,u);r.addStoredMark(u.create(Q(Q({},h),t)))}else s.forEach(h=>{const d=h.$from.pos,m=h.$to.pos;n.doc.nodesBetween(d,m,(y,k)=>{const A=Math.max(k,d),C=Math.min(k+y.nodeSize,m);y.marks.find(N=>N.type===u)?y.marks.forEach(N=>{u===N.type&&r.addMark(A,C,u.create(Q(Q({},N.attrs),t)))}):r.addMark(A,C,u.create(t))})});return!0};var f3=Object.freeze({__proto__:null,setMark:c3});const h3=(e,t)=>({tr:r})=>(r.setMeta(e,t),!0);var p3=Object.freeze({__proto__:null,setMeta:h3});const d3=(e,t={})=>({state:r,dispatch:n,chain:i})=>{const o=yt(e,r.schema);return o.isTextblock?i().command(({commands:a})=>Xh(o,t)(r)?!0:a.clearNodes()).command(({state:a})=>Xh(o,t)(a,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)};var m3=Object.freeze({__proto__:null,setNode:d3});const v3=e=>({tr:t,dispatch:r})=>{if(r){const{doc:n}=t,i=Oe.atStart(n).from,o=Oe.atEnd(n).to,a=vn(e,i,o),s=_e.create(n,a);t.setSelection(s)}return!0};var g3=Object.freeze({__proto__:null,setNodeSelection:v3});const y3=e=>({tr:t,dispatch:r})=>{if(r){const{doc:n}=t,{from:i,to:o}=typeof e=="number"?{from:e,to:e}:e,a=Re.atStart(n).from,s=Re.atEnd(n).to,u=vn(i,a,s),h=vn(o,a,s),d=Re.create(n,u,h);t.setSelection(d)}return!0};var b3=Object.freeze({__proto__:null,setTextSelection:y3});const x3=e=>({state:t,dispatch:r})=>{const n=yt(e,t.schema);return S2(n)(t,r)};var w3=Object.freeze({__proto__:null,sinkListItem:x3});function ls(e,t,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const i=e.find(o=>o.type===t&&o.name===n);return i?i.attribute.keepOnSplit:!1}))}function k3(e){for(let t=0;t<e.edgeCount;t+=1){const{type:r}=e.edge(t);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function bd(e,t){const r=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(r){const n=r.filter(i=>t==null?void 0:t.includes(i.type.name));e.tr.ensureMarks(n)}}const S3=({keepMarks:e=!0}={})=>({tr:t,state:r,dispatch:n,editor:i})=>{const{selection:o,doc:a}=t,{$from:s,$to:u}=o,h=i.extensionManager.attributes,d=ls(h,s.node().type.name,s.node().attrs);if(o instanceof _e&&o.node.isBlock)return!s.parentOffset||!hn(a,s.pos)?!1:(n&&(e&&bd(r,i.extensionManager.splittableMarks),t.split(s.pos).scrollIntoView()),!0);if(!s.parent.isBlock)return!1;if(n){const m=u.parentOffset===u.parent.content.size;o instanceof Re&&t.deleteSelection();const y=s.depth===0?void 0:k3(s.node(-1).contentMatchAt(s.indexAfter(-1)));let k=m&&y?[{type:y,attrs:d}]:void 0,A=hn(t.doc,t.mapping.map(s.pos),1,k);if(!k&&!A&&hn(t.doc,t.mapping.map(s.pos),1,y?[{type:y}]:void 0)&&(A=!0,k=y?[{type:y,attrs:d}]:void 0),A&&(t.split(t.mapping.map(s.pos),1,k),y&&!m&&!s.parentOffset&&s.parent.type!==y)){const C=t.mapping.map(s.before()),D=t.doc.resolve(C);s.node(-1).canReplaceWith(D.index(),D.index()+1,y)&&t.setNodeMarkup(t.mapping.map(s.before()),y)}e&&bd(r,i.extensionManager.splittableMarks),t.scrollIntoView()}return!0};var A3=Object.freeze({__proto__:null,splitBlock:S3});const M3=e=>({tr:t,state:r,dispatch:n,editor:i})=>{var o;const a=yt(e,r.schema),{$from:s,$to:u}=r.selection,h=r.selection.node;if(h&&h.isBlock||s.depth<2||!s.sameParent(u))return!1;const d=s.node(-1);if(d.type!==a)return!1;const m=i.extensionManager.attributes;if(s.parent.content.size===0&&s.node(-1).childCount===s.indexAfter(-1)){if(s.depth===2||s.node(-3).type!==a||s.index(-2)!==s.node(-2).childCount-1)return!1;if(n){let D=X.empty;const N=s.index(-1)?1:s.index(-2)?2:3;for(let G=s.depth-N;G>=s.depth-3;G-=1)D=X.from(s.node(G).copy(D));const T=s.indexAfter(-1)<s.node(-2).childCount?1:s.indexAfter(-2)<s.node(-3).childCount?2:3,I=ls(m,s.node().type.name,s.node().attrs),O=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(I))||void 0;D=D.append(X.from(a.createAndFill(null,O)||void 0));const H=s.before(s.depth-(N-1));t.replace(H,s.after(-T),new ue(D,4-N,0));let L=-1;t.doc.nodesBetween(H,t.doc.content.size,(G,Z)=>{if(L>-1)return!1;G.isTextblock&&G.content.size===0&&(L=Z+1)}),L>-1&&t.setSelection(Re.near(t.doc.resolve(L))),t.scrollIntoView()}return!0}const y=u.pos===s.end()?d.contentMatchAt(0).defaultType:null,k=ls(m,d.type.name,d.attrs),A=ls(m,s.node().type.name,s.node().attrs);t.delete(s.pos,u.pos);const C=y?[{type:a,attrs:k},{type:y,attrs:A}]:[{type:a,attrs:k}];return hn(t.doc,s.pos,2)?(n&&t.split(s.pos,2,C).scrollIntoView(),!0):!1};var C3=Object.freeze({__proto__:null,splitListItem:M3});function T3(e,t){for(let r=e.depth;r>0;r-=1){const n=e.node(r);if(t(n))return{pos:r>0?e.before(r):0,start:e.start(r),depth:r,node:n}}}function X0(e){return t=>T3(t.$from,e)}function us(e){const t=e.filter(i=>i.type==="extension"),r=e.filter(i=>i.type==="node"),n=e.filter(i=>i.type==="mark");return{baseExtensions:t,nodeExtensions:r,markExtensions:n}}function xd(e,t){const{nodeExtensions:r}=us(t),n=r.find(a=>a.name===e);if(!n)return!1;const i={name:n.name,options:n.options,storage:n.storage},o=Be(be(n,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}const wd=(e,t)=>{const r=X0(a=>a.type===t)(e.selection);if(!r)return!0;const n=e.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const i=e.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&wo(e.doc,r.pos)&&e.join(r.pos),!0},kd=(e,t)=>{const r=X0(a=>a.type===t)(e.selection);if(!r)return!0;const n=e.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const i=e.doc.nodeAt(n);return r.node.type===(i==null?void 0:i.type)&&wo(e.doc,n)&&e.join(n),!0},E3=(e,t)=>({editor:r,tr:n,state:i,dispatch:o,chain:a,commands:s,can:u})=>{const{extensions:h}=r.extensionManager,d=yt(e,i.schema),m=yt(t,i.schema),{selection:y}=i,{$from:k,$to:A}=y,C=k.blockRange(A);if(!C)return!1;const D=X0(N=>xd(N.type.name,h))(y);if(C.depth>=1&&D&&C.depth-D.depth<=1){if(D.node.type===d)return s.liftListItem(m);if(xd(D.node.type.name,h)&&d.validContent(D.node.content)&&o)return a().command(()=>(n.setNodeMarkup(D.pos,d),!0)).command(()=>wd(n,d)).command(()=>kd(n,d)).run()}return a().command(()=>u().wrapInList(d)?!0:s.clearNodes()).wrapInList(d).command(()=>wd(n,d)).command(()=>kd(n,d)).run()};var O3=Object.freeze({__proto__:null,toggleList:E3});function Y0(e,t,r={}){const{empty:n,ranges:i}=e.selection,o=t?Fn(t,e.schema):null;if(n)return!!(e.storedMarks||e.selection.$from.marks()).filter(m=>o?o.name===m.type.name:!0).find(m=>is(m.attrs,r,{strict:!1}));let a=0;const s=[];if(i.forEach(({$from:m,$to:y})=>{const k=m.pos,A=y.pos;e.doc.nodesBetween(k,A,(C,D)=>{if(!C.isText&&!C.marks.length)return;const N=Math.max(k,D),T=Math.min(A,D+C.nodeSize);a+=T-N,s.push(...C.marks.map(O=>({mark:O,from:N,to:T})))})}),a===0)return!1;const u=s.filter(m=>o?o.name===m.mark.type.name:!0).filter(m=>is(m.mark.attrs,r,{strict:!1})).reduce((m,y)=>m+y.to-y.from,0),h=s.filter(m=>o?m.mark.type!==o&&m.mark.type.excludes(o):!0).reduce((m,y)=>m+y.to-y.from,0);return(u>0?u+h:u)>=a}const _3=(e,t={},r={})=>({state:n,commands:i})=>{const{extendEmptyMarkRange:o=!1}=r,a=Fn(e,n.schema);return Y0(n,a,t)?i.unsetMark(a,{extendEmptyMarkRange:o}):i.setMark(a,t)};var N3=Object.freeze({__proto__:null,toggleMark:_3});const D3=(e,t,r={})=>({state:n,commands:i})=>{const o=yt(e,n.schema),a=yt(t,n.schema);return Io(n,o,r)?i.setNode(a):i.setNode(o,r)};var z3=Object.freeze({__proto__:null,toggleNode:D3});const B3=(e,t={})=>({state:r,commands:n})=>{const i=yt(e,r.schema);return Io(r,i,t)?n.lift(i):n.wrapIn(i,t)};var R3=Object.freeze({__proto__:null,toggleWrap:B3});const I3=()=>({state:e,dispatch:t})=>{const r=e.plugins;for(let n=0;n<r.length;n+=1){const i=r[n];let o;if(i.spec.isInputRules&&(o=i.getState(e))){if(t){const a=e.tr,s=o.transform;for(let u=s.steps.length-1;u>=0;u-=1)a.step(s.steps[u].invert(s.docs[u]));if(o.text){const u=a.doc.resolve(o.from).marks();a.replaceWith(o.from,o.to,e.schema.text(o.text,u))}else a.delete(o.from,o.to)}return!0}}return!1};var F3=Object.freeze({__proto__:null,undoInputRule:I3});const P3=()=>({tr:e,dispatch:t})=>{const{selection:r}=e,{empty:n,ranges:i}=r;return n||t&&i.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0};var L3=Object.freeze({__proto__:null,unsetAllMarks:P3});const q3=(e,t={})=>({tr:r,state:n,dispatch:i})=>{var o;const{extendEmptyMarkRange:a=!1}=t,{selection:s}=r,u=Fn(e,n.schema),{$from:h,empty:d,ranges:m}=s;if(!i)return!0;if(d&&a){let{from:y,to:k}=s;const A=(o=h.marks().find(D=>D.type===u))===null||o===void 0?void 0:o.attrs,C=K0(h,u,A);C&&(y=C.from,k=C.to),r.removeMark(y,k,u)}else m.forEach(y=>{r.removeMark(y.$from.pos,y.$to.pos,u)});return r.removeStoredMark(u),!0};var H3=Object.freeze({__proto__:null,unsetMark:q3});const j3=(e,t={})=>({tr:r,state:n,dispatch:i})=>{let o=null,a=null;const s=ss(typeof e=="string"?e:e.name,n.schema);return s?(s==="node"&&(o=yt(e,n.schema)),s==="mark"&&(a=Fn(e,n.schema)),i&&r.selection.ranges.forEach(u=>{const h=u.$from.pos,d=u.$to.pos;n.doc.nodesBetween(h,d,(m,y)=>{o&&o===m.type&&r.setNodeMarkup(y,void 0,Q(Q({},m.attrs),t)),a&&m.marks.length&&m.marks.forEach(k=>{if(a===k.type){const A=Math.max(y,h),C=Math.min(y+m.nodeSize,d);r.addMark(A,C,a.create(Q(Q({},k.attrs),t)))}})})}),!0):!1};var V3=Object.freeze({__proto__:null,updateAttributes:j3});const $3=(e,t={})=>({state:r,dispatch:n})=>{const i=yt(e,r.schema);return v2(i,t)(r,n)};var G3=Object.freeze({__proto__:null,wrapIn:$3});const W3=(e,t={})=>({state:r,dispatch:n})=>{const i=yt(e,r.schema);return y2(i,t)(r,n)};var U3=Object.freeze({__proto__:null,wrapInList:W3});const K3=jt.create({name:"commands",addCommands(){return Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q(Q({},Xy),Zy),e5),r5),i5),a5),l5),c5),h5),d5),g5),b5),k5),A5),C5),_5),D5),B5),F5),L5),H5),V5),G5),U5),J5),Y5),Q5),t3),n3),o3),s3),u3),f3),p3),m3),g3),b3),w3),A3),C3),O3),N3),z3),R3),F3),L3),H3),V3),G3),U3)}}),J3=jt.create({name:"editable",addProseMirrorPlugins(){return[new qt({key:new yr("editable"),props:{editable:()=>this.editor.options.editable}})]}}),X3=jt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new qt({key:new yr("focusEvents"),props:{handleDOMEvents:{focus:(t,r)=>{e.isFocused=!0;const n=e.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return t.dispatch(n),!1},blur:(t,r)=>{e.isFocused=!1;const n=e.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return t.dispatch(n),!1}}}})]}});function cs(e){const{state:t,transaction:r}=e;let{selection:n}=r,{doc:i}=r,{storedMarks:o}=r;return Tt(Q({},t),{schema:t.schema,plugins:t.plugins,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return n},get doc(){return i},get tr(){return n=r.selection,i=r.doc,o=r.storedMarks,r}})}class fs{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:r,state:n}=this,{view:i}=r,{tr:o}=n,a=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([s,u])=>[s,(...d)=>{const m=u(...d)(a);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,r=!0){const{rawCommands:n,editor:i,state:o}=this,{view:a}=i,s=[],u=!!t,h=t||o.tr,d=()=>(!u&&r&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&a.dispatch(h),s.every(y=>y===!0)),m=Tt(Q({},Object.fromEntries(Object.entries(n).map(([y,k])=>[y,(...C)=>{const D=this.buildProps(h,r),N=k(...C)(D);return s.push(N),m}]))),{run:d});return m}createCan(t){const{rawCommands:r,state:n}=this,i=void 0,o=t||n.tr,a=this.buildProps(o,i),s=Object.fromEntries(Object.entries(r).map(([u,h])=>[u,(...d)=>h(...d)(Tt(Q({},a),{dispatch:i}))]));return Tt(Q({},s),{chain:()=>this.createChain(o,i)})}buildProps(t,r=!0){const{rawCommands:n,editor:i,state:o}=this,{view:a}=i;o.storedMarks&&t.setStoredMarks(o.storedMarks);const s={tr:t,editor:i,view:a,state:cs({state:o,transaction:t}),dispatch:r?()=>{}:void 0,chain:()=>this.createChain(t),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([u,h])=>[u,(...d)=>h(...d)(s)]))}};return s}}const Y3=jt.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:a})=>[()=>a.undoInputRule(),()=>a.command(({tr:s})=>{const{selection:u,doc:h}=s,{empty:d,$anchor:m}=u,{pos:y,parent:k}=m,A=Oe.atStart(h).from===y;return!d||!A||!k.type.isTextblock||k.textContent.length?!1:a.clearNodes()}),()=>a.deleteSelection(),()=>a.joinBackward(),()=>a.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:a})=>[()=>a.deleteSelection(),()=>a.joinForward(),()=>a.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:a})=>[()=>a.newlineInCode(),()=>a.createParagraphNear(),()=>a.liftEmptyBlock(),()=>a.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},i=Tt(Q({},n),{Home:()=>this.editor.commands.selectTextblockStart(),End:()=>this.editor.commands.selectTextblockEnd()}),o=Tt(Q({},n),{"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()});return J0()||md()?o:i},addProseMirrorPlugins(){return[new qt({key:new yr("clearDocument"),appendTransaction:(e,t,r)=>{if(!(e.some(A=>A.docChanged)&&!t.doc.eq(r.doc)))return;const{empty:i,from:o,to:a}=t.selection,s=Oe.atStart(t.doc).from,u=Oe.atEnd(t.doc).to,h=o===s&&a===u,d=r.doc.textBetween(0,r.doc.content.size," "," ").length===0;if(i||!h||!d)return;const m=r.tr,y=cs({state:r,transaction:m}),{commands:k}=new fs({editor:this.editor,state:y});if(k.clearNodes(),!!m.steps.length)return m}})]}}),Z3=jt.create({name:"tabindex",addProseMirrorPlugins(){return[new qt({key:new yr("tabindex"),props:{attributes:()=>{if(this.editor.isEditable)return{tabindex:"0"}}}})]}});var Q3=Object.freeze({__proto__:null,ClipboardTextSerializer:Ky,Commands:K3,Editable:J3,FocusEvents:X3,Keymap:Y3,Tabindex:Z3});function e6(e,t){const r=yt(t,e.schema),{from:n,to:i}=e.selection,o=[];e.doc.nodesBetween(n,i,s=>{o.push(s)});const a=o.reverse().find(s=>s.type.name===r.name);return a?Q({},a.attrs):{}}function t6(e,t){const r=ss(typeof t=="string"?t:t.name,e.schema);return r==="node"?e6(e,t):r==="mark"?yd(e,t):{}}function r6(e,t,r={}){if(!t)return Io(e,null,r)||Y0(e,null,r);const n=ss(t,e.schema);return n==="node"?Io(e,t,r):n==="mark"?Y0(e,t,r):!1}function n6(e,t){const r=bt.fromSchema(t).serializeFragment(e),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(r),i.innerHTML}function i6(e,t){const r={from:0,to:e.content.size};return ud(e,r,t)}function o6(e){var t;const r=(t=e.type.createAndFill())===null||t===void 0?void 0:t.toJSON(),n=e.toJSON();return JSON.stringify(r)===JSON.stringify(n)}function a6(e){const t=document.querySelector("style[data-tiptap-style]");if(t!==null)return t;const r=document.createElement("style");return r.setAttribute("data-tiptap-style",""),r.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(r),r}class hs{constructor(t){this.find=t.find,this.handler=t.handler}}const s6=(e,t)=>{if(W0(t))return t.exec(e);const r=t(e);if(!r)return null;const n=[];return n.push(r.text),n.index=r.index,n.input=e,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function Z0(e){var t;const{editor:r,from:n,to:i,text:o,rules:a,plugin:s}=e,{view:u}=r;if(u.composing)return!1;const h=u.state.doc.resolve(n);if(h.parent.type.spec.code||!!((t=h.nodeBefore||h.nodeAfter)===null||t===void 0?void 0:t.marks.find(k=>k.type.spec.code)))return!1;let d=!1;const m=500,y=h.parent.textBetween(Math.max(0,h.parentOffset-m),h.parentOffset,void 0," ")+o;return a.forEach(k=>{if(d)return;const A=s6(y,k.find);if(!A)return;const C=u.state.tr,D=cs({state:u.state,transaction:C}),N={from:n-(A[0].length-o.length),to:i},{commands:T,chain:I,can:O}=new fs({editor:r,state:D});k.handler({state:D,range:N,match:A,commands:T,chain:I,can:O})===null||!C.steps.length||(C.setMeta(s,{transform:C,from:n,to:i,text:o}),u.dispatch(C),d=!0)}),d}function l6(e){const{editor:t,rules:r}=e,n=new qt({state:{init(){return null},apply(i,o){const a=i.getMeta(this);return a||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput(i,o,a,s){return Z0({editor:t,from:o,to:a,text:s,rules:r,plugin:n})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Z0({editor:t,from:o.pos,to:o.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:a}=i.state.selection;return a?Z0({editor:t,from:a.pos,to:a.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function u6(e){return typeof e=="number"}class c6{constructor(t){this.find=t.find,this.handler=t.handler}}const f6=(e,t)=>{if(W0(t))return[...e.matchAll(t)];const r=t(e);return r?r.map(n=>{const i=[];return i.push(n.text),i.index=n.index,i.input=e,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(n.replaceWith)),i}):[]};function h6(e){const{editor:t,state:r,from:n,to:i,rule:o}=e,{commands:a,chain:s,can:u}=new fs({editor:t,state:r}),h=[];return r.doc.nodesBetween(n,i,(m,y)=>{if(!m.isTextblock||m.type.spec.code)return;const k=Math.max(n,y),A=Math.min(i,y+m.content.size),C=m.textBetween(k-y,A-y,void 0,"\uFFFC");f6(C,o.find).forEach(N=>{if(N.index===void 0)return;const T=k+N.index+1,I=T+N[0].length,O={from:r.tr.mapping.map(T),to:r.tr.mapping.map(I)},H=o.handler({state:r,range:O,match:N,commands:a,chain:s,can:u});h.push(H)})}),h.every(m=>m!==null)}function p6(e){const{editor:t,rules:r}=e;let n=null,i=!1,o=!1;return r.map(s=>new qt({view(u){const h=d=>{var m;n=((m=u.dom.parentElement)===null||m===void 0?void 0:m.contains(d.target))?u.dom.parentElement:null};return window.addEventListener("dragstart",h),{destroy(){window.removeEventListener("dragstart",h)}}},props:{handleDOMEvents:{drop:u=>(o=n===u.dom.parentElement,!1),paste:(u,h)=>{var d;const m=(d=h.clipboardData)===null||d===void 0?void 0:d.getData("text/html");return i=!!(m==null?void 0:m.includes("data-pm-slice")),!1}}},appendTransaction:(u,h,d)=>{const m=u[0],y=m.getMeta("uiEvent")==="paste"&&!i,k=m.getMeta("uiEvent")==="drop"&&!o;if(!y&&!k)return;const A=h.doc.content.findDiffStart(d.doc.content),C=h.doc.content.findDiffEnd(d.doc.content);if(!u6(A)||!C||A===C.b)return;const D=d.tr,N=cs({state:d,transaction:D});if(!(!h6({editor:t,state:N,from:Math.max(A-1,0),to:C.b,rule:s})||!D.steps.length))return D}}))}function Sd(e){const t=[],{nodeExtensions:r,markExtensions:n}=us(e),i=[...r,...n],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0};return e.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage},u=be(a,"addGlobalAttributes",s);if(!u)return;u().forEach(d=>{d.types.forEach(m=>{Object.entries(d.attributes).forEach(([y,k])=>{t.push({type:m,name:y,attribute:Q(Q({},o),k)})})})})}),i.forEach(a=>{const s={name:a.name,options:a.options,storage:a.storage},u=be(a,"addAttributes",s);if(!u)return;const h=u();Object.entries(h).forEach(([d,m])=>{t.push({type:a.name,name:d,attribute:Q(Q({},o),m)})})}),t}function zt(...e){return e.filter(t=>!!t).reduce((t,r)=>{const n=Q({},t);return Object.entries(r).forEach(([i,o])=>{if(!n[i]){n[i]=o;return}i==="class"?n[i]=[n[i],o].join(" "):i==="style"?n[i]=[n[i],o].join("; "):n[i]=o}),n},{})}function Q0(e,t){return t.filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(e.attrs)||{}:{[r.name]:e.attrs[r.name]}).reduce((r,n)=>zt(r,n),{})}function d6(e={}){return Object.keys(e).length===0&&e.constructor===Object}function m6(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function Ad(e,t){return e.style?e:Tt(Q({},e),{getAttrs:r=>{const n=e.getAttrs?e.getAttrs(r):e.attrs;if(n===!1)return!1;const i=t.reduce((o,a)=>{const s=a.attribute.parseHTML?a.attribute.parseHTML(r):m6(r.getAttribute(a.name));return s==null?o:Tt(Q({},o),{[a.name]:s})},{});return Q(Q({},n),i)}})}function Md(e){return Object.fromEntries(Object.entries(e).filter(([t,r])=>t==="attrs"&&d6(r)?!1:r!=null))}function v6(e){var t;const r=Sd(e),{nodeExtensions:n,markExtensions:i}=us(e),o=(t=n.find(u=>be(u,"topNode")))===null||t===void 0?void 0:t.name,a=Object.fromEntries(n.map(u=>{const h=r.filter(D=>D.type===u.name),d={name:u.name,options:u.options,storage:u.storage},m=e.reduce((D,N)=>{const T=be(N,"extendNodeSchema",d);return Q(Q({},D),T?T(u):{})},{}),y=Md(Tt(Q({},m),{content:Be(be(u,"content",d)),marks:Be(be(u,"marks",d)),group:Be(be(u,"group",d)),inline:Be(be(u,"inline",d)),atom:Be(be(u,"atom",d)),selectable:Be(be(u,"selectable",d)),draggable:Be(be(u,"draggable",d)),code:Be(be(u,"code",d)),defining:Be(be(u,"defining",d)),isolating:Be(be(u,"isolating",d)),attrs:Object.fromEntries(h.map(D=>{var N;return[D.name,{default:(N=D==null?void 0:D.attribute)===null||N===void 0?void 0:N.default}]}))})),k=Be(be(u,"parseHTML",d));k&&(y.parseDOM=k.map(D=>Ad(D,h)));const A=be(u,"renderHTML",d);A&&(y.toDOM=D=>A({node:D,HTMLAttributes:Q0(D,h)}));const C=be(u,"renderText",d);return C&&(y.toText=C),[u.name,y]})),s=Object.fromEntries(i.map(u=>{const h=r.filter(C=>C.type===u.name),d={name:u.name,options:u.options,storage:u.storage},m=e.reduce((C,D)=>{const N=be(D,"extendMarkSchema",d);return Q(Q({},C),N?N(u):{})},{}),y=Md(Tt(Q({},m),{inclusive:Be(be(u,"inclusive",d)),excludes:Be(be(u,"excludes",d)),group:Be(be(u,"group",d)),spanning:Be(be(u,"spanning",d)),code:Be(be(u,"code",d)),attrs:Object.fromEntries(h.map(C=>{var D;return[C.name,{default:(D=C==null?void 0:C.attribute)===null||D===void 0?void 0:D.default}]}))})),k=Be(be(u,"parseHTML",d));k&&(y.parseDOM=k.map(C=>Ad(C,h)));const A=be(u,"renderHTML",d);return A&&(y.toDOM=C=>A({mark:C,HTMLAttributes:Q0(C,h)})),[u.name,y]}));return new ri({topNode:o,nodes:a,marks:s})}function eu(e,t){return t.nodes[e]||t.marks[e]||null}function Cd(e,t){return Array.isArray(t)?t.some(r=>(typeof r=="string"?r:r.name)===e.name):t}function g6(e){const t=e.filter((r,n)=>e.indexOf(r)!==n);return[...new Set(t)]}class $i{constructor(t,r){this.splittableMarks=[],this.editor=r,this.extensions=$i.resolve(t),this.schema=v6(this.extensions),this.extensions.forEach(n=>{var i;this.editor.extensionStorage[n.name]=n.storage;const o={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:eu(n.name,this.schema)};n.type==="mark"&&((i=Be(be(n,"keepOnSplit",o)))!==null&&i!==void 0?i:!0)&&this.splittableMarks.push(n.name);const a=be(n,"onBeforeCreate",o);a&&this.editor.on("beforeCreate",a);const s=be(n,"onCreate",o);s&&this.editor.on("create",s);const u=be(n,"onUpdate",o);u&&this.editor.on("update",u);const h=be(n,"onSelectionUpdate",o);h&&this.editor.on("selectionUpdate",h);const d=be(n,"onTransaction",o);d&&this.editor.on("transaction",d);const m=be(n,"onFocus",o);m&&this.editor.on("focus",m);const y=be(n,"onBlur",o);y&&this.editor.on("blur",y);const k=be(n,"onDestroy",o);k&&this.editor.on("destroy",k)})}static resolve(t){const r=$i.sort($i.flatten(t)),n=g6(r.map(i=>i.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),r}static flatten(t){return t.map(r=>{const n={name:r.name,options:r.options,storage:r.storage},i=be(r,"addExtensions",n);return i?[r,...this.flatten(i())]:r}).flat(10)}static sort(t){const r=100;return t.sort((n,i)=>{const o=be(n,"priority")||r,a=be(i,"priority")||r;return o>a?-1:o<a?1:0})}get commands(){return this.extensions.reduce((t,r)=>{const n={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:eu(r.name,this.schema)},i=be(r,"addCommands",n);return i?Q(Q({},t),i()):t},{})}get plugins(){const{editor:t}=this,r=$i.sort([...this.extensions].reverse()),n=[],i=[],o=r.map(a=>{const s={name:a.name,options:a.options,storage:a.storage,editor:t,type:eu(a.name,this.schema)},u=[],h=be(a,"addKeyboardShortcuts",s);if(h){const k=Object.fromEntries(Object.entries(h()).map(([C,D])=>[C,()=>D({editor:t})])),A=Wy(k);u.push(A)}const d=be(a,"addInputRules",s);Cd(a,t.options.enableInputRules)&&d&&n.push(...d());const m=be(a,"addPasteRules",s);Cd(a,t.options.enablePasteRules)&&m&&i.push(...m());const y=be(a,"addProseMirrorPlugins",s);if(y){const k=y();u.push(...k)}return u}).flat();return[l6({editor:t,rules:n}),...p6({editor:t,rules:i}),...o]}get attributes(){return Sd(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:r}=us(this.extensions);return Object.fromEntries(r.filter(n=>!!be(n,"addNodeView")).map(n=>{const i=this.attributes.filter(u=>u.type===n.name),o={name:n.name,options:n.options,storage:n.storage,editor:t,type:yt(n.name,this.schema)},a=be(n,"addNodeView",o);if(!a)return[];const s=(u,h,d,m)=>{const y=Q0(u,i);return a()({editor:t,node:u,getPos:d,decorations:m,HTMLAttributes:y,extension:n})};return[n.name,s]}))}}class y6{constructor(){this.callbacks={}}on(t,r){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(r),this}emit(t,...r){const n=this.callbacks[t];return n&&n.forEach(i=>i.apply(this,r)),this}off(t,r){const n=this.callbacks[t];return n&&(r?this.callbacks[t]=n.filter(i=>i!==r):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}const b6=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;class x6 extends y6{constructor(t={}){super();this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=a6(b6))}setOptions(t={}){this.options=Q(Q({},this.options),t),!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t){this.setOptions({editable:t})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,r){const n=ld(r)?r(t,this.state.plugins):[...this.state.plugins,t],i=this.state.reconfigure({plugins:n});this.view.updateState(i)}unregisterPlugin(t){if(this.isDestroyed)return;const r=typeof t=="string"?`${t}$`:t.key,n=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(r))});this.view.updateState(n)}createExtensionManager(){const r=[...this.options.enableCoreExtensions?Object.values(Q3):[],...this.options.extensions].filter(n=>["extension","node","mark"].includes(n==null?void 0:n.type));this.extensionManager=new $i(r,this)}createCommandManager(){this.commandManager=new fs({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const t=gd(this.options.content,this.schema,this.options.parseOptions),r=pd(t,this.options.autofocus);this.view=new pt(this.options.element,Tt(Q({},this.options.editorProps),{dispatchTransaction:this.dispatchTransaction.bind(this),state:Dt.create({doc:t,selection:r})}));const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const r=this.capturedTransaction;return this.capturedTransaction=null,r}dispatchTransaction(t){if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(a=>{var s;return(s=this.capturedTransaction)===null||s===void 0?void 0:s.step(a)});return}const r=this.state.apply(t),n=!this.state.selection.eq(r.selection);this.view.updateState(r),this.emit("transaction",{editor:this,transaction:t}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const i=t.getMeta("focus"),o=t.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:t}),o&&this.emit("blur",{editor:this,event:o.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return t6(this.state,t)}isActive(t,r){const n=typeof t=="string"?t:null,i=typeof t=="string"?r:t;return r6(this.state,n,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return n6(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:r=`

`,textSerializers:n={}}=t||{};return i6(this.state.doc,{blockSeparator:r,textSerializers:Q(Q({},n),cd(this.schema))})}get isEmpty(){return o6(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!((t=this.view)===null||t===void 0?void 0:t.docView)}}class Jt{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=Q(Q({},this.config),t),this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Be(be(this,"addOptions",{name:this.name}))),this.storage=Be(be(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Jt(t)}configure(t={}){const r=this.extend();return r.options=ns(this.options,t),r.storage=Be(be(r,"addStorage",{name:r.name,options:r.options})),r}extend(t={}){const r=new Jt(t);return r.parent=this,this.child=r,r.name=t.name?t.name:r.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Be(be(r,"addOptions",{name:r.name})),r.storage=Be(be(r,"addStorage",{name:r.name,options:r.options})),r}}class Pn{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config=Q(Q({},this.config),t),this.name=this.config.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Be(be(this,"addOptions",{name:this.name}))),this.storage=Be(be(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Pn(t)}configure(t={}){const r=this.extend();return r.options=ns(this.options,t),r.storage=Be(be(r,"addStorage",{name:r.name,options:r.options})),r}extend(t={}){const r=new Pn(t);return r.parent=this,this.child=r,r.name=t.name?t.name:r.parent.name,t.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${r.name}".`),r.options=Be(be(r,"addOptions",{name:r.name})),r.storage=Be(be(r,"addStorage",{name:r.name,options:r.options})),r}}function w6(e){return new hs({find:e.find,handler:({state:t,range:r,match:n})=>{const i=Be(e.getAttributes,void 0,n)||{},{tr:o}=t,a=r.from;let s=r.to;if(n[1]){const u=n[0].lastIndexOf(n[1]);let h=a+u;h>s?h=s:s=h+n[1].length;const d=n[0][n[0].length-1];o.insertText(d,a+n[0].length-1),o.replaceWith(h,s,e.type.create(i))}else n[0]&&o.replaceWith(a,s,e.type.create(i))}})}function Td(e,t,r){const n=[];return e===t?r.resolve(e).marks().forEach(i=>{const o=r.resolve(e-1),a=K0(o,i.type);!a||n.push(Q({mark:i},a))}):r.nodesBetween(e,t,(i,o)=>{n.push(...i.marks.map(a=>({from:o,to:o+i.nodeSize,mark:a})))}),n}function Gi(e){return new hs({find:e.find,handler:({state:t,range:r,match:n})=>{const i=Be(e.getAttributes,void 0,n);if(i===!1||i===null)return null;const{tr:o}=t,a=n[n.length-1],s=n[0];let u=r.to;if(a){const h=s.search(/\S/),d=r.from+s.indexOf(a),m=d+a.length;if(Td(r.from,r.to,t.doc).filter(k=>k.mark.type.excluded.find(C=>C===e.type&&C!==k.mark.type)).filter(k=>k.to>d).length)return null;m<r.to&&o.delete(m,r.to),d>r.from&&o.delete(r.from+h,d),u=r.from+h+a.length,o.addMark(r.from+h,u,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}function tu(e){return new hs({find:e.find,handler:({state:t,range:r,match:n})=>{const i=t.doc.resolve(r.from),o=Be(e.getAttributes,void 0,n)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),e.type))return null;t.tr.delete(r.from,r.to).setBlockType(r.from,r.from,e.type,o)}})}function ru(e){return new hs({find:e.find,handler:({state:t,range:r,match:n})=>{const i=Be(e.getAttributes,void 0,n)||{},o=t.tr.delete(r.from,r.to),s=o.doc.resolve(r.from).blockRange(),u=s&&e0(s,e.type,i);if(!u)return null;o.wrap(s,u);const h=o.doc.resolve(r.from-1).nodeBefore;h&&h.type===e.type&&wo(o.doc,r.from-1)&&(!e.joinPredicate||e.joinPredicate(n,h))&&o.join(r.from-1)}})}function Wi(e){return new c6({find:e.find,handler:({state:t,range:r,match:n})=>{const i=Be(e.getAttributes,void 0,n);if(i===!1||i===null)return null;const{tr:o}=t,a=n[n.length-1],s=n[0];let u=r.to;if(a){const h=s.search(/\S/),d=r.from+s.indexOf(a),m=d+a.length;if(Td(r.from,r.to,t.doc).filter(k=>k.mark.type.excluded.find(C=>C===e.type&&C!==k.mark.type)).filter(k=>k.to>d).length)return null;m<r.to&&o.delete(m,r.to),d>r.from&&o.delete(r.from+h,d),u=r.from+h+a.length,o.addMark(r.from+h,u,e.type.create(i||{})),o.removeStoredMark(e.type)}}})}function k6(e){return fd(e)&&e instanceof _e}function Ed(e,t,r){const n=0,i=e.state.doc.content.size,o=vn(t,n,i),a=vn(r,n,i),s=e.coordsAtPos(o),u=e.coordsAtPos(a,-1),h=Math.min(s.top,u.top),d=Math.max(s.bottom,u.bottom),m=Math.min(s.left,u.left),y=Math.max(s.right,u.right),k=y-m,A=d-h,N={top:h,bottom:d,left:m,right:y,width:k,height:A,x:m,y:h};return Tt(Q({},N),{toJSON:()=>N})}const S6=/^\s*>\s$/,A6=Jt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",zt(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ru({find:S6,type:this.type})]}}),M6=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,C6=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,T6=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,E6=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,O6=Pn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",zt(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Gi({find:M6,type:this.type}),Gi({find:T6,type:this.type})]},addPasteRules(){return[Wi({find:C6,type:this.type}),Wi({find:E6,type:this.type})]}}),_6=/^\s*([-+*])\s$/,N6=Jt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",zt(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[ru({find:_6,type:this.type})]}}),D6=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,z6=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,B6=Pn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",zt(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Gi({find:D6,type:this.type})]},addPasteRules(){return[Wi({find:z6,type:this.type})]}}),R6=/^```([a-z]+)?[\s\n]$/,I6=/^~~~([a-z]+)?[\s\n]$/,F6=Jt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:e=>{var t;const{languageClassPrefix:r}=this.options,o=[...((t=e.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(a=>a.startsWith(r)).map(a=>a.replace(r,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",zt(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,r=t.pos===1;return!e||t.parent.type.name!==this.name?!1:r||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:r}=t,{$from:n,empty:i}=r;if(!i||n.parent.type!==this.type)return!1;const o=n.parentOffset===n.parent.nodeSize-2,a=n.parent.textContent.endsWith(`

`);return!o||!a?!1:e.chain().command(({tr:s})=>(s.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:r,doc:n}=t,{$from:i,empty:o}=r;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const s=i.after();return s===void 0||n.nodeAt(s)?!1:e.commands.exitCode()}}},addInputRules(){return[tu({find:R6,type:this.type,getAttributes:e=>({language:e[1]})}),tu({find:I6,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new qt({key:new yr("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const r=t.clipboardData.getData("text/plain"),n=t.clipboardData.getData("vscode-editor-data"),i=n?JSON.parse(n):void 0,o=i==null?void 0:i.mode;if(!r||!o)return!1;const{tr:a}=e.state;return a.replaceSelectionWith(this.type.create({language:o})),a.setSelection(Re.near(a.doc.resolve(Math.max(0,a.selection.from-2)))),a.insertText(r.replace(/\r\n?/g,`
`)),a.setMeta("paste",!0),e.dispatch(a),!0}}})]}}),P6=Jt.create({name:"doc",topNode:!0,content:"block+"});function L6(e){return e===void 0&&(e={}),new qt({view:function(r){return new Wr(r,e)}})}var Wr=function(t,r){var n=this;this.editorView=t,this.width=r.width||1,this.color=r.color||"black",this.class=r.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map(function(i){var o=function(a){return n[i](a)};return t.dom.addEventListener(i,o),{name:i,handler:o}})};Wr.prototype.destroy=function(){var t=this;this.handlers.forEach(function(r){var n=r.name,i=r.handler;return t.editorView.dom.removeEventListener(n,i)})};Wr.prototype.update=function(t,r){this.cursorPos!=null&&r.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())};Wr.prototype.setCursor=function(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())};Wr.prototype.updateOverlay=function(){var t=this.editorView.state.doc.resolve(this.cursorPos),r;if(!t.parent.inlineContent){var n=t.nodeBefore,i=t.nodeAfter;if(n||i){var o=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),a=n?o.bottom:o.top;n&&i&&(a=(a+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:o.left,right:o.right,top:a-this.width/2,bottom:a+this.width/2}}}if(!r){var s=this.editorView.coordsAtPos(this.cursorPos);r={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}var u=this.editorView.dom.offsetParent;this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color);var h,d;if(!u||u==document.body&&getComputedStyle(u).position=="static")h=-pageXOffset,d=-pageYOffset;else{var m=u.getBoundingClientRect();h=m.left-u.scrollLeft,d=m.top-u.scrollTop}this.element.style.left=r.left-h+"px",this.element.style.top=r.top-d+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"};Wr.prototype.scheduleRemoval=function(t){var r=this;clearTimeout(this.timeout),this.timeout=setTimeout(function(){return r.setCursor(null)},t)};Wr.prototype.dragover=function(t){if(!!this.editorView.editable){var r=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),i=n&&n.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,r):i;if(r&&!o){var a=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(a=Ah(this.editorView.state.doc,a,this.editorView.dragging.slice),a==null))return this.setCursor(null);this.setCursor(a),this.scheduleRemoval(5e3)}}};Wr.prototype.dragend=function(){this.scheduleRemoval(20)};Wr.prototype.drop=function(){this.scheduleRemoval(20)};Wr.prototype.dragleave=function(t){(t.target==this.editorView.dom||!this.editorView.dom.contains(t.relatedTarget))&&this.setCursor(null)};const q6=jt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:null}},addProseMirrorPlugins(){return[L6(this.options)]}});var wr=function(e){function t(r){e.call(this,r,r)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,i){var o=n.resolve(i.map(this.head));return t.valid(o)?new t(o):e.near(o)},t.prototype.content=function(){return ue.empty},t.prototype.eq=function(n){return n instanceof t&&n.head==this.head},t.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},t.fromJSON=function(n,i){if(typeof i.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new t(n.resolve(i.pos))},t.prototype.getBookmark=function(){return new ps(this.anchor)},t.valid=function(n){var i=n.parent;if(i.isTextblock||!H6(n)||!j6(n))return!1;var o=i.type.spec.allowGapCursor;if(o!=null)return o;var a=i.contentMatchAt(n.index()).defaultType;return a&&a.isTextblock},t.findFrom=function(n,i,o){e:for(;;){if(!o&&t.valid(n))return n;for(var a=n.pos,s=null,u=n.depth;;u--){var h=n.node(u);if(i>0?n.indexAfter(u)<h.childCount:n.index(u)>0){s=h.child(i>0?n.indexAfter(u):n.index(u)-1);break}else if(u==0)return null;a+=i;var d=n.doc.resolve(a);if(t.valid(d))return d}for(;;){var m=i>0?s.firstChild:s.lastChild;if(!m){if(s.isAtom&&!s.isText&&!_e.isSelectable(s)){n=n.doc.resolve(a+s.nodeSize*i),o=!1;continue e}break}s=m,a+=i;var y=n.doc.resolve(a);if(t.valid(y))return y}return null}},t}(Oe);wr.prototype.visible=!1;Oe.jsonID("gapcursor",wr);var ps=function(t){this.pos=t};ps.prototype.map=function(t){return new ps(t.map(this.pos))};ps.prototype.resolve=function(t){var r=t.resolve(this.pos);return wr.valid(r)?new wr(r):Oe.near(r)};function H6(e){for(var t=e.depth;t>=0;t--){var r=e.index(t),n=e.node(t);if(r==0){if(n.type.spec.isolating)return!0;continue}for(var i=n.child(r-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function j6(e){for(var t=e.depth;t>=0;t--){var r=e.indexAfter(t),n=e.node(t);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(var i=n.child(r);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}var V6=function(){return new qt({props:{decorations:U6,createSelectionBetween:function(t,r,n){if(r.pos==n.pos&&wr.valid(n))return new wr(n)},handleClick:G6,handleKeyDown:$6,handleDOMEvents:{beforeinput:W6}}})},$6=sd({ArrowLeft:ds("horiz",-1),ArrowRight:ds("horiz",1),ArrowUp:ds("vert",-1),ArrowDown:ds("vert",1)});function ds(e,t){var r=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(n,i,o){var a=n.selection,s=t>0?a.$to:a.$from,u=a.empty;if(a instanceof Re){if(!o.endOfTextblock(r)||s.depth==0)return!1;u=!1,s=n.doc.resolve(t>0?s.after():s.before())}var h=wr.findFrom(s,t,u);return h?(i&&i(n.tr.setSelection(new wr(h))),!0):!1}}function G6(e,t,r){if(!e.editable)return!1;var n=e.state.doc.resolve(t);if(!wr.valid(n))return!1;var i=e.posAtCoords({left:r.clientX,top:r.clientY}),o=i.inside;return o>-1&&_e.isSelectable(e.state.doc.nodeAt(o))?!1:(e.dispatch(e.state.tr.setSelection(new wr(n))),!0)}function W6(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof wr))return!1;var r=e.state.selection,n=r.$from,i=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!i)return!1;for(var o=X.empty,a=i.length-1;a>=0;a--)o=X.from(i[a].createAndFill(null,o));var s=e.state.tr.replace(n.pos,n.pos,new ue(o,0,0));return s.setSelection(Re.near(s.doc.resolve(n.pos+1))),e.dispatch(s),!1}function U6(e){if(!(e.selection instanceof wr))return null;var t=document.createElement("div");return t.className="ProseMirror-gapcursor",Ue.create(e.doc,[gt.widget(e.selection.head,t,{key:"gapcursor"})])}const K6=jt.create({name:"gapCursor",addProseMirrorPlugins(){return[V6()]},extendNodeSchema(e){var t;const r={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=Be(be(e,"allowGapCursor",r)))!==null&&t!==void 0?t:null}}}),J6=Jt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",zt(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:r,editor:n})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:i,storedMarks:o}=r;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:a}=this.options,{splittableMarks:s}=n.extensionManager,u=o||i.$to.parentOffset&&i.$from.marks();return t().insertContent({type:this.name}).command(({tr:h,dispatch:d})=>{if(d&&u&&a){const m=u.filter(y=>s.includes(y.type.name));h.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),X6=Jt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,zt(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>Tt(Q({},e),{[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>tu({find:new RegExp(`^(#{1,${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}});var ms=200,St=function(){};St.prototype.append=function(t){return t.length?(t=St.from(t),!this.length&&t||t.length<ms&&this.leafAppend(t)||this.length<ms&&t.leafPrepend(this)||this.appendInner(t)):this};St.prototype.prepend=function(t){return t.length?St.from(t).append(this):this};St.prototype.appendInner=function(t){return new Y6(this,t)};St.prototype.slice=function(t,r){return t===void 0&&(t=0),r===void 0&&(r=this.length),t>=r?St.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,r))};St.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};St.prototype.forEach=function(t,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(t,r,n,0):this.forEachInvertedInner(t,r,n,0)};St.prototype.map=function(t,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var i=[];return this.forEach(function(o,a){return i.push(t(o,a))},r,n),i};St.from=function(t){return t instanceof St?t:t&&t.length?new Od(t):St.empty};var Od=function(e){function t(n){e.call(this),this.values=n}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var r={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new t(this.values.slice(i,o))},t.prototype.getInner=function(i){return this.values[i]},t.prototype.forEachInner=function(i,o,a,s){for(var u=o;u<a;u++)if(i(this.values[u],s+u)===!1)return!1},t.prototype.forEachInvertedInner=function(i,o,a,s){for(var u=o-1;u>=a;u--)if(i(this.values[u],s+u)===!1)return!1},t.prototype.leafAppend=function(i){if(this.length+i.length<=ms)return new t(this.values.concat(i.flatten()))},t.prototype.leafPrepend=function(i){if(this.length+i.length<=ms)return new t(i.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(t.prototype,r),t}(St);St.empty=new Od([]);var Y6=function(e){function t(r,n){e.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},t.prototype.forEachInner=function(n,i,o,a){var s=this.left.length;if(i<s&&this.left.forEachInner(n,i,Math.min(o,s),a)===!1||o>s&&this.right.forEachInner(n,Math.max(i-s,0),Math.min(this.length,o)-s,a+s)===!1)return!1},t.prototype.forEachInvertedInner=function(n,i,o,a){var s=this.left.length;if(i>s&&this.right.forEachInvertedInner(n,i-s,Math.max(o,s)-s,a+s)===!1||o<s&&this.left.forEachInvertedInner(n,Math.min(i,s),o,a)===!1)return!1},t.prototype.sliceInner=function(n,i){if(n==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(n,i):n>=o?this.right.slice(n-o,i-o):this.left.slice(n,o).append(this.right.slice(0,i-o))},t.prototype.leafAppend=function(n){var i=this.right.leafAppend(n);if(i)return new t(this.left,i)},t.prototype.leafPrepend=function(n){var i=this.left.leafPrepend(n);if(i)return new t(i,this.right)},t.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new t(this.left,new t(this.right,n)):new t(this,n)},t}(St),_d=St,Z6=500,At=function(t,r){this.items=t,this.eventCount=r};At.prototype.popEvent=function(t,r){var n=this;if(this.eventCount==0)return null;for(var i=this.items.length;;i--){var o=this.items.get(i-1);if(o.selection){--i;break}}var a,s;r&&(a=this.remapping(i,this.items.length),s=a.maps.length);var u=t.tr,h,d,m=[],y=[];return this.items.forEach(function(k,A){if(!k.step){a||(a=n.remapping(i,A+1),s=a.maps.length),s--,y.push(k);return}if(a){y.push(new Ur(k.map));var C=k.step.map(a.slice(s)),D;C&&u.maybeStep(C).doc&&(D=u.mapping.maps[u.mapping.maps.length-1],m.push(new Ur(D,null,null,m.length+y.length))),s--,D&&a.appendMap(D,s)}else u.maybeStep(k.step);if(k.selection)return h=a?k.selection.map(a.slice(s)):k.selection,d=new At(n.items.slice(0,i).append(y.reverse().concat(m)),n.eventCount-1),!1},this.items.length,0),{remaining:d,transform:u,selection:h}};At.prototype.addTransform=function(t,r,n,i){for(var o=[],a=this.eventCount,s=this.items,u=!i&&s.length?s.get(s.length-1):null,h=0;h<t.steps.length;h++){var d=t.steps[h].invert(t.docs[h]),m=new Ur(t.mapping.maps[h],d,r),y=void 0;(y=u&&u.merge(m))&&(m=y,h?o.pop():s=s.slice(0,s.length-1)),o.push(m),r&&(a++,r=null),i||(u=m)}var k=a-n.depth;return k>e7&&(s=Q6(s,k),a-=k),new At(s.append(o),a)};At.prototype.remapping=function(t,r){var n=new _t;return this.items.forEach(function(i,o){var a=i.mirrorOffset!=null&&o-i.mirrorOffset>=t?n.maps.length-i.mirrorOffset:null;n.appendMap(i.map,a)},t,r),n};At.prototype.addMaps=function(t){return this.eventCount==0?this:new At(this.items.append(t.map(function(r){return new Ur(r)})),this.eventCount)};At.prototype.rebased=function(t,r){if(!this.eventCount)return this;var n=[],i=Math.max(0,this.items.length-r),o=t.mapping,a=t.steps.length,s=this.eventCount;this.items.forEach(function(k){k.selection&&s--},i);var u=r;this.items.forEach(function(k){var A=o.getMirror(--u);if(A!=null){a=Math.min(a,A);var C=o.maps[A];if(k.step){var D=t.steps[A].invert(t.docs[A]),N=k.selection&&k.selection.map(o.slice(u+1,A));N&&s++,n.push(new Ur(C,D,N))}else n.push(new Ur(C))}},i);for(var h=[],d=r;d<a;d++)h.push(new Ur(o.maps[d]));var m=this.items.slice(0,i).append(h).append(n),y=new At(m,s);return y.emptyItemCount()>Z6&&(y=y.compress(this.items.length-n.length)),y};At.prototype.emptyItemCount=function(){var t=0;return this.items.forEach(function(r){r.step||t++}),t};At.prototype.compress=function(t){t===void 0&&(t=this.items.length);var r=this.remapping(0,t),n=r.maps.length,i=[],o=0;return this.items.forEach(function(a,s){if(s>=t)i.push(a),a.selection&&o++;else if(a.step){var u=a.step.map(r.slice(n)),h=u&&u.getMap();if(n--,h&&r.appendMap(h,n),u){var d=a.selection&&a.selection.map(r.slice(n));d&&o++;var m=new Ur(h.invert(),u,d),y,k=i.length-1;(y=i.length&&i[k].merge(m))?i[k]=y:i.push(m)}}else a.map&&n--},this.items.length,0),new At(_d.from(i.reverse()),o)};At.empty=new At(_d.empty,0);function Q6(e,t){var r;return e.forEach(function(n,i){if(n.selection&&t--==0)return r=i,!1}),e.slice(r)}var Ur=function(t,r,n,i){this.map=t,this.step=r,this.selection=n,this.mirrorOffset=i};Ur.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var r=t.step.merge(this.step);if(r)return new Ur(r.getMap().invert(),r,this.selection)}};var Ln=function(t,r,n,i){this.done=t,this.undone=r,this.prevRanges=n,this.prevTime=i},e7=20;function t7(e,t,r,n){var i=r.getMeta(qn),o;if(i)return i.historyState;r.getMeta(n7)&&(e=new Ln(e.done,e.undone,null,0));var a=r.getMeta("appendedTransaction");if(r.steps.length==0)return e;if(a&&a.getMeta(qn))return a.getMeta(qn).redo?new Ln(e.done.addTransform(r,null,n,vs(t)),e.undone,Nd(r.mapping.maps[r.steps.length-1]),e.prevTime):new Ln(e.done,e.undone.addTransform(r,null,n,vs(t)),null,e.prevTime);if(r.getMeta("addToHistory")!==!1&&!(a&&a.getMeta("addToHistory")===!1)){var s=e.prevTime==0||!a&&(e.prevTime<(r.time||0)-n.newGroupDelay||!r7(r,e.prevRanges)),u=a?nu(e.prevRanges,r.mapping):Nd(r.mapping.maps[r.steps.length-1]);return new Ln(e.done.addTransform(r,s?t.selection.getBookmark():null,n,vs(t)),At.empty,u,r.time)}else return(o=r.getMeta("rebased"))?new Ln(e.done.rebased(r,o),e.undone.rebased(r,o),nu(e.prevRanges,r.mapping),e.prevTime):new Ln(e.done.addMaps(r.mapping.maps),e.undone.addMaps(r.mapping.maps),nu(e.prevRanges,r.mapping),e.prevTime)}function r7(e,t){if(!t)return!1;if(!e.docChanged)return!0;var r=!1;return e.mapping.maps[0].forEach(function(n,i){for(var o=0;o<t.length;o+=2)n<=t[o+1]&&i>=t[o]&&(r=!0)}),r}function Nd(e){var t=[];return e.forEach(function(r,n,i,o){return t.push(i,o)}),t}function nu(e,t){if(!e)return null;for(var r=[],n=0;n<e.length;n+=2){var i=t.map(e[n],1),o=t.map(e[n+1],-1);i<=o&&r.push(i,o)}return r}function Dd(e,t,r,n){var i=vs(t),o=qn.get(t).spec.config,a=(n?e.undone:e.done).popEvent(t,i);if(!!a){var s=a.selection.resolve(a.transform.doc),u=(n?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),o,i),h=new Ln(n?u:a.remaining,n?a.remaining:u,null,0);r(a.transform.setSelection(s).setMeta(qn,{redo:n,historyState:h}).scrollIntoView())}}var iu=!1,zd=null;function vs(e){var t=e.plugins;if(zd!=t){iu=!1,zd=t;for(var r=0;r<t.length;r++)if(t[r].spec.historyPreserveItems){iu=!0;break}}return iu}var qn=new yr("history"),n7=new yr("closeHistory");function i7(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new qt({key:qn,state:{init:function(){return new Ln(At.empty,At.empty,null,0)},apply:function(r,n,i){return t7(n,i,r,e)}},config:e,props:{handleDOMEvents:{beforeinput:function(r,n){var i=n.inputType=="historyUndo"?Bd(r.state,r.dispatch):n.inputType=="historyRedo"?Rd(r.state,r.dispatch):!1;return i&&n.preventDefault(),i}}}})}function Bd(e,t){var r=qn.getState(e);return!r||r.done.eventCount==0?!1:(t&&Dd(r,e,t,!1),!0)}function Rd(e,t){var r=qn.getState(e);return!r||r.undone.eventCount==0?!1:(t&&Dd(r,e,t,!0),!0)}const o7=jt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>Bd(e,t),redo:()=>({state:e,dispatch:t})=>Rd(e,t)}},addProseMirrorPlugins(){return[i7(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-\u044F":()=>this.editor.commands.undo(),"Shift-Mod-\u044F":()=>this.editor.commands.redo()}}}),a7=Jt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",zt(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e})=>e().insertContent({type:this.name}).command(({tr:t,dispatch:r})=>{var n;if(r){const{$to:i}=t.selection,o=i.end();if(i.nodeAfter)t.setSelection(Re.create(t.doc,i.pos));else{const a=(n=i.parent.type.contentMatch.defaultType)===null||n===void 0?void 0:n.create();a&&(t.insert(o,a),t.setSelection(Re.create(t.doc,o)))}t.scrollIntoView()}return!0}).run()}},addInputRules(){return[w6({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),s7=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,l7=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,u7=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,c7=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,f7=Pn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",zt(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Gi({find:s7,type:this.type}),Gi({find:u7,type:this.type})]},addPasteRules(){return[Wi({find:l7,type:this.type}),Wi({find:c7,type:this.type})]}}),h7=Jt.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",zt(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),p7=/^(\d+)\.\s$/,d7=Jt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const n=e,{start:t}=n,r=Kf(n,["start"]);return t===1?["ol",zt(this.options.HTMLAttributes,r),0]:["ol",zt(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[ru({find:p7,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]})]}}),m7=Jt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",zt(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),v7=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,g7=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,y7=Pn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",zt(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Gi({find:v7,type:this.type})]},addPasteRules(){return[Wi({find:g7,type:this.type})]}}),b7=Jt.create({name:"text",group:"inline"}),x7=jt.create({name:"starterKit",addExtensions(){var e,t,r,n,i,o,a,s,u,h,d,m,y,k,A,C,D,N;const T=[];return this.options.blockquote!==!1&&T.push(A6.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bold!==!1&&T.push(O6.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.bulletList!==!1&&T.push(N6.configure((r=this.options)===null||r===void 0?void 0:r.bulletList)),this.options.code!==!1&&T.push(B6.configure((n=this.options)===null||n===void 0?void 0:n.code)),this.options.codeBlock!==!1&&T.push(F6.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&T.push(P6.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&T.push(q6.configure((a=this.options)===null||a===void 0?void 0:a.dropcursor)),this.options.gapcursor!==!1&&T.push(K6.configure((s=this.options)===null||s===void 0?void 0:s.gapcursor)),this.options.hardBreak!==!1&&T.push(J6.configure((u=this.options)===null||u===void 0?void 0:u.hardBreak)),this.options.heading!==!1&&T.push(X6.configure((h=this.options)===null||h===void 0?void 0:h.heading)),this.options.history!==!1&&T.push(o7.configure((d=this.options)===null||d===void 0?void 0:d.history)),this.options.horizontalRule!==!1&&T.push(a7.configure((m=this.options)===null||m===void 0?void 0:m.horizontalRule)),this.options.italic!==!1&&T.push(f7.configure((y=this.options)===null||y===void 0?void 0:y.italic)),this.options.listItem!==!1&&T.push(h7.configure((k=this.options)===null||k===void 0?void 0:k.listItem)),this.options.orderedList!==!1&&T.push(d7.configure((A=this.options)===null||A===void 0?void 0:A.orderedList)),this.options.paragraph!==!1&&T.push(m7.configure((C=this.options)===null||C===void 0?void 0:C.paragraph)),this.options.strike!==!1&&T.push(y7.configure((D=this.options)===null||D===void 0?void 0:D.strike)),this.options.text!==!1&&T.push(b7.configure((N=this.options)===null||N===void 0?void 0:N.text)),T}});var Xt="top",kr="bottom",Sr="right",Yt="left",ou="auto",Fo=[Xt,kr,Sr,Yt],Ui="start",Po="end",w7="clippingParents",Id="viewport",Lo="popper",k7="reference",Fd=Fo.reduce(function(e,t){return e.concat([t+"-"+Ui,t+"-"+Po])},[]),Pd=[].concat(Fo,[ou]).reduce(function(e,t){return e.concat([t,t+"-"+Ui,t+"-"+Po])},[]),S7="beforeRead",A7="read",M7="afterRead",C7="beforeMain",T7="main",E7="afterMain",O7="beforeWrite",_7="write",N7="afterWrite",D7=[S7,A7,M7,C7,T7,E7,O7,_7,N7];function Kr(e){return e?(e.nodeName||"").toLowerCase():null}function zr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ki(e){var t=zr(e).Element;return e instanceof t||e instanceof Element}function Ar(e){var t=zr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function au(e){if(typeof ShadowRoot=="undefined")return!1;var t=zr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function z7(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},o=t.elements[r];!Ar(o)||!Kr(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function B7(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],o=t.attributes[n]||{},a=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),s=a.reduce(function(u,h){return u[h]="",u},{});!Ar(i)||!Kr(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(u){i.removeAttribute(u)}))})}}var Ld={name:"applyStyles",enabled:!0,phase:"write",fn:z7,effect:B7,requires:["computeStyles"]};function Jr(e){return e.split("-")[0]}var li=Math.max,gs=Math.min,Ji=Math.round;function Xi(e,t){t===void 0&&(t=!1);var r=e.getBoundingClientRect(),n=1,i=1;if(Ar(e)&&t){var o=e.offsetHeight,a=e.offsetWidth;a>0&&(n=Ji(r.width)/a||1),o>0&&(i=Ji(r.height)/o||1)}return{width:r.width/n,height:r.height/i,top:r.top/i,right:r.right/n,bottom:r.bottom/i,left:r.left/n,x:r.left/n,y:r.top/i}}function su(e){var t=Xi(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function qd(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&au(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function gn(e){return zr(e).getComputedStyle(e)}function R7(e){return["table","td","th"].indexOf(Kr(e))>=0}function Hn(e){return((Ki(e)?e.ownerDocument:e.document)||window.document).documentElement}function ys(e){return Kr(e)==="html"?e:e.assignedSlot||e.parentNode||(au(e)?e.host:null)||Hn(e)}function Hd(e){return!Ar(e)||gn(e).position==="fixed"?null:e.offsetParent}function I7(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&Ar(e)){var n=gn(e);if(n.position==="fixed")return null}var i=ys(e);for(au(i)&&(i=i.host);Ar(i)&&["html","body"].indexOf(Kr(i))<0;){var o=gn(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function qo(e){for(var t=zr(e),r=Hd(e);r&&R7(r)&&gn(r).position==="static";)r=Hd(r);return r&&(Kr(r)==="html"||Kr(r)==="body"&&gn(r).position==="static")?t:r||I7(e)||t}function lu(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Ho(e,t,r){return li(e,gs(t,r))}function F7(e,t,r){var n=Ho(e,t,r);return n>r?r:n}function jd(){return{top:0,right:0,bottom:0,left:0}}function Vd(e){return Object.assign({},jd(),e)}function $d(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var P7=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,Vd(typeof t!="number"?t:$d(t,Fo))};function L7(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,a=r.modifiersData.popperOffsets,s=Jr(r.placement),u=lu(s),h=[Yt,Sr].indexOf(s)>=0,d=h?"height":"width";if(!(!o||!a)){var m=P7(i.padding,r),y=su(o),k=u==="y"?Xt:Yt,A=u==="y"?kr:Sr,C=r.rects.reference[d]+r.rects.reference[u]-a[u]-r.rects.popper[d],D=a[u]-r.rects.reference[u],N=qo(o),T=N?u==="y"?N.clientHeight||0:N.clientWidth||0:0,I=C/2-D/2,O=m[k],H=T-y[d]-m[A],L=T/2-y[d]/2+I,G=Ho(O,L,H),Z=u;r.modifiersData[n]=(t={},t[Z]=G,t.centerOffset=G-L,t)}}function q7(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!qd(t.elements.popper,i)||(t.elements.arrow=i))}var H7={name:"arrow",enabled:!0,phase:"main",fn:L7,effect:q7,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Yi(e){return e.split("-")[1]}var j7={top:"auto",right:"auto",bottom:"auto",left:"auto"};function V7(e){var t=e.x,r=e.y,n=window,i=n.devicePixelRatio||1;return{x:Ji(t*i)/i||0,y:Ji(r*i)/i||0}}function Gd(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,u=e.gpuAcceleration,h=e.adaptive,d=e.roundOffsets,m=e.isFixed,y=a.x,k=y===void 0?0:y,A=a.y,C=A===void 0?0:A,D=typeof d=="function"?d({x:k,y:C}):{x:k,y:C};k=D.x,C=D.y;var N=a.hasOwnProperty("x"),T=a.hasOwnProperty("y"),I=Yt,O=Xt,H=window;if(h){var L=qo(r),G="clientHeight",Z="clientWidth";if(L===zr(r)&&(L=Hn(r),gn(L).position!=="static"&&s==="absolute"&&(G="scrollHeight",Z="scrollWidth")),L=L,i===Xt||(i===Yt||i===Sr)&&o===Po){O=kr;var K=m&&L===H&&H.visualViewport?H.visualViewport.height:L[G];C-=K-n.height,C*=u?1:-1}if(i===Yt||(i===Xt||i===kr)&&o===Po){I=Sr;var oe=m&&L===H&&H.visualViewport?H.visualViewport.width:L[Z];k-=oe-n.width,k*=u?1:-1}}var he=Object.assign({position:s},h&&j7),me=d===!0?V7({x:k,y:C}):{x:k,y:C};if(k=me.x,C=me.y,u){var ge;return Object.assign({},he,(ge={},ge[O]=T?"0":"",ge[I]=N?"0":"",ge.transform=(H.devicePixelRatio||1)<=1?"translate("+k+"px, "+C+"px)":"translate3d("+k+"px, "+C+"px, 0)",ge))}return Object.assign({},he,(t={},t[O]=T?C+"px":"",t[I]=N?k+"px":"",t.transform="",t))}function $7(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,a=o===void 0?!0:o,s=r.roundOffsets,u=s===void 0?!0:s,h={placement:Jr(t.placement),variation:Yi(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Gd(Object.assign({},h,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Gd(Object.assign({},h,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var G7={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$7,data:{}},bs={passive:!0};function W7(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=i===void 0?!0:i,a=n.resize,s=a===void 0?!0:a,u=zr(t.elements.popper),h=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&h.forEach(function(d){d.addEventListener("scroll",r.update,bs)}),s&&u.addEventListener("resize",r.update,bs),function(){o&&h.forEach(function(d){d.removeEventListener("scroll",r.update,bs)}),s&&u.removeEventListener("resize",r.update,bs)}}var U7={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:W7,data:{}},K7={left:"right",right:"left",bottom:"top",top:"bottom"};function xs(e){return e.replace(/left|right|bottom|top/g,function(t){return K7[t]})}var J7={start:"end",end:"start"};function Wd(e){return e.replace(/start|end/g,function(t){return J7[t]})}function uu(e){var t=zr(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function cu(e){return Xi(Hn(e)).left+uu(e).scrollLeft}function X7(e){var t=zr(e),r=Hn(e),n=t.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,s=0;return n&&(i=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=n.offsetLeft,s=n.offsetTop)),{width:i,height:o,x:a+cu(e),y:s}}function Y7(e){var t,r=Hn(e),n=uu(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=li(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=li(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+cu(e),u=-n.scrollTop;return gn(i||r).direction==="rtl"&&(s+=li(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:u}}function fu(e){var t=gn(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function Ud(e){return["html","body","#document"].indexOf(Kr(e))>=0?e.ownerDocument.body:Ar(e)&&fu(e)?e:Ud(ys(e))}function jo(e,t){var r;t===void 0&&(t=[]);var n=Ud(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),o=zr(n),a=i?[o].concat(o.visualViewport||[],fu(n)?n:[]):n,s=t.concat(a);return i?s:s.concat(jo(ys(a)))}function hu(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Z7(e){var t=Xi(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function Kd(e,t){return t===Id?hu(X7(e)):Ki(t)?Z7(t):hu(Y7(Hn(e)))}function Q7(e){var t=jo(ys(e)),r=["absolute","fixed"].indexOf(gn(e).position)>=0,n=r&&Ar(e)?qo(e):e;return Ki(n)?t.filter(function(i){return Ki(i)&&qd(i,n)&&Kr(i)!=="body"}):[]}function e8(e,t,r){var n=t==="clippingParents"?Q7(e):[].concat(t),i=[].concat(n,[r]),o=i[0],a=i.reduce(function(s,u){var h=Kd(e,u);return s.top=li(h.top,s.top),s.right=gs(h.right,s.right),s.bottom=gs(h.bottom,s.bottom),s.left=li(h.left,s.left),s},Kd(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Jd(e){var t=e.reference,r=e.element,n=e.placement,i=n?Jr(n):null,o=n?Yi(n):null,a=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,u;switch(i){case Xt:u={x:a,y:t.y-r.height};break;case kr:u={x:a,y:t.y+t.height};break;case Sr:u={x:t.x+t.width,y:s};break;case Yt:u={x:t.x-r.width,y:s};break;default:u={x:t.x,y:t.y}}var h=i?lu(i):null;if(h!=null){var d=h==="y"?"height":"width";switch(o){case Ui:u[h]=u[h]-(t[d]/2-r[d]/2);break;case Po:u[h]=u[h]+(t[d]/2-r[d]/2);break}}return u}function Vo(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,o=r.boundary,a=o===void 0?w7:o,s=r.rootBoundary,u=s===void 0?Id:s,h=r.elementContext,d=h===void 0?Lo:h,m=r.altBoundary,y=m===void 0?!1:m,k=r.padding,A=k===void 0?0:k,C=Vd(typeof A!="number"?A:$d(A,Fo)),D=d===Lo?k7:Lo,N=e.rects.popper,T=e.elements[y?D:d],I=e8(Ki(T)?T:T.contextElement||Hn(e.elements.popper),a,u),O=Xi(e.elements.reference),H=Jd({reference:O,element:N,strategy:"absolute",placement:i}),L=hu(Object.assign({},N,H)),G=d===Lo?L:O,Z={top:I.top-G.top+C.top,bottom:G.bottom-I.bottom+C.bottom,left:I.left-G.left+C.left,right:G.right-I.right+C.right},K=e.modifiersData.offset;if(d===Lo&&K){var oe=K[i];Object.keys(Z).forEach(function(he){var me=[Sr,kr].indexOf(he)>=0?1:-1,ge=[Xt,kr].indexOf(he)>=0?"y":"x";Z[he]+=oe[ge]*me})}return Z}function t8(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,a=r.padding,s=r.flipVariations,u=r.allowedAutoPlacements,h=u===void 0?Pd:u,d=Yi(n),m=d?s?Fd:Fd.filter(function(A){return Yi(A)===d}):Fo,y=m.filter(function(A){return h.indexOf(A)>=0});y.length===0&&(y=m);var k=y.reduce(function(A,C){return A[C]=Vo(e,{placement:C,boundary:i,rootBoundary:o,padding:a})[Jr(C)],A},{});return Object.keys(k).sort(function(A,C){return k[A]-k[C]})}function r8(e){if(Jr(e)===ou)return[];var t=xs(e);return[Wd(e),t,Wd(t)]}function n8(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!0:a,u=r.fallbackPlacements,h=r.padding,d=r.boundary,m=r.rootBoundary,y=r.altBoundary,k=r.flipVariations,A=k===void 0?!0:k,C=r.allowedAutoPlacements,D=t.options.placement,N=Jr(D),T=N===D,I=u||(T||!A?[xs(D)]:r8(D)),O=[D].concat(I).reduce(function(Ne,He){return Ne.concat(Jr(He)===ou?t8(t,{placement:He,boundary:d,rootBoundary:m,padding:h,flipVariations:A,allowedAutoPlacements:C}):He)},[]),H=t.rects.reference,L=t.rects.popper,G=new Map,Z=!0,K=O[0],oe=0;oe<O.length;oe++){var he=O[oe],me=Jr(he),ge=Yi(he)===Ui,B=[Xt,kr].indexOf(me)>=0,U=B?"width":"height",W=Vo(t,{placement:he,boundary:d,rootBoundary:m,altBoundary:y,padding:h}),ce=B?ge?Sr:Yt:ge?kr:Xt;H[U]>L[U]&&(ce=xs(ce));var ae=xs(ce),xe=[];if(o&&xe.push(W[me]<=0),s&&xe.push(W[ce]<=0,W[ae]<=0),xe.every(function(Ne){return Ne})){K=he,Z=!1;break}G.set(he,xe)}if(Z)for(var Se=A?3:1,ie=function(He){var Ve=O.find(function(Ze){var Qe=G.get(Ze);if(Qe)return Qe.slice(0,He).every(function(Rt){return Rt})});if(Ve)return K=Ve,"break"},Te=Se;Te>0;Te--){var ot=ie(Te);if(ot==="break")break}t.placement!==K&&(t.modifiersData[n]._skip=!0,t.placement=K,t.reset=!0)}}var i8={name:"flip",enabled:!0,phase:"main",fn:n8,requiresIfExists:["offset"],data:{_skip:!1}};function Xd(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Yd(e){return[Xt,Sr,kr,Yt].some(function(t){return e[t]>=0})}function o8(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Vo(t,{elementContext:"reference"}),s=Vo(t,{altBoundary:!0}),u=Xd(a,n),h=Xd(s,i,o),d=Yd(u),m=Yd(h);t.modifiersData[r]={referenceClippingOffsets:u,popperEscapeOffsets:h,isReferenceHidden:d,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":m})}var a8={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:o8};function s8(e,t,r){var n=Jr(e),i=[Yt,Xt].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Yt,Sr].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}function l8(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=i===void 0?[0,0]:i,a=Pd.reduce(function(d,m){return d[m]=s8(m,t.rects,o),d},{}),s=a[t.placement],u=s.x,h=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=u,t.modifiersData.popperOffsets.y+=h),t.modifiersData[n]=a}var u8={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:l8};function c8(e){var t=e.state,r=e.name;t.modifiersData[r]=Jd({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var f8={name:"popperOffsets",enabled:!0,phase:"read",fn:c8,data:{}};function h8(e){return e==="x"?"y":"x"}function p8(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!1:a,u=r.boundary,h=r.rootBoundary,d=r.altBoundary,m=r.padding,y=r.tether,k=y===void 0?!0:y,A=r.tetherOffset,C=A===void 0?0:A,D=Vo(t,{boundary:u,rootBoundary:h,padding:m,altBoundary:d}),N=Jr(t.placement),T=Yi(t.placement),I=!T,O=lu(N),H=h8(O),L=t.modifiersData.popperOffsets,G=t.rects.reference,Z=t.rects.popper,K=typeof C=="function"?C(Object.assign({},t.rects,{placement:t.placement})):C,oe=typeof K=="number"?{mainAxis:K,altAxis:K}:Object.assign({mainAxis:0,altAxis:0},K),he=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,me={x:0,y:0};if(!!L){if(o){var ge,B=O==="y"?Xt:Yt,U=O==="y"?kr:Sr,W=O==="y"?"height":"width",ce=L[O],ae=ce+D[B],xe=ce-D[U],Se=k?-Z[W]/2:0,ie=T===Ui?G[W]:Z[W],Te=T===Ui?-Z[W]:-G[W],ot=t.elements.arrow,Ne=k&&ot?su(ot):{width:0,height:0},He=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:jd(),Ve=He[B],Ze=He[U],Qe=Ho(0,G[W],Ne[W]),Rt=I?G[W]/2-Se-Qe-Ve-oe.mainAxis:ie-Qe-Ve-oe.mainAxis,$t=I?-G[W]/2+Se+Qe+Ze+oe.mainAxis:Te+Qe+Ze+oe.mainAxis,tr=t.elements.arrow&&qo(t.elements.arrow),wn=tr?O==="y"?tr.clientTop||0:tr.clientLeft||0:0,Mr=(ge=he==null?void 0:he[O])!=null?ge:0,wi=ce+Rt-Mr-wn,ki=ce+$t-Mr,kn=Ho(k?gs(ae,wi):ae,ce,k?li(xe,ki):xe);L[O]=kn,me[O]=kn-ce}if(s){var Cr,It=O==="x"?Xt:Yt,tn=O==="x"?kr:Sr,hr=L[H],Ir=H==="y"?"height":"width",rn=hr+D[It],Tr=hr-D[tn],Un=[Xt,Yt].indexOf(N)!==-1,Si=(Cr=he==null?void 0:he[H])!=null?Cr:0,Kn=Un?rn:hr-G[Ir]-Z[Ir]-Si+oe.altAxis,Jn=Un?hr+G[Ir]+Z[Ir]-Si-oe.altAxis:Tr,Xn=k&&Un?F7(Kn,hr,Jn):Ho(k?Kn:rn,hr,k?Jn:Tr);L[H]=Xn,me[H]=Xn-hr}t.modifiersData[n]=me}}var d8={name:"preventOverflow",enabled:!0,phase:"main",fn:p8,requiresIfExists:["offset"]};function m8(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function v8(e){return e===zr(e)||!Ar(e)?uu(e):m8(e)}function g8(e){var t=e.getBoundingClientRect(),r=Ji(t.width)/e.offsetWidth||1,n=Ji(t.height)/e.offsetHeight||1;return r!==1||n!==1}function y8(e,t,r){r===void 0&&(r=!1);var n=Ar(t),i=Ar(t)&&g8(t),o=Hn(t),a=Xi(e,i),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(n||!n&&!r)&&((Kr(t)!=="body"||fu(o))&&(s=v8(t)),Ar(t)?(u=Xi(t,!0),u.x+=t.clientLeft,u.y+=t.clientTop):o&&(u.x=cu(o))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function b8(e){var t=new Map,r=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function i(o){r.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!r.has(s)){var u=t.get(s);u&&i(u)}}),n.push(o)}return e.forEach(function(o){r.has(o.name)||i(o)}),n}function x8(e){var t=b8(e);return D7.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function w8(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function k8(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var Zd={placement:"bottom",modifiers:[],strategy:"absolute"};function Qd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function S8(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,o=i===void 0?Zd:i;return function(s,u,h){h===void 0&&(h=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Zd,o),modifiersData:{},elements:{reference:s,popper:u},attributes:{},styles:{}},m=[],y=!1,k={state:d,setOptions:function(N){var T=typeof N=="function"?N(d.options):N;C(),d.options=Object.assign({},o,d.options,T),d.scrollParents={reference:Ki(s)?jo(s):s.contextElement?jo(s.contextElement):[],popper:jo(u)};var I=x8(k8([].concat(n,d.options.modifiers)));return d.orderedModifiers=I.filter(function(O){return O.enabled}),A(),k.update()},forceUpdate:function(){if(!y){var N=d.elements,T=N.reference,I=N.popper;if(!!Qd(T,I)){d.rects={reference:y8(T,qo(I),d.options.strategy==="fixed"),popper:su(I)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(oe){return d.modifiersData[oe.name]=Object.assign({},oe.data)});for(var O=0;O<d.orderedModifiers.length;O++){if(d.reset===!0){d.reset=!1,O=-1;continue}var H=d.orderedModifiers[O],L=H.fn,G=H.options,Z=G===void 0?{}:G,K=H.name;typeof L=="function"&&(d=L({state:d,options:Z,name:K,instance:k})||d)}}}},update:w8(function(){return new Promise(function(D){k.forceUpdate(),D(d)})}),destroy:function(){C(),y=!0}};if(!Qd(s,u))return k;k.setOptions(h).then(function(D){!y&&h.onFirstUpdate&&h.onFirstUpdate(D)});function A(){d.orderedModifiers.forEach(function(D){var N=D.name,T=D.options,I=T===void 0?{}:T,O=D.effect;if(typeof O=="function"){var H=O({state:d,name:N,instance:k,options:I}),L=function(){};m.push(H||L)}})}function C(){m.forEach(function(D){return D()}),m=[]}return k}}var A8=[U7,f8,G7,Ld,u8,i8,d8,H7,a8],M8=S8({defaultModifiers:A8}),C8="tippy-box",em="tippy-content",T8="tippy-backdrop",tm="tippy-arrow",rm="tippy-svg-arrow",ui={passive:!0,capture:!0},nm=function(){return document.body};function pu(e,t,r){if(Array.isArray(e)){var n=e[t];return n==null?Array.isArray(r)?r[t]:r:n}return e}function du(e,t){var r={}.toString.call(e);return r.indexOf("[object")===0&&r.indexOf(t+"]")>-1}function im(e,t){return typeof e=="function"?e.apply(void 0,t):e}function om(e,t){if(t===0)return e;var r;return function(n){clearTimeout(r),r=setTimeout(function(){e(n)},t)}}function E8(e){return e.split(/\s+/).filter(Boolean)}function Zi(e){return[].concat(e)}function am(e,t){e.indexOf(t)===-1&&e.push(t)}function O8(e){return e.filter(function(t,r){return e.indexOf(t)===r})}function _8(e){return e.split("-")[0]}function ws(e){return[].slice.call(e)}function sm(e){return Object.keys(e).reduce(function(t,r){return e[r]!==void 0&&(t[r]=e[r]),t},{})}function $o(){return document.createElement("div")}function ks(e){return["Element","Fragment"].some(function(t){return du(e,t)})}function N8(e){return du(e,"NodeList")}function D8(e){return du(e,"MouseEvent")}function z8(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function B8(e){return ks(e)?[e]:N8(e)?ws(e):Array.isArray(e)?e:ws(document.querySelectorAll(e))}function mu(e,t){e.forEach(function(r){r&&(r.style.transitionDuration=t+"ms")})}function lm(e,t){e.forEach(function(r){r&&r.setAttribute("data-state",t)})}function R8(e){var t,r=Zi(e),n=r[0];return n!=null&&(t=n.ownerDocument)!=null&&t.body?n.ownerDocument:document}function I8(e,t){var r=t.clientX,n=t.clientY;return e.every(function(i){var o=i.popperRect,a=i.popperState,s=i.props,u=s.interactiveBorder,h=_8(a.placement),d=a.modifiersData.offset;if(!d)return!0;var m=h==="bottom"?d.top.y:0,y=h==="top"?d.bottom.y:0,k=h==="right"?d.left.x:0,A=h==="left"?d.right.x:0,C=o.top-n+m>u,D=n-o.bottom-y>u,N=o.left-r+k>u,T=r-o.right-A>u;return C||D||N||T})}function vu(e,t,r){var n=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){e[n](i,r)})}function um(e,t){for(var r=t;r;){var n;if(e.contains(r))return!0;r=r.getRootNode==null||(n=r.getRootNode())==null?void 0:n.host}return!1}var Xr={isTouch:!1},cm=0;function F8(){Xr.isTouch||(Xr.isTouch=!0,window.performance&&document.addEventListener("mousemove",fm))}function fm(){var e=performance.now();e-cm<20&&(Xr.isTouch=!1,document.removeEventListener("mousemove",fm)),cm=e}function P8(){var e=document.activeElement;if(z8(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function L8(){document.addEventListener("touchstart",F8,ui),window.addEventListener("blur",P8)}var q8=typeof window!="undefined"&&typeof document!="undefined",H8=q8?!!window.msCrypto:!1,j8={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},V8={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Br=Object.assign({appendTo:nm,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},j8,V8),$8=Object.keys(Br),G8=function(t){var r=Object.keys(t);r.forEach(function(n){Br[n]=t[n]})};function hm(e){var t=e.plugins||[],r=t.reduce(function(n,i){var o=i.name,a=i.defaultValue;if(o){var s;n[o]=e[o]!==void 0?e[o]:(s=Br[o])!=null?s:a}return n},{});return Object.assign({},e,r)}function W8(e,t){var r=t?Object.keys(hm(Object.assign({},Br,{plugins:t}))):$8,n=r.reduce(function(i,o){var a=(e.getAttribute("data-tippy-"+o)||"").trim();if(!a)return i;if(o==="content")i[o]=a;else try{i[o]=JSON.parse(a)}catch{i[o]=a}return i},{});return n}function pm(e,t){var r=Object.assign({},t,{content:im(t.content,[e])},t.ignoreAttributes?{}:W8(e,t.plugins));return r.aria=Object.assign({},Br.aria,r.aria),r.aria={expanded:r.aria.expanded==="auto"?t.interactive:r.aria.expanded,content:r.aria.content==="auto"?t.interactive?null:"describedby":r.aria.content},r}var U8=function(){return"innerHTML"};function gu(e,t){e[U8()]=t}function dm(e){var t=$o();return e===!0?t.className=tm:(t.className=rm,ks(e)?t.appendChild(e):gu(t,e)),t}function mm(e,t){ks(t.content)?(gu(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?gu(e,t.content):e.textContent=t.content)}function yu(e){var t=e.firstElementChild,r=ws(t.children);return{box:t,content:r.find(function(n){return n.classList.contains(em)}),arrow:r.find(function(n){return n.classList.contains(tm)||n.classList.contains(rm)}),backdrop:r.find(function(n){return n.classList.contains(T8)})}}function vm(e){var t=$o(),r=$o();r.className=C8,r.setAttribute("data-state","hidden"),r.setAttribute("tabindex","-1");var n=$o();n.className=em,n.setAttribute("data-state","hidden"),mm(n,e.props),t.appendChild(r),r.appendChild(n),i(e.props,e.props);function i(o,a){var s=yu(t),u=s.box,h=s.content,d=s.arrow;a.theme?u.setAttribute("data-theme",a.theme):u.removeAttribute("data-theme"),typeof a.animation=="string"?u.setAttribute("data-animation",a.animation):u.removeAttribute("data-animation"),a.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof a.maxWidth=="number"?a.maxWidth+"px":a.maxWidth,a.role?u.setAttribute("role",a.role):u.removeAttribute("role"),(o.content!==a.content||o.allowHTML!==a.allowHTML)&&mm(h,e.props),a.arrow?d?o.arrow!==a.arrow&&(u.removeChild(d),u.appendChild(dm(a.arrow))):u.appendChild(dm(a.arrow)):d&&u.removeChild(d)}return{popper:t,onUpdate:i}}vm.$$tippy=!0;var K8=1,Ss=[],bu=[];function J8(e,t){var r=pm(e,Object.assign({},Br,hm(sm(t)))),n,i,o,a=!1,s=!1,u=!1,h=!1,d,m,y,k=[],A=om(wi,r.interactiveDebounce),C,D=K8++,N=null,T=O8(r.plugins),I={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},O={id:D,reference:e,popper:$o(),popperInstance:N,props:r,state:I,plugins:T,clearDelayTimeouts:Kn,setProps:Jn,setContent:Xn,show:el,hide:co,hideWithInteractivity:tl,enable:Un,disable:Si,unmount:fa,destroy:et};if(!r.render)return O;var H=r.render(O),L=H.popper,G=H.onUpdate;L.setAttribute("data-tippy-root",""),L.id="tippy-"+O.id,O.popper=L,e._tippy=O,L._tippy=O;var Z=T.map(function(q){return q.fn(O)}),K=e.hasAttribute("aria-expanded");return tr(),Se(),ce(),ae("onCreate",[O]),r.showOnCreate&&rn(),L.addEventListener("mouseenter",function(){O.props.interactive&&O.state.isVisible&&O.clearDelayTimeouts()}),L.addEventListener("mouseleave",function(){O.props.interactive&&O.props.trigger.indexOf("mouseenter")>=0&&B().addEventListener("mousemove",A)}),O;function oe(){var q=O.props.touch;return Array.isArray(q)?q:[q,0]}function he(){return oe()[0]==="hold"}function me(){var q;return!!((q=O.props.render)!=null&&q.$$tippy)}function ge(){return C||e}function B(){var q=ge().parentNode;return q?R8(q):document}function U(){return yu(L)}function W(q){return O.state.isMounted&&!O.state.isVisible||Xr.isTouch||d&&d.type==="focus"?0:pu(O.props.delay,q?0:1,Br.delay)}function ce(q){q===void 0&&(q=!1),L.style.pointerEvents=O.props.interactive&&!q?"":"none",L.style.zIndex=""+O.props.zIndex}function ae(q,pe,Ce){if(Ce===void 0&&(Ce=!0),Z.forEach(function(Ie){Ie[q]&&Ie[q].apply(Ie,pe)}),Ce){var je;(je=O.props)[q].apply(je,pe)}}function xe(){var q=O.props.aria;if(!!q.content){var pe="aria-"+q.content,Ce=L.id,je=Zi(O.props.triggerTarget||e);je.forEach(function(Ie){var at=Ie.getAttribute(pe);if(O.state.isVisible)Ie.setAttribute(pe,at?at+" "+Ce:Ce);else{var Ct=at&&at.replace(Ce,"").trim();Ct?Ie.setAttribute(pe,Ct):Ie.removeAttribute(pe)}})}}function Se(){if(!(K||!O.props.aria.expanded)){var q=Zi(O.props.triggerTarget||e);q.forEach(function(pe){O.props.interactive?pe.setAttribute("aria-expanded",O.state.isVisible&&pe===ge()?"true":"false"):pe.removeAttribute("aria-expanded")})}}function ie(){B().removeEventListener("mousemove",A),Ss=Ss.filter(function(q){return q!==A})}function Te(q){if(!(Xr.isTouch&&(u||q.type==="mousedown"))){var pe=q.composedPath&&q.composedPath()[0]||q.target;if(!(O.props.interactive&&um(L,pe))){if(Zi(O.props.triggerTarget||e).some(function(Ce){return um(Ce,pe)})){if(Xr.isTouch||O.state.isVisible&&O.props.trigger.indexOf("click")>=0)return}else ae("onClickOutside",[O,q]);O.props.hideOnClick===!0&&(O.clearDelayTimeouts(),O.hide(),s=!0,setTimeout(function(){s=!1}),O.state.isMounted||Ve())}}}function ot(){u=!0}function Ne(){u=!1}function He(){var q=B();q.addEventListener("mousedown",Te,!0),q.addEventListener("touchend",Te,ui),q.addEventListener("touchstart",Ne,ui),q.addEventListener("touchmove",ot,ui)}function Ve(){var q=B();q.removeEventListener("mousedown",Te,!0),q.removeEventListener("touchend",Te,ui),q.removeEventListener("touchstart",Ne,ui),q.removeEventListener("touchmove",ot,ui)}function Ze(q,pe){Rt(q,function(){!O.state.isVisible&&L.parentNode&&L.parentNode.contains(L)&&pe()})}function Qe(q,pe){Rt(q,pe)}function Rt(q,pe){var Ce=U().box;function je(Ie){Ie.target===Ce&&(vu(Ce,"remove",je),pe())}if(q===0)return pe();vu(Ce,"remove",m),vu(Ce,"add",je),m=je}function $t(q,pe,Ce){Ce===void 0&&(Ce=!1);var je=Zi(O.props.triggerTarget||e);je.forEach(function(Ie){Ie.addEventListener(q,pe,Ce),k.push({node:Ie,eventType:q,handler:pe,options:Ce})})}function tr(){he()&&($t("touchstart",Mr,{passive:!0}),$t("touchend",ki,{passive:!0})),E8(O.props.trigger).forEach(function(q){if(q!=="manual")switch($t(q,Mr),q){case"mouseenter":$t("mouseleave",ki);break;case"focus":$t(H8?"focusout":"blur",kn);break;case"focusin":$t("focusout",kn);break}})}function wn(){k.forEach(function(q){var pe=q.node,Ce=q.eventType,je=q.handler,Ie=q.options;pe.removeEventListener(Ce,je,Ie)}),k=[]}function Mr(q){var pe,Ce=!1;if(!(!O.state.isEnabled||Cr(q)||s)){var je=((pe=d)==null?void 0:pe.type)==="focus";d=q,C=q.currentTarget,Se(),!O.state.isVisible&&D8(q)&&Ss.forEach(function(Ie){return Ie(q)}),q.type==="click"&&(O.props.trigger.indexOf("mouseenter")<0||a)&&O.props.hideOnClick!==!1&&O.state.isVisible?Ce=!0:rn(q),q.type==="click"&&(a=!Ce),Ce&&!je&&Tr(q)}}function wi(q){var pe=q.target,Ce=ge().contains(pe)||L.contains(pe);if(!(q.type==="mousemove"&&Ce)){var je=Ir().concat(L).map(function(Ie){var at,Ct=Ie._tippy,Sn=(at=Ct.popperInstance)==null?void 0:at.state;return Sn?{popperRect:Ie.getBoundingClientRect(),popperState:Sn,props:r}:null}).filter(Boolean);I8(je,q)&&(ie(),Tr(q))}}function ki(q){var pe=Cr(q)||O.props.trigger.indexOf("click")>=0&&a;if(!pe){if(O.props.interactive){O.hideWithInteractivity(q);return}Tr(q)}}function kn(q){O.props.trigger.indexOf("focusin")<0&&q.target!==ge()||O.props.interactive&&q.relatedTarget&&L.contains(q.relatedTarget)||Tr(q)}function Cr(q){return Xr.isTouch?he()!==q.type.indexOf("touch")>=0:!1}function It(){tn();var q=O.props,pe=q.popperOptions,Ce=q.placement,je=q.offset,Ie=q.getReferenceClientRect,at=q.moveTransition,Ct=me()?yu(L).arrow:null,Sn=Ie?{getBoundingClientRect:Ie,contextElement:Ie.contextElement||ge()}:e,ha={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(dr){var Fr=dr.state;if(me()){var pa=U(),fo=pa.box;["placement","reference-hidden","escaped"].forEach(function(Ai){Ai==="placement"?fo.setAttribute("data-placement",Fr.placement):Fr.attributes.popper["data-popper-"+Ai]?fo.setAttribute("data-"+Ai,""):fo.removeAttribute("data-"+Ai)}),Fr.attributes.popper={}}}},ut=[{name:"offset",options:{offset:je}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!at}},ha];me()&&Ct&&ut.push({name:"arrow",options:{element:Ct,padding:3}}),ut.push.apply(ut,(pe==null?void 0:pe.modifiers)||[]),O.popperInstance=M8(Sn,L,Object.assign({},pe,{placement:Ce,onFirstUpdate:y,modifiers:ut}))}function tn(){O.popperInstance&&(O.popperInstance.destroy(),O.popperInstance=null)}function hr(){var q=O.props.appendTo,pe,Ce=ge();O.props.interactive&&q===nm||q==="parent"?pe=Ce.parentNode:pe=im(q,[Ce]),pe.contains(L)||pe.appendChild(L),O.state.isMounted=!0,It()}function Ir(){return ws(L.querySelectorAll("[data-tippy-root]"))}function rn(q){O.clearDelayTimeouts(),q&&ae("onTrigger",[O,q]),He();var pe=W(!0),Ce=oe(),je=Ce[0],Ie=Ce[1];Xr.isTouch&&je==="hold"&&Ie&&(pe=Ie),pe?n=setTimeout(function(){O.show()},pe):O.show()}function Tr(q){if(O.clearDelayTimeouts(),ae("onUntrigger",[O,q]),!O.state.isVisible){Ve();return}if(!(O.props.trigger.indexOf("mouseenter")>=0&&O.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(q.type)>=0&&a)){var pe=W(!1);pe?i=setTimeout(function(){O.state.isVisible&&O.hide()},pe):o=requestAnimationFrame(function(){O.hide()})}}function Un(){O.state.isEnabled=!0}function Si(){O.hide(),O.state.isEnabled=!1}function Kn(){clearTimeout(n),clearTimeout(i),cancelAnimationFrame(o)}function Jn(q){if(!O.state.isDestroyed){ae("onBeforeUpdate",[O,q]),wn();var pe=O.props,Ce=pm(e,Object.assign({},pe,sm(q),{ignoreAttributes:!0}));O.props=Ce,tr(),pe.interactiveDebounce!==Ce.interactiveDebounce&&(ie(),A=om(wi,Ce.interactiveDebounce)),pe.triggerTarget&&!Ce.triggerTarget?Zi(pe.triggerTarget).forEach(function(je){je.removeAttribute("aria-expanded")}):Ce.triggerTarget&&e.removeAttribute("aria-expanded"),Se(),ce(),G&&G(pe,Ce),O.popperInstance&&(It(),Ir().forEach(function(je){requestAnimationFrame(je._tippy.popperInstance.forceUpdate)})),ae("onAfterUpdate",[O,q])}}function Xn(q){O.setProps({content:q})}function el(){var q=O.state.isVisible,pe=O.state.isDestroyed,Ce=!O.state.isEnabled,je=Xr.isTouch&&!O.props.touch,Ie=pu(O.props.duration,0,Br.duration);if(!(q||pe||Ce||je)&&!ge().hasAttribute("disabled")&&(ae("onShow",[O],!1),O.props.onShow(O)!==!1)){if(O.state.isVisible=!0,me()&&(L.style.visibility="visible"),ce(),He(),O.state.isMounted||(L.style.transition="none"),me()){var at=U(),Ct=at.box,Sn=at.content;mu([Ct,Sn],0)}y=function(){var ut;if(!(!O.state.isVisible||h)){if(h=!0,L.offsetHeight,L.style.transition=O.props.moveTransition,me()&&O.props.animation){var pr=U(),dr=pr.box,Fr=pr.content;mu([dr,Fr],Ie),lm([dr,Fr],"visible")}xe(),Se(),am(bu,O),(ut=O.popperInstance)==null||ut.forceUpdate(),ae("onMount",[O]),O.props.animation&&me()&&Qe(Ie,function(){O.state.isShown=!0,ae("onShown",[O])})}},hr()}}function co(){var q=!O.state.isVisible,pe=O.state.isDestroyed,Ce=!O.state.isEnabled,je=pu(O.props.duration,1,Br.duration);if(!(q||pe||Ce)&&(ae("onHide",[O],!1),O.props.onHide(O)!==!1)){if(O.state.isVisible=!1,O.state.isShown=!1,h=!1,a=!1,me()&&(L.style.visibility="hidden"),ie(),Ve(),ce(!0),me()){var Ie=U(),at=Ie.box,Ct=Ie.content;O.props.animation&&(mu([at,Ct],je),lm([at,Ct],"hidden"))}xe(),Se(),O.props.animation?me()&&Ze(je,O.unmount):O.unmount()}}function tl(q){B().addEventListener("mousemove",A),am(Ss,A),A(q)}function fa(){O.state.isVisible&&O.hide(),!!O.state.isMounted&&(tn(),Ir().forEach(function(q){q._tippy.unmount()}),L.parentNode&&L.parentNode.removeChild(L),bu=bu.filter(function(q){return q!==O}),O.state.isMounted=!1,ae("onHidden",[O]))}function et(){O.state.isDestroyed||(O.clearDelayTimeouts(),O.unmount(),wn(),delete e._tippy,O.state.isDestroyed=!0,ae("onDestroy",[O]))}}function Qi(e,t){t===void 0&&(t={});var r=Br.plugins.concat(t.plugins||[]);L8();var n=Object.assign({},t,{plugins:r}),i=B8(e),o=i.reduce(function(a,s){var u=s&&J8(s,n);return u&&a.push(u),a},[]);return ks(e)?o[0]:o}Qi.defaultProps=Br;Qi.setDefaultProps=G8;Qi.currentInput=Xr;Object.assign({},Ld,{effect:function(t){var r=t.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(r.elements.popper.style,n.popper),r.styles=n,r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow)}});Qi.setDefaultProps({render:vm});class X8{constructor({editor:t,element:r,view:n,tippyOptions:i={},shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:a,state:s,from:u,to:h})=>{const{doc:d,selection:m}=s,{empty:y}=m,k=!d.textBetween(u,h).length&&hd(s.selection);return!(!a.hasFocus()||y||k)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var s;if(this.preventHide){this.preventHide=!1;return}(a==null?void 0:a.relatedTarget)&&((s=this.element.parentNode)===null||s===void 0?void 0:s.contains(a.relatedTarget))||this.hide()},this.editor=t,this.element=r,this.view=n,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,r=!!t.parentElement;this.tippy||!r||(this.tippy=Qi(t,Q({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",n=>{this.blurHandler({event:n})}))}update(t,r){var n,i;const{state:o,composing:a}=t,{doc:s,selection:u}=o,h=r&&r.doc.eq(s)&&r.selection.eq(u);if(a||h)return;this.createTooltip();const{ranges:d}=u,m=Math.min(...d.map(A=>A.$from.pos)),y=Math.max(...d.map(A=>A.$to.pos));if(!((n=this.shouldShow)===null||n===void 0?void 0:n.call(this,{editor:this.editor,view:t,state:o,oldState:r,from:m,to:y}))){this.hide();return}(i=this.tippy)===null||i===void 0||i.setProps({getReferenceClientRect:()=>{if(k6(o.selection)){const A=t.nodeDOM(m);if(A)return A.getBoundingClientRect()}return Ed(t,m,y)}}),this.show()}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t;(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Y8=e=>new qt({key:typeof e.pluginKey=="string"?new yr(e.pluginKey):e.pluginKey,view:t=>new X8(Q({view:t},e))}),Z8=jt.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[Y8({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}}),Q8=Pn.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",zt(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});class eb{constructor({editor:t,element:r,view:n,tippyOptions:i={},shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:a,state:s})=>{const{selection:u}=s,{$anchor:h,empty:d}=u,m=h.depth===1,y=h.parent.isTextblock&&!h.parent.type.spec.code&&!h.parent.textContent;return!(!a.hasFocus()||!d||!m||!y)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var s;if(this.preventHide){this.preventHide=!1;return}(a==null?void 0:a.relatedTarget)&&((s=this.element.parentNode)===null||s===void 0?void 0:s.contains(a.relatedTarget))||this.hide()},this.editor=t,this.element=r,this.view=n,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:t}=this.editor.options,r=!!t.parentElement;this.tippy||!r||(this.tippy=Qi(t,Q({duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle"},this.tippyOptions)),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",n=>{this.blurHandler({event:n})}))}update(t,r){var n,i;const{state:o}=t,{doc:a,selection:s}=o,{from:u,to:h}=s;if(r&&r.doc.eq(a)&&r.selection.eq(s))return;if(this.createTooltip(),!((n=this.shouldShow)===null||n===void 0?void 0:n.call(this,{editor:this.editor,view:t,state:o,oldState:r}))){this.hide();return}(i=this.tippy)===null||i===void 0||i.setProps({getReferenceClientRect:()=>Ed(t,u,h)}),this.show()}show(){var t;(t=this.tippy)===null||t===void 0||t.show()}hide(){var t;(t=this.tippy)===null||t===void 0||t.hide()}destroy(){var t;(t=this.tippy)===null||t===void 0||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const tb=e=>new qt({key:typeof e.pluginKey=="string"?new yr(e.pluginKey):e.pluginKey,view:t=>new eb(Q({view:t},e))}),rb=jt.create({name:"floatingMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[tb({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});function gm(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i)}return r}function ym(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let i of e)(i=t(i,++n,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i)}return r}function nb(e,t){let r,n=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(r>o||r===void 0&&o>=o)&&(r=o,n=i);else for(let o of e)(o=t(o,++i,e))!=null&&(r>o||r===void 0&&o>=o)&&(r=o,n=i);return n}var ib={value:()=>{}};function xu(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new As(r)}function As(e){this._=e}function ob(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}As.prototype=xu.prototype={constructor:As,on:function(e,t){var r=this._,n=ob(e+"",r),i,o=-1,a=n.length;if(arguments.length<2){for(;++o<a;)if((i=(e=n[o]).type)&&(i=ab(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=n[o]).type)r[i]=bm(r[i],e.name,t);else if(t==null)for(i in r)r[i]=bm(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new As(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,o;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],n=0,i=o.length;n<i;++n)o[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,o=n.length;i<o;++i)n[i].value.apply(t,r)}};function ab(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function bm(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=ib,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var wu="http://www.w3.org/1999/xhtml",xm={svg:"http://www.w3.org/2000/svg",xhtml:wu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ms(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),xm.hasOwnProperty(t)?{space:xm[t],local:e}:e}function sb(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===wu&&t.documentElement.namespaceURI===wu?t.createElement(e):t.createElementNS(r,e)}}function lb(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function wm(e){var t=Ms(e);return(t.local?lb:sb)(t)}function ub(){}function ku(e){return e==null?ub:function(){return this.querySelector(e)}}function cb(e){typeof e!="function"&&(e=ku(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=new Array(a),u,h,d=0;d<a;++d)(u=o[d])&&(h=e.call(u,u.__data__,d,o))&&("__data__"in u&&(h.__data__=u.__data__),s[d]=h);return new Zt(n,this._parents)}function km(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function fb(){return[]}function Sm(e){return e==null?fb:function(){return this.querySelectorAll(e)}}function hb(e){return function(){var t=e.apply(this,arguments);return t==null?[]:km(t)}}function pb(e){typeof e=="function"?e=hb(e):e=Sm(e);for(var t=this._groups,r=t.length,n=[],i=[],o=0;o<r;++o)for(var a=t[o],s=a.length,u,h=0;h<s;++h)(u=a[h])&&(n.push(e.call(u,u.__data__,h,a)),i.push(u));return new Zt(n,i)}function Am(e){return function(){return this.matches(e)}}function Mm(e){return function(t){return t.matches(e)}}var db=Array.prototype.find;function mb(e){return function(){return db.call(this.children,e)}}function vb(){return this.firstElementChild}function gb(e){return this.select(e==null?vb:mb(typeof e=="function"?e:Mm(e)))}var yb=Array.prototype.filter;function bb(){return this.children}function xb(e){return function(){return yb.call(this.children,e)}}function wb(e){return this.selectAll(e==null?bb:xb(typeof e=="function"?e:Mm(e)))}function kb(e){typeof e!="function"&&(e=Am(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=[],u,h=0;h<a;++h)(u=o[h])&&e.call(u,u.__data__,h,o)&&s.push(u);return new Zt(n,this._parents)}function Cm(e){return new Array(e.length)}function Sb(){return new Zt(this._enter||this._groups.map(Cm),this._parents)}function Cs(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Cs.prototype={constructor:Cs,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ab(e){return function(){return e}}function Mb(e,t,r,n,i,o){for(var a=0,s,u=t.length,h=o.length;a<h;++a)(s=t[a])?(s.__data__=o[a],n[a]=s):r[a]=new Cs(e,o[a]);for(;a<u;++a)(s=t[a])&&(i[a]=s)}function Cb(e,t,r,n,i,o,a){var s,u,h=new Map,d=t.length,m=o.length,y=new Array(d),k;for(s=0;s<d;++s)(u=t[s])&&(y[s]=k=a.call(u,u.__data__,s,t)+"",h.has(k)?i[s]=u:h.set(k,u));for(s=0;s<m;++s)k=a.call(e,o[s],s,o)+"",(u=h.get(k))?(n[s]=u,u.__data__=o[s],h.delete(k)):r[s]=new Cs(e,o[s]);for(s=0;s<d;++s)(u=t[s])&&h.get(y[s])===u&&(i[s]=u)}function Tb(e){return e.__data__}function Eb(e,t){if(!arguments.length)return Array.from(this,Tb);var r=t?Cb:Mb,n=this._parents,i=this._groups;typeof e!="function"&&(e=Ab(e));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),h=0;h<o;++h){var d=n[h],m=i[h],y=m.length,k=km(e.call(d,d&&d.__data__,h,n)),A=k.length,C=s[h]=new Array(A),D=a[h]=new Array(A),N=u[h]=new Array(y);r(d,m,C,D,N,k,t);for(var T=0,I=0,O,H;T<A;++T)if(O=C[T]){for(T>=I&&(I=T+1);!(H=D[I])&&++I<A;);O._next=H||null}}return a=new Zt(a,n),a._enter=s,a._exit=u,a}function Ob(){return new Zt(this._exit||this._groups.map(Cm),this._parents)}function _b(e,t,r){var n=this.enter(),i=this,o=this.exit();return n=typeof e=="function"?e(n):n.append(e+""),t!=null&&(i=t(i)),r==null?o.remove():r(o),n&&i?n.merge(i).order():i}function Nb(e){if(!(e instanceof Zt))throw new Error("invalid merge");for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),a=new Array(n),s=0;s<o;++s)for(var u=t[s],h=r[s],d=u.length,m=a[s]=new Array(d),y,k=0;k<d;++k)(y=u[k]||h[k])&&(m[k]=y);for(;s<n;++s)a[s]=t[s];return new Zt(a,this._parents)}function Db(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,o=n[i],a;--i>=0;)(a=n[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function zb(e){e||(e=Bb);function t(m,y){return m&&y?e(m.__data__,y.__data__):!m-!y}for(var r=this._groups,n=r.length,i=new Array(n),o=0;o<n;++o){for(var a=r[o],s=a.length,u=i[o]=new Array(s),h,d=0;d<s;++d)(h=a[d])&&(u[d]=h);u.sort(t)}return new Zt(i,this._parents).order()}function Bb(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Rb(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ib(){return Array.from(this)}function Fb(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length;i<o;++i){var a=n[i];if(a)return a}return null}function Pb(){let e=0;for(const t of this)++e;return e}function Lb(){return!this.node()}function qb(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],o=0,a=i.length,s;o<a;++o)(s=i[o])&&e.call(s,s.__data__,o,i);return this}function Hb(e){return function(){this.removeAttribute(e)}}function jb(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Vb(e,t){return function(){this.setAttribute(e,t)}}function $b(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Gb(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Wb(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Ub(e,t){var r=Ms(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?jb:Hb:typeof t=="function"?r.local?Wb:Gb:r.local?$b:Vb)(r,t))}function Tm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Kb(e){return function(){this.style.removeProperty(e)}}function Jb(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Xb(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Yb(e,t,r){return arguments.length>1?this.each((t==null?Kb:typeof t=="function"?Xb:Jb)(e,t,r==null?"":r)):eo(this.node(),e)}function eo(e,t){return e.style.getPropertyValue(t)||Tm(e).getComputedStyle(e,null).getPropertyValue(t)}function Zb(e){return function(){delete this[e]}}function Qb(e,t){return function(){this[e]=t}}function ex(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function tx(e,t){return arguments.length>1?this.each((t==null?Zb:typeof t=="function"?ex:Qb)(e,t)):this.node()[e]}function Em(e){return e.trim().split(/^|\s+/)}function Su(e){return e.classList||new Om(e)}function Om(e){this._node=e,this._names=Em(e.getAttribute("class")||"")}Om.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function _m(e,t){for(var r=Su(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function Nm(e,t){for(var r=Su(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function rx(e){return function(){_m(this,e)}}function nx(e){return function(){Nm(this,e)}}function ix(e,t){return function(){(t.apply(this,arguments)?_m:Nm)(this,e)}}function ox(e,t){var r=Em(e+"");if(arguments.length<2){for(var n=Su(this.node()),i=-1,o=r.length;++i<o;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?ix:t?rx:nx)(r,t))}function ax(){this.textContent=""}function sx(e){return function(){this.textContent=e}}function lx(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function ux(e){return arguments.length?this.each(e==null?ax:(typeof e=="function"?lx:sx)(e)):this.node().textContent}function cx(){this.innerHTML=""}function fx(e){return function(){this.innerHTML=e}}function hx(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function px(e){return arguments.length?this.each(e==null?cx:(typeof e=="function"?hx:fx)(e)):this.node().innerHTML}function dx(){this.nextSibling&&this.parentNode.appendChild(this)}function mx(){return this.each(dx)}function vx(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function gx(){return this.each(vx)}function yx(e){var t=typeof e=="function"?e:wm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function bx(){return null}function xx(e,t){var r=typeof e=="function"?e:wm(e),n=t==null?bx:typeof t=="function"?t:ku(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function wx(){var e=this.parentNode;e&&e.removeChild(this)}function kx(){return this.each(wx)}function Sx(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ax(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Mx(e){return this.select(e?Ax:Sx)}function Cx(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Tx(e){return function(t){e.call(this,t,this.__data__)}}function Ex(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function Ox(e){return function(){var t=this.__on;if(!!t){for(var r=0,n=-1,i=t.length,o;r<i;++r)o=t[r],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++n]=o;++n?t.length=n:delete this.__on}}}function _x(e,t,r){return function(){var n=this.__on,i,o=Tx(t);if(n){for(var a=0,s=n.length;a<s;++a)if((i=n[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=r),i.value=t;return}}this.addEventListener(e.type,o,r),i={type:e.type,name:e.name,value:t,listener:o,options:r},n?n.push(i):this.__on=[i]}}function Nx(e,t,r){var n=Ex(e+""),i,o=n.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,h=s.length,d;u<h;++u)for(i=0,d=s[u];i<o;++i)if((a=n[i]).type===d.type&&a.name===d.name)return d.value}return}for(s=t?_x:Ox,i=0;i<o;++i)this.each(s(n[i],t,r));return this}function Dm(e,t,r){var n=Tm(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Dx(e,t){return function(){return Dm(this,e,t)}}function zx(e,t){return function(){return Dm(this,e,t.apply(this,arguments))}}function Bx(e,t){return this.each((typeof t=="function"?zx:Dx)(e,t))}function*Rx(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,o=n.length,a;i<o;++i)(a=n[i])&&(yield a)}var zm=[null];function Zt(e,t){this._groups=e,this._parents=t}function Go(){return new Zt([[document.documentElement]],zm)}function Ix(){return this}Zt.prototype=Go.prototype={constructor:Zt,select:cb,selectAll:pb,selectChild:gb,selectChildren:wb,filter:kb,data:Eb,enter:Sb,exit:Ob,join:_b,merge:Nb,selection:Ix,order:Db,sort:zb,call:Rb,nodes:Ib,node:Fb,size:Pb,empty:Lb,each:qb,attr:Ub,style:Yb,property:tx,classed:ox,text:ux,html:px,raise:mx,lower:gx,append:yx,insert:xx,remove:kx,clone:Mx,datum:Cx,on:Nx,dispatch:Bx,[Symbol.iterator]:Rx};function jn(e){return typeof e=="string"?new Zt([[document.querySelector(e)]],[document.documentElement]):new Zt([[e]],zm)}function Fx(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ci(e,t){if(e=Fx(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function Au(e){e.preventDefault(),e.stopImmediatePropagation()}function Px(e){var t=e.document.documentElement,r=jn(e).on("dragstart.drag",Au,!0);"onselectstart"in t?r.on("selectstart.drag",Au,!0):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Lx(e,t){var r=e.document.documentElement,n=jn(e).on("dragstart.drag",null);t&&(n.on("click.drag",Au,!0),setTimeout(function(){n.on("click.drag",null)},0)),"onselectstart"in r?n.on("selectstart.drag",null):(r.style.MozUserSelect=r.__noselect,delete r.__noselect)}function Mu(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Bm(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Wo(){}var Uo=.7,Ts=1/Uo,to="\\s*([+-]?\\d+)\\s*",Ko="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yr="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qx=/^#([0-9a-f]{3,8})$/,Hx=new RegExp("^rgb\\("+[to,to,to]+"\\)$"),jx=new RegExp("^rgb\\("+[Yr,Yr,Yr]+"\\)$"),Vx=new RegExp("^rgba\\("+[to,to,to,Ko]+"\\)$"),$x=new RegExp("^rgba\\("+[Yr,Yr,Yr,Ko]+"\\)$"),Gx=new RegExp("^hsl\\("+[Ko,Yr,Yr]+"\\)$"),Wx=new RegExp("^hsla\\("+[Ko,Yr,Yr,Ko]+"\\)$"),Rm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Mu(Wo,Jo,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:Im,formatHex:Im,formatHsl:Ux,formatRgb:Fm,toString:Fm});function Im(){return this.rgb().formatHex()}function Ux(){return jm(this).formatHsl()}function Fm(){return this.rgb().formatRgb()}function Jo(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=qx.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?Pm(t):r===3?new cr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Es(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Es(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Hx.exec(e))?new cr(t[1],t[2],t[3],1):(t=jx.exec(e))?new cr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Vx.exec(e))?Es(t[1],t[2],t[3],t[4]):(t=$x.exec(e))?Es(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Gx.exec(e))?Hm(t[1],t[2]/100,t[3]/100,1):(t=Wx.exec(e))?Hm(t[1],t[2]/100,t[3]/100,t[4]):Rm.hasOwnProperty(e)?Pm(Rm[e]):e==="transparent"?new cr(NaN,NaN,NaN,0):null}function Pm(e){return new cr(e>>16&255,e>>8&255,e&255,1)}function Es(e,t,r,n){return n<=0&&(e=t=r=NaN),new cr(e,t,r,n)}function Kx(e){return e instanceof Wo||(e=Jo(e)),e?(e=e.rgb(),new cr(e.r,e.g,e.b,e.opacity)):new cr}function Cu(e,t,r,n){return arguments.length===1?Kx(e):new cr(e,t,r,n==null?1:n)}function cr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Mu(cr,Cu,Bm(Wo,{brighter:function(e){return e=e==null?Ts:Math.pow(Ts,e),new cr(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?Uo:Math.pow(Uo,e),new cr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Lm,formatHex:Lm,formatRgb:qm,toString:qm}));function Lm(){return"#"+Tu(this.r)+Tu(this.g)+Tu(this.b)}function qm(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function Tu(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function Hm(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Zr(e,t,r,n)}function jm(e){if(e instanceof Zr)return new Zr(e.h,e.s,e.l,e.opacity);if(e instanceof Wo||(e=Jo(e)),!e)return new Zr;if(e instanceof Zr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),o=Math.max(t,r,n),a=NaN,s=o-i,u=(o+i)/2;return s?(t===o?a=(r-n)/s+(r<n)*6:r===o?a=(n-t)/s+2:a=(t-r)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Zr(a,s,u,e.opacity)}function Jx(e,t,r,n){return arguments.length===1?jm(e):new Zr(e,t,r,n==null?1:n)}function Zr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Mu(Zr,Jx,Bm(Wo,{brighter:function(e){return e=e==null?Ts:Math.pow(Ts,e),new Zr(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?Uo:Math.pow(Uo,e),new Zr(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new cr(Eu(e>=240?e-240:e+120,i,n),Eu(e,i,n),Eu(e<120?e+240:e-120,i,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function Eu(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}var Vm=e=>()=>e;function Xx(e,t){return function(r){return e+r*t}}function Yx(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Zx(e){return(e=+e)==1?$m:function(t,r){return r-t?Yx(t,r,e):Vm(isNaN(t)?r:t)}}function $m(e,t){var r=t-e;return r?Xx(e,r):Vm(isNaN(e)?t:e)}var Gm=function e(t){var r=Zx(t);function n(i,o){var a=r((i=Cu(i)).r,(o=Cu(o)).r),s=r(i.g,o.g),u=r(i.b,o.b),h=$m(i.opacity,o.opacity);return function(d){return i.r=a(d),i.g=s(d),i.b=u(d),i.opacity=h(d),i+""}}return n.gamma=e,n}(1);function Vn(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}var Ou=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_u=new RegExp(Ou.source,"g");function Qx(e){return function(){return e}}function e9(e){return function(t){return e(t)+""}}function t9(e,t){var r=Ou.lastIndex=_u.lastIndex=0,n,i,o,a=-1,s=[],u=[];for(e=e+"",t=t+"";(n=Ou.exec(e))&&(i=_u.exec(t));)(o=i.index)>r&&(o=t.slice(r,o),s[a]?s[a]+=o:s[++a]=o),(n=n[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,u.push({i:a,x:Vn(n,i)})),r=_u.lastIndex;return r<t.length&&(o=t.slice(r),s[a]?s[a]+=o:s[++a]=o),s.length<2?u[0]?e9(u[0].x):Qx(t):(t=u.length,function(h){for(var d=0,m;d<t;++d)s[(m=u[d]).i]=m.x(h);return s.join("")})}var Wm=180/Math.PI,Nu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Um(e,t,r,n,i,o){var a,s,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,u/=s),e*n<t*r&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Wm,skewX:Math.atan(u)*Wm,scaleX:a,scaleY:s}}var Os;function r9(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Nu:Um(t.a,t.b,t.c,t.d,t.e,t.f)}function n9(e){return e==null||(Os||(Os=document.createElementNS("http://www.w3.org/2000/svg","g")),Os.setAttribute("transform",e),!(e=Os.transform.baseVal.consolidate()))?Nu:(e=e.matrix,Um(e.a,e.b,e.c,e.d,e.e,e.f))}function Km(e,t,r,n){function i(h){return h.length?h.pop()+" ":""}function o(h,d,m,y,k,A){if(h!==m||d!==y){var C=k.push("translate(",null,t,null,r);A.push({i:C-4,x:Vn(h,m)},{i:C-2,x:Vn(d,y)})}else(m||y)&&k.push("translate("+m+t+y+r)}function a(h,d,m,y){h!==d?(h-d>180?d+=360:d-h>180&&(h+=360),y.push({i:m.push(i(m)+"rotate(",null,n)-2,x:Vn(h,d)})):d&&m.push(i(m)+"rotate("+d+n)}function s(h,d,m,y){h!==d?y.push({i:m.push(i(m)+"skewX(",null,n)-2,x:Vn(h,d)}):d&&m.push(i(m)+"skewX("+d+n)}function u(h,d,m,y,k,A){if(h!==m||d!==y){var C=k.push(i(k)+"scale(",null,",",null,")");A.push({i:C-4,x:Vn(h,m)},{i:C-2,x:Vn(d,y)})}else(m!==1||y!==1)&&k.push(i(k)+"scale("+m+","+y+")")}return function(h,d){var m=[],y=[];return h=e(h),d=e(d),o(h.translateX,h.translateY,d.translateX,d.translateY,m,y),a(h.rotate,d.rotate,m,y),s(h.skewX,d.skewX,m,y),u(h.scaleX,h.scaleY,d.scaleX,d.scaleY,m,y),h=d=null,function(k){for(var A=-1,C=y.length,D;++A<C;)m[(D=y[A]).i]=D.x(k);return m.join("")}}}var i9=Km(r9,"px, ","px)","deg)"),o9=Km(n9,", ",")",")"),a9=1e-12;function Jm(e){return((e=Math.exp(e))+1/e)/2}function s9(e){return((e=Math.exp(e))-1/e)/2}function l9(e){return((e=Math.exp(2*e))-1)/(e+1)}var u9=function e(t,r,n){function i(o,a){var s=o[0],u=o[1],h=o[2],d=a[0],m=a[1],y=a[2],k=d-s,A=m-u,C=k*k+A*A,D,N;if(C<a9)N=Math.log(y/h)/t,D=function(G){return[s+G*k,u+G*A,h*Math.exp(t*G*N)]};else{var T=Math.sqrt(C),I=(y*y-h*h+n*C)/(2*h*r*T),O=(y*y-h*h-n*C)/(2*y*r*T),H=Math.log(Math.sqrt(I*I+1)-I),L=Math.log(Math.sqrt(O*O+1)-O);N=(L-H)/t,D=function(G){var Z=G*N,K=Jm(H),oe=h/(r*T)*(K*l9(t*Z+H)-s9(H));return[s+oe*k,u+oe*A,h*K/Jm(t*Z+H)]}}return D.duration=N*1e3*t/Math.SQRT2,D}return i.rho=function(o){var a=Math.max(.001,+o),s=a*a,u=s*s;return e(a,s,u)},i}(Math.SQRT2,2,4),ro=0,Xo=0,Yo=0,Xm=1e3,_s,Zo,Ns=0,fi=0,Ds=0,Qo=typeof performance=="object"&&performance.now?performance:Date,Ym=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Du(){return fi||(Ym(c9),fi=Qo.now()+Ds)}function c9(){fi=0}function zs(){this._call=this._time=this._next=null}zs.prototype=Zm.prototype={constructor:zs,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Du():+r)+(t==null?0:+t),!this._next&&Zo!==this&&(Zo?Zo._next=this:_s=this,Zo=this),this._call=e,this._time=r,zu()},stop:function(){this._call&&(this._call=null,this._time=1/0,zu())}};function Zm(e,t,r){var n=new zs;return n.restart(e,t,r),n}function f9(){Du(),++ro;for(var e=_s,t;e;)(t=fi-e._time)>=0&&e._call.call(null,t),e=e._next;--ro}function Qm(){fi=(Ns=Qo.now())+Ds,ro=Xo=0;try{f9()}finally{ro=0,p9(),fi=0}}function h9(){var e=Qo.now(),t=e-Ns;t>Xm&&(Ds-=t,Ns=e)}function p9(){for(var e,t=_s,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:_s=r);Zo=e,zu(n)}function zu(e){if(!ro){Xo&&(Xo=clearTimeout(Xo));var t=e-fi;t>24?(e<1/0&&(Xo=setTimeout(Qm,e-Qo.now()-Ds)),Yo&&(Yo=clearInterval(Yo))):(Yo||(Ns=Qo.now(),Yo=setInterval(h9,Xm)),ro=1,Ym(Qm))}}function e1(e,t,r){var n=new zs;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var d9=xu("start","end","cancel","interrupt"),m9=[],t1=0,r1=1,Bu=2,Bs=3,n1=4,Ru=5,Rs=6;function Is(e,t,r,n,i,o){var a=e.__transition;if(!a)e.__transition={};else if(r in a)return;v9(e,r,{name:t,index:n,group:i,on:d9,tween:m9,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:t1})}function Iu(e,t){var r=Rr(e,t);if(r.state>t1)throw new Error("too late; already scheduled");return r}function Qr(e,t){var r=Rr(e,t);if(r.state>Bs)throw new Error("too late; already running");return r}function Rr(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function v9(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=Zm(o,0,r.time);function o(h){r.state=r1,r.timer.restart(a,r.delay,r.time),r.delay<=h&&a(h-r.delay)}function a(h){var d,m,y,k;if(r.state!==r1)return u();for(d in n)if(k=n[d],k.name===r.name){if(k.state===Bs)return e1(a);k.state===n1?(k.state=Rs,k.timer.stop(),k.on.call("interrupt",e,e.__data__,k.index,k.group),delete n[d]):+d<t&&(k.state=Rs,k.timer.stop(),k.on.call("cancel",e,e.__data__,k.index,k.group),delete n[d])}if(e1(function(){r.state===Bs&&(r.state=n1,r.timer.restart(s,r.delay,r.time),s(h))}),r.state=Bu,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Bu){for(r.state=Bs,i=new Array(y=r.tween.length),d=0,m=-1;d<y;++d)(k=r.tween[d].value.call(e,e.__data__,r.index,r.group))&&(i[++m]=k);i.length=m+1}}function s(h){for(var d=h<r.duration?r.ease.call(null,h/r.duration):(r.timer.restart(u),r.state=Ru,1),m=-1,y=i.length;++m<y;)i[m].call(e,d);r.state===Ru&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=Rs,r.timer.stop(),delete n[t];for(var h in n)return;delete e.__transition}}function Fs(e,t){var r=e.__transition,n,i,o=!0,a;if(!!r){t=t==null?null:t+"";for(a in r){if((n=r[a]).name!==t){o=!1;continue}i=n.state>Bu&&n.state<Ru,n.state=Rs,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[a]}o&&delete e.__transition}}function g9(e){return this.each(function(){Fs(this,e)})}function y9(e,t){var r,n;return function(){var i=Qr(this,e),o=i.tween;if(o!==r){n=r=o;for(var a=0,s=n.length;a<s;++a)if(n[a].name===t){n=n.slice(),n.splice(a,1);break}}i.tween=n}}function b9(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var o=Qr(this,e),a=o.tween;if(a!==n){i=(n=a).slice();for(var s={name:t,value:r},u=0,h=i.length;u<h;++u)if(i[u].name===t){i[u]=s;break}u===h&&i.push(s)}o.tween=i}}function x9(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Rr(this.node(),r).tween,i=0,o=n.length,a;i<o;++i)if((a=n[i]).name===e)return a.value;return null}return this.each((t==null?y9:b9)(r,e,t))}function Fu(e,t,r){var n=e._id;return e.each(function(){var i=Qr(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Rr(i,n).value[t]}}function i1(e,t){var r;return(typeof t=="number"?Vn:t instanceof Jo?Gm:(r=Jo(t))?(t=r,Gm):t9)(e,t)}function w9(e){return function(){this.removeAttribute(e)}}function k9(e){return function(){this.removeAttributeNS(e.space,e.local)}}function S9(e,t,r){var n,i=r+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===n?o:o=t(n=a,r)}}function A9(e,t,r){var n,i=r+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===n?o:o=t(n=a,r)}}function M9(e,t,r){var n,i,o;return function(){var a,s=r(this),u;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=s+"",a===u?null:a===n&&u===i?o:(i=u,o=t(n=a,s)))}}function C9(e,t,r){var n,i,o;return function(){var a,s=r(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=s+"",a===u?null:a===n&&u===i?o:(i=u,o=t(n=a,s)))}}function T9(e,t){var r=Ms(e),n=r==="transform"?o9:i1;return this.attrTween(e,typeof t=="function"?(r.local?C9:M9)(r,n,Fu(this,"attr."+e,t)):t==null?(r.local?k9:w9)(r):(r.local?A9:S9)(r,n,t))}function E9(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function O9(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function _9(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&O9(e,o)),r}return i._value=t,i}function N9(e,t){var r,n;function i(){var o=t.apply(this,arguments);return o!==n&&(r=(n=o)&&E9(e,o)),r}return i._value=t,i}function D9(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Ms(e);return this.tween(r,(n.local?_9:N9)(n,t))}function z9(e,t){return function(){Iu(this,e).delay=+t.apply(this,arguments)}}function B9(e,t){return t=+t,function(){Iu(this,e).delay=t}}function R9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?z9:B9)(t,e)):Rr(this.node(),t).delay}function I9(e,t){return function(){Qr(this,e).duration=+t.apply(this,arguments)}}function F9(e,t){return t=+t,function(){Qr(this,e).duration=t}}function P9(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?I9:F9)(t,e)):Rr(this.node(),t).duration}function L9(e,t){if(typeof t!="function")throw new Error;return function(){Qr(this,e).ease=t}}function q9(e){var t=this._id;return arguments.length?this.each(L9(t,e)):Rr(this.node(),t).ease}function H9(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Qr(this,e).ease=r}}function j9(e){if(typeof e!="function")throw new Error;return this.each(H9(this._id,e))}function V9(e){typeof e!="function"&&(e=Am(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var o=t[i],a=o.length,s=n[i]=[],u,h=0;h<a;++h)(u=o[h])&&e.call(u,u.__data__,h,o)&&s.push(u);return new yn(n,this._parents,this._name,this._id)}function $9(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,o=Math.min(n,i),a=new Array(n),s=0;s<o;++s)for(var u=t[s],h=r[s],d=u.length,m=a[s]=new Array(d),y,k=0;k<d;++k)(y=u[k]||h[k])&&(m[k]=y);for(;s<n;++s)a[s]=t[s];return new yn(a,this._parents,this._name,this._id)}function G9(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function W9(e,t,r){var n,i,o=G9(t)?Iu:Qr;return function(){var a=o(this,e),s=a.on;s!==n&&(i=(n=s).copy()).on(t,r),a.on=i}}function U9(e,t){var r=this._id;return arguments.length<2?Rr(this.node(),r).on.on(e):this.each(W9(r,e,t))}function K9(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function J9(){return this.on("end.remove",K9(this._id))}function X9(e){var t=this._name,r=this._id;typeof e!="function"&&(e=ku(e));for(var n=this._groups,i=n.length,o=new Array(i),a=0;a<i;++a)for(var s=n[a],u=s.length,h=o[a]=new Array(u),d,m,y=0;y<u;++y)(d=s[y])&&(m=e.call(d,d.__data__,y,s))&&("__data__"in d&&(m.__data__=d.__data__),h[y]=m,Is(h[y],t,r,y,h,Rr(d,r)));return new yn(o,this._parents,t,r)}function Y9(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Sm(e));for(var n=this._groups,i=n.length,o=[],a=[],s=0;s<i;++s)for(var u=n[s],h=u.length,d,m=0;m<h;++m)if(d=u[m]){for(var y=e.call(d,d.__data__,m,u),k,A=Rr(d,r),C=0,D=y.length;C<D;++C)(k=y[C])&&Is(k,t,r,C,y,A);o.push(y),a.push(d)}return new yn(o,a,t,r)}var Z9=Go.prototype.constructor;function Q9(){return new Z9(this._groups,this._parents)}function ew(e,t){var r,n,i;return function(){var o=eo(this,e),a=(this.style.removeProperty(e),eo(this,e));return o===a?null:o===r&&a===n?i:i=t(r=o,n=a)}}function o1(e){return function(){this.style.removeProperty(e)}}function tw(e,t,r){var n,i=r+"",o;return function(){var a=eo(this,e);return a===i?null:a===n?o:o=t(n=a,r)}}function rw(e,t,r){var n,i,o;return function(){var a=eo(this,e),s=r(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),eo(this,e))),a===u?null:a===n&&u===i?o:(i=u,o=t(n=a,s))}}function nw(e,t){var r,n,i,o="style."+t,a="end."+o,s;return function(){var u=Qr(this,e),h=u.on,d=u.value[o]==null?s||(s=o1(t)):void 0;(h!==r||i!==d)&&(n=(r=h).copy()).on(a,i=d),u.on=n}}function iw(e,t,r){var n=(e+="")=="transform"?i9:i1;return t==null?this.styleTween(e,ew(e,n)).on("end.style."+e,o1(e)):typeof t=="function"?this.styleTween(e,rw(e,n,Fu(this,"style."+e,t))).each(nw(this._id,e)):this.styleTween(e,tw(e,n,t),r).on("end.style."+e,null)}function ow(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function aw(e,t,r){var n,i;function o(){var a=t.apply(this,arguments);return a!==i&&(n=(i=a)&&ow(e,a,r)),n}return o._value=t,o}function sw(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,aw(e,t,r==null?"":r))}function lw(e){return function(){this.textContent=e}}function uw(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function cw(e){return this.tween("text",typeof e=="function"?uw(Fu(this,"text",e)):lw(e==null?"":e+""))}function fw(e){return function(t){this.textContent=e.call(this,t)}}function hw(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&fw(i)),t}return n._value=e,n}function pw(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,hw(e))}function dw(){for(var e=this._name,t=this._id,r=a1(),n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,u,h=0;h<s;++h)if(u=a[h]){var d=Rr(u,t);Is(u,e,r,h,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new yn(n,this._parents,e,r)}function mw(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(o,a){var s={value:a},u={value:function(){--i===0&&o()}};r.each(function(){var h=Qr(this,n),d=h.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),h.on=t}),i===0&&o()})}var vw=0;function yn(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function a1(){return++vw}var hi=Go.prototype;yn.prototype={constructor:yn,select:X9,selectAll:Y9,filter:V9,merge:$9,selection:Q9,transition:dw,call:hi.call,nodes:hi.nodes,node:hi.node,size:hi.size,empty:hi.empty,each:hi.each,on:U9,attr:T9,attrTween:D9,style:iw,styleTween:sw,text:cw,textTween:pw,remove:J9,tween:x9,delay:R9,duration:P9,ease:q9,easeVarying:j9,end:mw,[Symbol.iterator]:hi[Symbol.iterator]};function gw(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var yw={time:null,delay:0,duration:250,ease:gw};function bw(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function xw(e){var t,r;e instanceof yn?(t=e._id,e=e._name):(t=a1(),(r=yw).time=Du(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,o=0;o<i;++o)for(var a=n[o],s=a.length,u,h=0;h<s;++h)(u=a[h])&&Is(u,e,t,h,a,r||bw(u,t));return new yn(n,this._parents,e,t)}Go.prototype.interrupt=g9;Go.prototype.transition=xw;const Pu=Math.PI,Lu=2*Pu,pi=1e-6,ww=Lu-pi;function qu(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function s1(){return new qu}qu.prototype=s1.prototype={constructor:qu,moveTo:function(e,t){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)},closePath:function(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(e,t){this._+="L"+(this._x1=+e)+","+(this._y1=+t)},quadraticCurveTo:function(e,t,r,n){this._+="Q"+ +e+","+ +t+","+(this._x1=+r)+","+(this._y1=+n)},bezierCurveTo:function(e,t,r,n,i,o){this._+="C"+ +e+","+ +t+","+ +r+","+ +n+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(e,t,r,n,i){e=+e,t=+t,r=+r,n=+n,i=+i;var o=this._x1,a=this._y1,s=r-e,u=n-t,h=o-e,d=a-t,m=h*h+d*d;if(i<0)throw new Error("negative radius: "+i);if(this._x1===null)this._+="M"+(this._x1=e)+","+(this._y1=t);else if(m>pi)if(!(Math.abs(d*s-u*h)>pi)||!i)this._+="L"+(this._x1=e)+","+(this._y1=t);else{var y=r-o,k=n-a,A=s*s+u*u,C=y*y+k*k,D=Math.sqrt(A),N=Math.sqrt(m),T=i*Math.tan((Pu-Math.acos((A+m-C)/(2*D*N)))/2),I=T/N,O=T/D;Math.abs(I-1)>pi&&(this._+="L"+(e+I*h)+","+(t+I*d)),this._+="A"+i+","+i+",0,0,"+ +(d*y>h*k)+","+(this._x1=e+O*s)+","+(this._y1=t+O*u)}},arc:function(e,t,r,n,i,o){e=+e,t=+t,r=+r,o=!!o;var a=r*Math.cos(n),s=r*Math.sin(n),u=e+a,h=t+s,d=1^o,m=o?n-i:i-n;if(r<0)throw new Error("negative radius: "+r);this._x1===null?this._+="M"+u+","+h:(Math.abs(this._x1-u)>pi||Math.abs(this._y1-h)>pi)&&(this._+="L"+u+","+h),!!r&&(m<0&&(m=m%Lu+Lu),m>ww?this._+="A"+r+","+r+",0,1,"+d+","+(e-a)+","+(t-s)+"A"+r+","+r+",0,1,"+d+","+(this._x1=u)+","+(this._y1=h):m>pi&&(this._+="A"+r+","+r+",0,"+ +(m>=Pu)+","+d+","+(this._x1=e+r*Math.cos(i))+","+(this._y1=t+r*Math.sin(i))))},rect:function(e,t,r,n){this._+="M"+(this._x0=this._x1=+e)+","+(this._y0=this._y1=+t)+"h"+ +r+"v"+ +n+"h"+-r+"Z"},toString:function(){return this._}};function kw(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const l1=Symbol("implicit");function u1(){var e=new Map,t=[],r=[],n=l1;function i(o){var a=o+"",s=e.get(a);if(!s){if(n!==l1)return n;e.set(a,s=t.push(o))}return r[(s-1)%r.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Map;for(const a of o){const s=a+"";e.has(s)||e.set(s,t.push(a))}return i},i.range=function(o){return arguments.length?(r=Array.from(o),i):r.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return u1(t,r).unknown(n)},kw.apply(i,arguments),i}function Sw(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}var Aw=Sw("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function c1(e){return function(){return e}}var Mw=Array.prototype.slice;function Cw(e){return e[0]}function Tw(e){return e[1]}function Ew(e){return e.source}function Ow(e){return e.target}function _w(e){var t=Ew,r=Ow,n=Cw,i=Tw,o=null;function a(){var s,u=Mw.call(arguments),h=t.apply(this,u),d=r.apply(this,u);if(o||(o=s=s1()),e(o,+n.apply(this,(u[0]=h,u)),+i.apply(this,u),+n.apply(this,(u[0]=d,u)),+i.apply(this,u)),s)return o=null,s+""||null}return a.source=function(s){return arguments.length?(t=s,a):t},a.target=function(s){return arguments.length?(r=s,a):r},a.x=function(s){return arguments.length?(n=typeof s=="function"?s:c1(+s),a):n},a.y=function(s){return arguments.length?(i=typeof s=="function"?s:c1(+s),a):i},a.context=function(s){return arguments.length?(o=s==null?null:s,a):o},a}function Nw(e,t,r,n,i){e.moveTo(t,r),e.bezierCurveTo(t=(t+n)/2,r,t,i,n,i)}function Dw(){return _w(Nw)}var Ps=e=>()=>e;function zw(e,{sourceEvent:t,target:r,transform:n,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:n,enumerable:!0,configurable:!0},_:{value:i}})}function bn(e,t,r){this.k=e,this.x=t,this.y=r}bn.prototype={constructor:bn,scale:function(e){return e===1?this:new bn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new bn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Ls=new bn(1,0,0);Hu.prototype=bn.prototype;function Hu(e){for(;!e.__zoom;)if(!(e=e.parentNode))return Ls;return e.__zoom}function ju(e){e.stopImmediatePropagation()}function ea(e){e.preventDefault(),e.stopImmediatePropagation()}function Bw(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function Rw(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function f1(){return this.__zoom||Ls}function Iw(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function Fw(){return navigator.maxTouchPoints||"ontouchstart"in this}function Pw(e,t,r){var n=e.invertX(t[0][0])-r[0][0],i=e.invertX(t[1][0])-r[1][0],o=e.invertY(t[0][1])-r[0][1],a=e.invertY(t[1][1])-r[1][1];return e.translate(i>n?(n+i)/2:Math.min(0,n)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function Lw(){var e=Bw,t=Rw,r=Pw,n=Iw,i=Fw,o=[0,1/0],a=[[-1/0,-1/0],[1/0,1/0]],s=250,u=u9,h=xu("start","zoom","end"),d,m,y,k=500,A=150,C=0,D=10;function N(B){B.property("__zoom",f1).on("wheel.zoom",Z).on("mousedown.zoom",K).on("dblclick.zoom",oe).filter(i).on("touchstart.zoom",he).on("touchmove.zoom",me).on("touchend.zoom touchcancel.zoom",ge).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}N.transform=function(B,U,W,ce){var ae=B.selection?B.selection():B;ae.property("__zoom",f1),B!==ae?H(B,U,W,ce):ae.interrupt().each(function(){L(this,arguments).event(ce).start().zoom(null,typeof U=="function"?U.apply(this,arguments):U).end()})},N.scaleBy=function(B,U,W,ce){N.scaleTo(B,function(){var ae=this.__zoom.k,xe=typeof U=="function"?U.apply(this,arguments):U;return ae*xe},W,ce)},N.scaleTo=function(B,U,W,ce){N.transform(B,function(){var ae=t.apply(this,arguments),xe=this.__zoom,Se=W==null?O(ae):typeof W=="function"?W.apply(this,arguments):W,ie=xe.invert(Se),Te=typeof U=="function"?U.apply(this,arguments):U;return r(I(T(xe,Te),Se,ie),ae,a)},W,ce)},N.translateBy=function(B,U,W,ce){N.transform(B,function(){return r(this.__zoom.translate(typeof U=="function"?U.apply(this,arguments):U,typeof W=="function"?W.apply(this,arguments):W),t.apply(this,arguments),a)},null,ce)},N.translateTo=function(B,U,W,ce,ae){N.transform(B,function(){var xe=t.apply(this,arguments),Se=this.__zoom,ie=ce==null?O(xe):typeof ce=="function"?ce.apply(this,arguments):ce;return r(Ls.translate(ie[0],ie[1]).scale(Se.k).translate(typeof U=="function"?-U.apply(this,arguments):-U,typeof W=="function"?-W.apply(this,arguments):-W),xe,a)},ce,ae)};function T(B,U){return U=Math.max(o[0],Math.min(o[1],U)),U===B.k?B:new bn(U,B.x,B.y)}function I(B,U,W){var ce=U[0]-W[0]*B.k,ae=U[1]-W[1]*B.k;return ce===B.x&&ae===B.y?B:new bn(B.k,ce,ae)}function O(B){return[(+B[0][0]+ +B[1][0])/2,(+B[0][1]+ +B[1][1])/2]}function H(B,U,W,ce){B.on("start.zoom",function(){L(this,arguments).event(ce).start()}).on("interrupt.zoom end.zoom",function(){L(this,arguments).event(ce).end()}).tween("zoom",function(){var ae=this,xe=arguments,Se=L(ae,xe).event(ce),ie=t.apply(ae,xe),Te=W==null?O(ie):typeof W=="function"?W.apply(ae,xe):W,ot=Math.max(ie[1][0]-ie[0][0],ie[1][1]-ie[0][1]),Ne=ae.__zoom,He=typeof U=="function"?U.apply(ae,xe):U,Ve=u(Ne.invert(Te).concat(ot/Ne.k),He.invert(Te).concat(ot/He.k));return function(Ze){if(Ze===1)Ze=He;else{var Qe=Ve(Ze),Rt=ot/Qe[2];Ze=new bn(Rt,Te[0]-Qe[0]*Rt,Te[1]-Qe[1]*Rt)}Se.zoom(null,Ze)}})}function L(B,U,W){return!W&&B.__zooming||new G(B,U)}function G(B,U){this.that=B,this.args=U,this.active=0,this.sourceEvent=null,this.extent=t.apply(B,U),this.taps=0}G.prototype={event:function(B){return B&&(this.sourceEvent=B),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(B,U){return this.mouse&&B!=="mouse"&&(this.mouse[1]=U.invert(this.mouse[0])),this.touch0&&B!=="touch"&&(this.touch0[1]=U.invert(this.touch0[0])),this.touch1&&B!=="touch"&&(this.touch1[1]=U.invert(this.touch1[0])),this.that.__zoom=U,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(B){var U=jn(this.that).datum();h.call(B,this.that,new zw(B,{sourceEvent:this.sourceEvent,target:N,type:B,transform:this.that.__zoom,dispatch:h}),U)}};function Z(B,...U){if(!e.apply(this,arguments))return;var W=L(this,U).event(B),ce=this.__zoom,ae=Math.max(o[0],Math.min(o[1],ce.k*Math.pow(2,n.apply(this,arguments)))),xe=ci(B);if(W.wheel)(W.mouse[0][0]!==xe[0]||W.mouse[0][1]!==xe[1])&&(W.mouse[1]=ce.invert(W.mouse[0]=xe)),clearTimeout(W.wheel);else{if(ce.k===ae)return;W.mouse=[xe,ce.invert(xe)],Fs(this),W.start()}ea(B),W.wheel=setTimeout(Se,A),W.zoom("mouse",r(I(T(ce,ae),W.mouse[0],W.mouse[1]),W.extent,a));function Se(){W.wheel=null,W.end()}}function K(B,...U){if(y||!e.apply(this,arguments))return;var W=L(this,U,!0).event(B),ce=jn(B.view).on("mousemove.zoom",Te,!0).on("mouseup.zoom",ot,!0),ae=ci(B,xe),xe=B.currentTarget,Se=B.clientX,ie=B.clientY;Px(B.view),ju(B),W.mouse=[ae,this.__zoom.invert(ae)],Fs(this),W.start();function Te(Ne){if(ea(Ne),!W.moved){var He=Ne.clientX-Se,Ve=Ne.clientY-ie;W.moved=He*He+Ve*Ve>C}W.event(Ne).zoom("mouse",r(I(W.that.__zoom,W.mouse[0]=ci(Ne,xe),W.mouse[1]),W.extent,a))}function ot(Ne){ce.on("mousemove.zoom mouseup.zoom",null),Lx(Ne.view,W.moved),ea(Ne),W.event(Ne).end()}}function oe(B,...U){if(!!e.apply(this,arguments)){var W=this.__zoom,ce=ci(B.changedTouches?B.changedTouches[0]:B,this),ae=W.invert(ce),xe=W.k*(B.shiftKey?.5:2),Se=r(I(T(W,xe),ce,ae),t.apply(this,U),a);ea(B),s>0?jn(this).transition().duration(s).call(H,Se,ce,B):jn(this).call(N.transform,Se,ce,B)}}function he(B,...U){if(!!e.apply(this,arguments)){var W=B.touches,ce=W.length,ae=L(this,U,B.changedTouches.length===ce).event(B),xe,Se,ie,Te;for(ju(B),Se=0;Se<ce;++Se)ie=W[Se],Te=ci(ie,this),Te=[Te,this.__zoom.invert(Te),ie.identifier],ae.touch0?!ae.touch1&&ae.touch0[2]!==Te[2]&&(ae.touch1=Te,ae.taps=0):(ae.touch0=Te,xe=!0,ae.taps=1+!!d);d&&(d=clearTimeout(d)),xe&&(ae.taps<2&&(m=Te[0],d=setTimeout(function(){d=null},k)),Fs(this),ae.start())}}function me(B,...U){if(!!this.__zooming){var W=L(this,U).event(B),ce=B.changedTouches,ae=ce.length,xe,Se,ie,Te;for(ea(B),xe=0;xe<ae;++xe)Se=ce[xe],ie=ci(Se,this),W.touch0&&W.touch0[2]===Se.identifier?W.touch0[0]=ie:W.touch1&&W.touch1[2]===Se.identifier&&(W.touch1[0]=ie);if(Se=W.that.__zoom,W.touch1){var ot=W.touch0[0],Ne=W.touch0[1],He=W.touch1[0],Ve=W.touch1[1],Ze=(Ze=He[0]-ot[0])*Ze+(Ze=He[1]-ot[1])*Ze,Qe=(Qe=Ve[0]-Ne[0])*Qe+(Qe=Ve[1]-Ne[1])*Qe;Se=T(Se,Math.sqrt(Ze/Qe)),ie=[(ot[0]+He[0])/2,(ot[1]+He[1])/2],Te=[(Ne[0]+Ve[0])/2,(Ne[1]+Ve[1])/2]}else if(W.touch0)ie=W.touch0[0],Te=W.touch0[1];else return;W.zoom("touch",r(I(Se,ie,Te),W.extent,a))}}function ge(B,...U){if(!!this.__zooming){var W=L(this,U).event(B),ce=B.changedTouches,ae=ce.length,xe,Se;for(ju(B),y&&clearTimeout(y),y=setTimeout(function(){y=null},k),xe=0;xe<ae;++xe)Se=ce[xe],W.touch0&&W.touch0[2]===Se.identifier?delete W.touch0:W.touch1&&W.touch1[2]===Se.identifier&&delete W.touch1;if(W.touch1&&!W.touch0&&(W.touch0=W.touch1,delete W.touch1),W.touch0)W.touch0[1]=this.__zoom.invert(W.touch0[0]);else if(W.end(),W.taps===2&&(Se=ci(Se,this),Math.hypot(m[0]-Se[0],m[1]-Se[1])<D)){var ie=jn(this).on("dblclick.zoom");ie&&ie.apply(this,arguments)}}}return N.wheelDelta=function(B){return arguments.length?(n=typeof B=="function"?B:Ps(+B),N):n},N.filter=function(B){return arguments.length?(e=typeof B=="function"?B:Ps(!!B),N):e},N.touchable=function(B){return arguments.length?(i=typeof B=="function"?B:Ps(!!B),N):i},N.extent=function(B){return arguments.length?(t=typeof B=="function"?B:Ps([[+B[0][0],+B[0][1]],[+B[1][0],+B[1][1]]]),N):t},N.scaleExtent=function(B){return arguments.length?(o[0]=+B[0],o[1]=+B[1],N):[o[0],o[1]]},N.translateExtent=function(B){return arguments.length?(a[0][0]=+B[0][0],a[1][0]=+B[1][0],a[0][1]=+B[0][1],a[1][1]=+B[1][1],N):[[a[0][0],a[0][1]],[a[1][0],a[1][1]]]},N.constrain=function(B){return arguments.length?(r=B,N):r},N.duration=function(B){return arguments.length?(s=+B,N):s},N.interpolate=function(B){return arguments.length?(u=B,N):u},N.on=function(){var B=h.on.apply(h,arguments);return B===h?N:B},N.clickDistance=function(B){return arguments.length?(C=(B=+B)*B,N):Math.sqrt(C)},N.tapDistance=function(B){return arguments.length?(D=+B,N):D},N}/*! markmap-view v0.2.7 | MIT License */function di(){return di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},di.apply(this,arguments)}function qw(e){var t=0,r=e.children,n=r&&r.length;if(!n)t=1;else for(;--n>=0;)t+=r[n].value;e.value=t}function Hw(){return this.eachAfter(qw)}function jw(e){var t=this,r,n=[t],i,o,a;do for(r=n.reverse(),n=[];t=r.pop();)if(e(t),i=t.children,i)for(o=0,a=i.length;o<a;++o)n.push(i[o]);while(n.length);return this}function Vw(e){for(var t=this,r=[t],n,i;t=r.pop();)if(e(t),n=t.children,n)for(i=n.length-1;i>=0;--i)r.push(n[i]);return this}function $w(e){for(var t=this,r=[t],n=[],i,o,a;t=r.pop();)if(n.push(t),i=t.children,i)for(o=0,a=i.length;o<a;++o)r.push(i[o]);for(;t=n.pop();)e(t);return this}function Gw(e){return this.eachAfter(function(t){for(var r=+e(t.data)||0,n=t.children,i=n&&n.length;--i>=0;)r+=n[i].value;t.value=r})}function Ww(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Uw(e){for(var t=this,r=Kw(t,e),n=[t];t!==r;)t=t.parent,n.push(t);for(var i=n.length;e!==r;)n.splice(i,0,e),e=e.parent;return n}function Kw(e,t){if(e===t)return e;var r=e.ancestors(),n=t.ancestors(),i=null;for(e=r.pop(),t=n.pop();e===t;)i=e,e=r.pop(),t=n.pop();return i}function Jw(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Xw(){var e=[];return this.each(function(t){e.push(t)}),e}function Yw(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Zw(){var e=this,t=[];return e.each(function(r){r!==e&&t.push({source:r.parent,target:r})}),t}function Vu(e,t){var r=new qs(e),n=+e.value&&(r.value=e.value),i,o=[r],a,s,u,h;for(t==null&&(t=ek);i=o.pop();)if(n&&(i.value=+i.data.value),(s=t(i.data))&&(h=s.length))for(i.children=new Array(h),u=h-1;u>=0;--u)o.push(a=i.children[u]=new qs(s[u])),a.parent=i,a.depth=i.depth+1;return r.eachBefore(rk)}function Qw(){return Vu(this).eachBefore(tk)}function ek(e){return e.children}function tk(e){e.data=e.data.data}function rk(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function qs(e){this.data=e,this.depth=this.height=0,this.parent=null}qs.prototype=Vu.prototype={constructor:qs,count:Hw,each:jw,eachAfter:$w,eachBefore:Vw,sum:Gw,sort:Ww,path:Uw,ancestors:Jw,descendants:Xw,leaves:Yw,links:Zw,copy:Qw};var nk="d3-flextree",ik="2.1.2",ok="build/d3-flextree.js",$u="index",ak={name:"Chris Maloney",url:"http://chrismaloney.org"},sk="Flexible tree layout algorithm that allows for variable node sizes.",lk=["d3","d3-module","layout","tree","hierarchy","d3-hierarchy","plugin","d3-plugin","infovis","visualization","2d"],uk="https://github.com/klortho/d3-flextree",ck="WTFPL",fk={type:"git",url:"https://github.com/klortho/d3-flextree.git"},hk={clean:"rm -rf build demo test","build:demo":"rollup -c --environment BUILD:demo","build:dev":"rollup -c --environment BUILD:dev","build:prod":"rollup -c --environment BUILD:prod","build:test":"rollup -c --environment BUILD:test",build:"rollup -c",lint:"eslint index.js src","test:main":"node test/bundle.js","test:browser":"node test/browser-tests.js",test:"npm-run-all test:*",prepare:"npm-run-all clean build lint test"},pk={"d3-hierarchy":"^1.1.5"},dk={"babel-plugin-external-helpers":"^6.22.0","babel-preset-es2015-rollup":"^3.0.0",d3:"^4.13.0","d3-selection-multi":"^1.0.1",eslint:"^4.19.1",jsdom:"^11.6.2","npm-run-all":"^4.1.2",rollup:"^0.55.3","rollup-plugin-babel":"^2.7.1","rollup-plugin-commonjs":"^8.0.2","rollup-plugin-copy":"^0.2.3","rollup-plugin-json":"^2.3.0","rollup-plugin-node-resolve":"^3.0.2","rollup-plugin-uglify":"^3.0.0","uglify-es":"^3.3.9"},mk={name:nk,version:ik,main:ok,module:$u,"jsnext:main":"index",author:ak,description:sk,keywords:lk,homepage:uk,license:ck,repository:fk,scripts:hk,dependencies:pk,devDependencies:dk};const{version:vk}=mk,gk=Object.freeze({children:e=>e.children,nodeSize:e=>e.data.size,spacing:0});function p1(e){const t=Object.assign({},gk,e);function r(s){const u=t[s];return typeof u=="function"?u:()=>u}function n(s){const u=a(o(),s,h=>h.children);return u.update(),u.data}function i(){const s=r("nodeSize"),u=r("spacing");return class h1 extends Vu.prototype.constructor{constructor(d){super(d)}copy(){const d=a(this.constructor,this,m=>m.children);return d.each(m=>m.data=m.data.data),d}get size(){return s(this)}spacing(d){return u(this,d)}get nodes(){return this.descendants()}get xSize(){return this.size[0]}get ySize(){return this.size[1]}get top(){return this.y}get bottom(){return this.y+this.ySize}get left(){return this.x-this.xSize/2}get right(){return this.x+this.xSize/2}get root(){const d=this.ancestors();return d[d.length-1]}get numChildren(){return this.hasChildren?this.children.length:0}get hasChildren(){return!this.noChildren}get noChildren(){return this.children===null}get firstChild(){return this.hasChildren?this.children[0]:null}get lastChild(){return this.hasChildren?this.children[this.numChildren-1]:null}get extents(){return(this.children||[]).reduce((d,m)=>h1.maxExtents(d,m.extents),this.nodeExtents)}get nodeExtents(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}static maxExtents(d,m){return{top:Math.min(d.top,m.top),bottom:Math.max(d.bottom,m.bottom),left:Math.min(d.left,m.left),right:Math.max(d.right,m.right)}}}}function o(){const s=i(),u=r("nodeSize"),h=r("spacing");return class extends s{constructor(d){super(d);Object.assign(this,{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:this,lExtRelX:0,lThr:null,rExt:this,rExtRelX:0,rThr:null})}get size(){return u(this.data)}spacing(d){return h(this.data,d.data)}get x(){return this.data.x}set x(d){this.data.x=d}get y(){return this.data.y}set y(d){this.data.y=d}update(){return d1(this),m1(this),this}}}function a(s,u,h){const d=(m,y)=>{const k=new s(m);Object.assign(k,{parent:y,depth:y===null?0:y.depth+1,height:0,length:1});const A=h(m)||[];return k.children=A.length===0?null:A.map(C=>d(C,k)),k.children&&Object.assign(k,k.children.reduce((C,D)=>({height:Math.max(C.height,D.height+1),length:C.length+D.length}),k)),k};return d(u,null)}return Object.assign(n,{nodeSize(s){return arguments.length?(t.nodeSize=s,n):t.nodeSize},spacing(s){return arguments.length?(t.spacing=s,n):t.spacing},children(s){return arguments.length?(t.children=s,n):t.children},hierarchy(s,u){const h=typeof u=="undefined"?t.children:u;return a(i(),s,h)},dump(s){const u=r("nodeSize"),h=d=>m=>{const y=d+"  ",k=d+"    ",{x:A,y:C}=m,D=u(m),N=m.children||[],T=N.length===0?" ":`,${y}children: [${k}${N.map(h(k)).join(k)}${y}],${d}`;return`{ size: [${D.join(", ")}],${y}x: ${A}, y: ${C}${T}},`};return h(`
`)(s)}}),n}p1.version=vk;const d1=(e,t=0)=>(e.y=t,(e.children||[]).reduce((r,n)=>{const[i,o]=r;d1(n,e.y+e.ySize);const a=(i===0?n.lExt:n.rExt).bottom;i!==0&&bk(e,i,o);const s=Tk(a,i,o);return[i+1,s]},[0,null]),yk(e),Ck(e),e),m1=(e,t,r)=>{typeof t=="undefined"&&(t=-e.relX-e.prelim,r=0);const n=t+e.relX;return e.relX=n+e.prelim-r,e.prelim=0,e.x=r+e.relX,(e.children||[]).forEach(i=>m1(i,n,e.x)),e},yk=e=>{(e.children||[]).reduce((t,r)=>{const[n,i]=t,o=n+r.shift,a=i+o+r.change;return r.relX+=a,[o,a]},[0,0])},bk=(e,t,r)=>{const n=e.children[t-1],i=e.children[t];let o=n,a=n.relX,s=i,u=i.relX,h=!0;for(;o&&s;){o.bottom>r.lowY&&(r=r.next);const d=a+o.prelim-(u+s.prelim)+o.xSize/2+s.xSize/2+o.spacing(s);(d>0||d<0&&h)&&(u+=d,xk(i,d),wk(e,t,r.index,d)),h=!1;const m=o.bottom,y=s.bottom;m<=y&&(o=Sk(o),o&&(a+=o.relX)),m>=y&&(s=kk(s),s&&(u+=s.relX))}!o&&s?Ak(e,t,s,u):o&&!s&&Mk(e,t,o,a)},xk=(e,t)=>{e.relX+=t,e.lExtRelX+=t,e.rExtRelX+=t},wk=(e,t,r,n)=>{const i=e.children[t],o=t-r;if(o>1){const a=n/o;e.children[r+1].shift+=a,i.shift-=a,i.change-=n-a}},kk=e=>e.hasChildren?e.firstChild:e.lThr,Sk=e=>e.hasChildren?e.lastChild:e.rThr,Ak=(e,t,r,n)=>{const i=e.firstChild,o=i.lExt,a=e.children[t];o.lThr=r;const s=n-r.relX-i.lExtRelX;o.relX+=s,o.prelim-=s,i.lExt=a.lExt,i.lExtRelX=a.lExtRelX},Mk=(e,t,r,n)=>{const i=e.children[t],o=i.rExt,a=e.children[t-1];o.rThr=r;const s=n-r.relX-i.rExtRelX;o.relX+=s,o.prelim-=s,i.rExt=a.rExt,i.rExtRelX=a.rExtRelX},Ck=e=>{if(e.hasChildren){const t=e.firstChild,r=e.lastChild,n=(t.prelim+t.relX-t.xSize/2+r.relX+r.prelim+r.xSize/2)/2;Object.assign(e,{prelim:n,lExt:t.lExt,lExtRelX:t.lExtRelX,rExt:r.rExt,rExtRelX:r.rExtRelX})}},Tk=(e,t,r)=>{for(;r!==null&&e>=r.lowY;)r=r.next;return{lowY:e,index:t,next:r}};/*! markmap-common v0.1.6 | MIT License */class v1{constructor(){this.listeners=[]}tap(t){return this.listeners.push(t),()=>this.revoke(t)}revoke(t){const r=this.listeners.indexOf(t);r>=0&&this.listeners.splice(r,1)}revokeAll(){this.listeners.splice(0)}call(...t){for(const r of this.listeners)r(...t)}}function ta(){return ta=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ta.apply(this,arguments)}const Ek=Math.random().toString(36).slice(2,8);let g1=0;function Ok(){return g1+=1,`mm-${Ek}-${g1}`}function Gu(){}function Wu(e,t,r="c"){const n=(i,o)=>t(i,()=>{var a;(a=i[r])==null||a.forEach(s=>{n(s,i)})},o);n(e)}function y1(e){if(Array.from)return Array.from(e);const t=[];for(let r=0;r<e.length;r+=1)t.push(e[r]);return t}function b1(e,...t){const r=(e||"").split(" ").filter(Boolean);return t.forEach(n=>{n&&r.indexOf(n)<0&&r.push(n)}),r.join(" ")}function no(e){if(typeof e=="string"){const r=e;e=n=>n.tagName===r}const t=e;return function(){let n=y1(this.childNodes);return t&&(n=n.filter(i=>t(i))),n}}function _k(e){const t={};return function(...n){const i=`${n[0]}`;let o=t[i];return o||(o={value:e(...n)},t[i]=o),o.value}}function Hs(e,t,r){const n=document.createElement(e);return t&&Object.entries(t).forEach(([i,o])=>{n[i]=o}),r&&Object.entries(r).forEach(([i,o])=>{n.setAttribute(i,o)}),n}const Nk=_k(e=>{document.head.append(Hs("link",{rel:"preload",as:"script",href:e}))});function Dk(e,t){if(e.type==="script")return new Promise((r,n)=>{var i;document.head.append(Hs("script",ta({},e.data,{onload:r,onerror:n}))),(i=e.data)!=null&&i.src||r()});if(e.type==="iife"){const{fn:r,getParams:n}=e.data;r(...(n==null?void 0:n(t))||[])}}function zk(e){e.type==="style"?document.head.append(Hs("style",{textContent:e.data})):e.type==="stylesheet"&&document.head.append(Hs("link",ta({rel:"stylesheet"},e.data)))}async function Bk(e,t){const r=e.filter(n=>{var i;return n.type==="script"&&((i=n.data)==null?void 0:i.src)});r.length>1&&r.forEach(n=>Nk(n.data.src)),t=ta({getMarkmap:()=>window.markmap},t);for(const n of e)await Dk(n,t)}function Rk(e){for(const t of e)zk(t)}function Uu(e){const t=e.data;return Math.max(6-2*t.d,1.5)}function Ik(e,t){Wu(e,(r,n)=>{r.ySizeInner=r.ySize-t,r.y+=t,n()},"children")}function x1(e,t){const r=nb(e,t);return e[r]}function w1(e){e.stopPropagation()}function Fk(){return{transformHtml:new v1}}const k1=new v1;class ra{constructor(t,r){this.revokers=[],["handleZoom","handleClick"].forEach(n=>{this[n]=this[n].bind(this)}),this.viewHooks=Fk(),this.svg=t.datum?t:jn(t),this.styleNode=this.svg.append("style"),this.zoom=Lw().on("zoom",this.handleZoom),this.options=di({},ra.defaultOptions,r),this.state={id:this.options.id||Ok()},this.g=this.svg.append("g").attr("class",`${this.state.id}-g`),this.updateStyle(),this.svg.call(this.zoom),this.revokers.push(k1.tap(()=>{this.setData()}))}getStyleContent(){const{style:t,nodeFont:r}=this.options,{id:n}=this.state,i=typeof t=="function"?t(n):"";return`.${n} { line-height: 1; }
.${n} a { color: #0097e6; }
.${n} a:hover { color: #00a8ff; }
.${n}-g > path { fill: none; }
.${n}-g > g > circle { cursor: pointer; }
.${n}-fo > div { display: inline-block; font: ${r}; white-space: nowrap; }
.${n}-fo code { font-size: calc(1em - 2px); color: #555; background-color: #f0f0f0; border-radius: 2px; }
.${n}-fo :not(pre) > code { padding: .2em .4em; }
.${n}-fo del { text-decoration: line-through; }
.${n}-fo em { font-style: italic; }
.${n}-fo strong { font-weight: bolder; }
.${n}-fo pre { margin: 0; padding: .2em .4em; }
${i}
`}updateStyle(){this.svg.attr("class",b1(this.svg.attr("class"),this.state.id)),this.styleNode.text(this.getStyleContent())}handleZoom(t){const{transform:r}=t;this.g.attr("transform",r)}handleClick(t,r){var n;const{data:i}=r;i.p=di({},i.p,{f:!((n=i.p)!=null&&n.f)}),this.renderData(r.data)}initializeData(t){let r=0;const{nodeFont:n,color:i,nodeMinHeight:o}=this.options,{id:a}=this.state,s=document.createElement("div"),u=`${a}-container`;s.className=b1(s.className,`${a}-fo`,u);const h=document.createElement("style");h.textContent=`
${this.getStyleContent()}
.${u} {
  position: absolute;
  width: 0;
  height: 0;
  top: -100px;
  left: -100px;
  overflow: hidden;
  font: ${n};
}
.${u} > div {
  display: inline-block;
}
`,document.body.append(h,s),Wu(t,(m,y)=>{var k;m.c=(k=m.c)==null?void 0:k.map(C=>di({},C)),r+=1;const A=document.createElement("div");A.innerHTML=m.v,s.append(A),m.p=di({},m.p,{i:r,el:A}),i(m),y()});const d=y1(s.childNodes);this.viewHooks.transformHtml.call(this,d),Wu(t,(m,y,k)=>{var A;const C=m.p.el.getBoundingClientRect();m.v=m.p.el.innerHTML,m.p.s=[Math.ceil(C.width),Math.max(Math.ceil(C.height),o)],m.p.k=`${(k==null||(A=k.p)==null?void 0:A.i)||""}.${m.p.i}:${m.v}`,y()}),s.remove(),h.remove()}setOptions(t){Object.assign(this.options,t)}setData(t,r){t&&(this.state.data=t),this.initializeData(this.state.data),r&&this.setOptions(r),this.renderData()}renderData(t){var r,n;if(!this.state.data)return;const{spacingHorizontal:i,paddingX:o,spacingVertical:a,autoFit:s,color:u}=this.options,{id:h}=this.state,d=p1().children(B=>{var U;return!((U=B.p)!=null&&U.f)&&B.c}).nodeSize(B=>{const[U,W]=B.data.p.s;return[W,U+(U?o*2:0)+i]}).spacing((B,U)=>B.parent===U.parent?a:a*2),m=d.hierarchy(this.state.data);d(m),Ik(m,i);const y=m.descendants().reverse(),k=m.links(),A=Dw(),C=ym(y,B=>B.x-B.xSize/2),D=gm(y,B=>B.x+B.xSize/2),N=ym(y,B=>B.y),T=gm(y,B=>B.y+B.ySizeInner);Object.assign(this.state,{minX:C,maxX:D,minY:N,maxY:T}),s&&this.fit();const I=t&&y.find(B=>B.data===t)||m,O=(r=I.data.p.x0)!=null?r:I.x,H=(n=I.data.p.y0)!=null?n:I.y,L=this.g.selectAll(no("g")).data(y,B=>B.data.p.k),G=L.enter().append("g").attr("transform",B=>`translate(${H+I.ySizeInner-B.ySizeInner},${O+I.xSize/2-B.xSize})`),Z=this.transition(L.exit());Z.select("rect").attr("width",0).attr("x",B=>B.ySizeInner),Z.select("foreignObject").style("opacity",0),Z.attr("transform",B=>`translate(${I.y+I.ySizeInner-B.ySizeInner},${I.x+I.xSize/2-B.xSize})`).remove();const K=L.merge(G);this.transition(K).attr("transform",B=>`translate(${B.y},${B.x-B.xSize/2})`);const oe=K.selectAll(no("rect")).data(B=>[B],B=>B.data.p.k).join(B=>B.append("rect").attr("x",U=>U.ySizeInner).attr("y",U=>U.xSize-Uu(U)/2).attr("width",0).attr("height",Uu),B=>B,B=>B.remove());this.transition(oe).attr("x",-1).attr("width",B=>B.ySizeInner+2).attr("fill",B=>u(B.data));const he=K.selectAll(no("circle")).data(B=>B.data.c?[B]:[],B=>B.data.p.k).join(B=>B.append("circle").attr("stroke-width","1.5").attr("cx",U=>U.ySizeInner).attr("cy",U=>U.xSize).attr("r",0).on("click",this.handleClick),B=>B,B=>B.remove());this.transition(he).attr("r",6).attr("stroke",B=>u(B.data)).attr("fill",B=>{var U;return(U=B.data.p)!=null&&U.f&&B.data.c?u(B.data):"#fff"});const me=K.selectAll(no("foreignObject")).data(B=>[B],B=>B.data.p.k).join(B=>{const U=B.append("foreignObject").attr("class",`${h}-fo`).attr("x",o).attr("y",0).style("opacity",0).attr("height",W=>W.xSize).on("mousedown",w1).on("dblclick",w1);return U.append("xhtml:div").select(function(ce){const ae=ce.data.p.el.cloneNode(!0);return this.replaceWith(ae),ae}).attr("xmlns","http://www.w3.org/1999/xhtml"),U},B=>B,B=>B.remove()).attr("width",B=>Math.max(0,B.ySizeInner-o*2));this.transition(me).style("opacity",1);const ge=this.g.selectAll(no("path")).data(k,B=>B.target.data.p.k).join(B=>{const U=[H+I.ySizeInner,O+I.xSize/2];return B.insert("path","g").attr("d",A({source:U,target:U}))},B=>B,B=>{const U=[I.y+I.ySizeInner,I.x+I.xSize/2];return this.transition(B).attr("d",A({source:U,target:U})).remove()});this.transition(ge).attr("stroke",B=>u(B.target.data)).attr("stroke-width",B=>Uu(B.target)).attr("d",B=>{const U=[B.source.y+B.source.ySizeInner,B.source.x+B.source.xSize/2],W=[B.target.y,B.target.x+B.target.xSize/2];return A({source:U,target:W})}),y.forEach(B=>{B.data.p.x0=B.x,B.data.p.y0=B.y})}transition(t){const{duration:r}=this.options;return t.transition().duration(r)}async fit(){const t=this.svg.node(),{width:r,height:n}=t.getBoundingClientRect(),{fitRatio:i}=this.options,{minX:o,maxX:a,minY:s,maxY:u}=this.state,h=u-s,d=a-o,m=Math.min(r/h*i,n/d*i,2),y=Ls.translate((r-h*m)/2-s*m,(n-d*m)/2-o*m).scale(m);return this.transition(this.svg).call(this.zoom.transform,y).end().catch(Gu)}async ensureView(t,r){let n,i;if(this.g.selectAll(no("g")).each(function(T){T.data===t&&(n=this,i=T)}),!n||!i)return;const o=this.svg.node(),a=o.getBoundingClientRect(),s=Hu(o),[u,h]=[i.y,i.y+i.ySizeInner+2].map(N=>N*s.k+s.x),[d,m]=[i.x-i.xSize/2,i.x+i.xSize/2].map(N=>N*s.k+s.y),y=di({left:0,right:0,top:0,bottom:0},r),k=[y.left-u,a.width-y.right-h],A=[y.top-d,a.height-y.bottom-m],C=k[0]*k[1]>0?x1(k,Math.abs)/s.k:0,D=A[0]*A[1]>0?x1(A,Math.abs)/s.k:0;if(C||D){const N=s.translate(C,D);return this.transition(this.svg).call(this.zoom.transform,N).end().catch(Gu)}}async rescale(t){const r=this.svg.node(),{width:n,height:i}=r.getBoundingClientRect(),o=n/2,a=i/2,s=Hu(r),u=s.translate((o-s.x)*(1-t)/s.k,(a-s.y)*(1-t)/s.k).scale(t);return this.transition(this.svg).call(this.zoom.transform,u).end().catch(Gu)}destroy(){this.svg.remove(),this.revokers.forEach(t=>{t()})}static create(t,r,n){const i=new ra(t,r);return n&&(i.setData(n),i.fit()),i}}ra.defaultOptions={duration:500,nodeFont:"300 16px/20px sans-serif",nodeMinHeight:16,spacingVertical:5,spacingHorizontal:80,autoFit:!1,fitRatio:.95,color:(e=>t=>e(t.p.i))(u1(Aw)),paddingX:8};var Pk=Object.freeze(Object.defineProperty({__proto__:null,Markmap:ra,loadCSS:Rk,loadJS:Bk,refreshHook:k1},Symbol.toStringTag,{value:"Module"}));function na(){return na=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},na.apply(this,arguments)}/*! markmap-common v0.1.6 | MIT License */class js{constructor(){this.listeners=[]}tap(t){return this.listeners.push(t),()=>this.revoke(t)}revoke(t){const r=this.listeners.indexOf(t);r>=0&&this.listeners.splice(r,1)}revokeAll(){this.listeners.splice(0)}call(...t){for(const r of this.listeners)r(...t)}}Math.random().toString(36).slice(2,8);function Ku(e,{before:t,after:r}){return function(...i){const o={args:i,thisObj:this};try{t&&t(o)}catch{}o.result=e.apply(o.thisObj,o.args);try{r&&r(o)}catch{}return o.result}}var Vs;function S1(e){return Vs=Vs||document.createElement("textarea"),Vs.innerHTML="&"+e+";",Vs.value}var Lk=Object.prototype.hasOwnProperty;function qk(e,t){return e?Lk.call(e,t):!1}function A1(e){var t=[].slice.call(arguments,1);return t.forEach(function(r){if(!!r){if(typeof r!="object")throw new TypeError(r+"must be object");Object.keys(r).forEach(function(n){e[n]=r[n]})}}),e}var Hk=/\\([\\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function ia(e){return e.indexOf("\\")<0?e:e.replace(Hk,"$1")}function M1(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function Ju(e){if(e>65535){e-=65536;var t=55296+(e>>10),r=56320+(e&1023);return String.fromCharCode(t,r)}return String.fromCharCode(e)}var jk=/&([a-z#][a-z0-9]{1,31});/gi,Vk=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))/i;function $k(e,t){var r=0,n=S1(t);return t!==n?n:t.charCodeAt(0)===35&&Vk.test(t)&&(r=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10),M1(r))?Ju(r):e}function mi(e){return e.indexOf("&")<0?e:e.replace(jk,$k)}var Gk=/[&<>"]/,Wk=/[&<>"]/g,Uk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function Kk(e){return Uk[e]}function Qt(e){return Gk.test(e)?e.replace(Wk,Kk):e}var ye={};ye.blockquote_open=function(){return`<blockquote>
`};ye.blockquote_close=function(e,t){return"</blockquote>"+vi(e,t)};ye.code=function(e,t){return e[t].block?"<pre><code>"+Qt(e[t].content)+"</code></pre>"+vi(e,t):"<code>"+Qt(e[t].content)+"</code>"};ye.fence=function(e,t,r,n,i){var o=e[t],a="",s=r.langPrefix,u="",h,d,m;if(o.params){if(h=o.params.split(/\s+/g),d=h.join(" "),qk(i.rules.fence_custom,h[0]))return i.rules.fence_custom[h[0]](e,t,r,n,i);u=Qt(mi(ia(d))),a=' class="'+s+u+'"'}return r.highlight?m=r.highlight.apply(r.highlight,[o.content].concat(h))||Qt(o.content):m=Qt(o.content),"<pre><code"+a+">"+m+"</code></pre>"+vi(e,t)};ye.fence_custom={};ye.heading_open=function(e,t){return"<h"+e[t].hLevel+">"};ye.heading_close=function(e,t){return"</h"+e[t].hLevel+`>
`};ye.hr=function(e,t,r){return(r.xhtmlOut?"<hr />":"<hr>")+vi(e,t)};ye.bullet_list_open=function(){return`<ul>
`};ye.bullet_list_close=function(e,t){return"</ul>"+vi(e,t)};ye.list_item_open=function(){return"<li>"};ye.list_item_close=function(){return`</li>
`};ye.ordered_list_open=function(e,t){var r=e[t],n=r.order>1?' start="'+r.order+'"':"";return"<ol"+n+`>
`};ye.ordered_list_close=function(e,t){return"</ol>"+vi(e,t)};ye.paragraph_open=function(e,t){return e[t].tight?"":"<p>"};ye.paragraph_close=function(e,t){var r=!(e[t].tight&&t&&e[t-1].type==="inline"&&!e[t-1].content);return(e[t].tight?"":"</p>")+(r?vi(e,t):"")};ye.link_open=function(e,t,r){var n=e[t].title?' title="'+Qt(mi(e[t].title))+'"':"",i=r.linkTarget?' target="'+r.linkTarget+'"':"";return'<a href="'+Qt(e[t].href)+'"'+n+i+">"};ye.link_close=function(){return"</a>"};ye.image=function(e,t,r){var n=' src="'+Qt(e[t].src)+'"',i=e[t].title?' title="'+Qt(mi(e[t].title))+'"':"",o=' alt="'+(e[t].alt?Qt(mi(ia(e[t].alt))):"")+'"',a=r.xhtmlOut?" /":"";return"<img"+n+o+i+a+">"};ye.table_open=function(){return`<table>
`};ye.table_close=function(){return`</table>
`};ye.thead_open=function(){return`<thead>
`};ye.thead_close=function(){return`</thead>
`};ye.tbody_open=function(){return`<tbody>
`};ye.tbody_close=function(){return`</tbody>
`};ye.tr_open=function(){return"<tr>"};ye.tr_close=function(){return`</tr>
`};ye.th_open=function(e,t){var r=e[t];return"<th"+(r.align?' style="text-align:'+r.align+'"':"")+">"};ye.th_close=function(){return"</th>"};ye.td_open=function(e,t){var r=e[t];return"<td"+(r.align?' style="text-align:'+r.align+'"':"")+">"};ye.td_close=function(){return"</td>"};ye.strong_open=function(){return"<strong>"};ye.strong_close=function(){return"</strong>"};ye.em_open=function(){return"<em>"};ye.em_close=function(){return"</em>"};ye.del_open=function(){return"<del>"};ye.del_close=function(){return"</del>"};ye.ins_open=function(){return"<ins>"};ye.ins_close=function(){return"</ins>"};ye.mark_open=function(){return"<mark>"};ye.mark_close=function(){return"</mark>"};ye.sub=function(e,t){return"<sub>"+Qt(e[t].content)+"</sub>"};ye.sup=function(e,t){return"<sup>"+Qt(e[t].content)+"</sup>"};ye.hardbreak=function(e,t,r){return r.xhtmlOut?`<br />
`:`<br>
`};ye.softbreak=function(e,t,r){return r.breaks?r.xhtmlOut?`<br />
`:`<br>
`:`
`};ye.text=function(e,t){return Qt(e[t].content)};ye.htmlblock=function(e,t){return e[t].content};ye.htmltag=function(e,t){return e[t].content};ye.abbr_open=function(e,t){return'<abbr title="'+Qt(mi(e[t].title))+'">'};ye.abbr_close=function(){return"</abbr>"};ye.footnote_ref=function(e,t){var r=Number(e[t].id+1).toString(),n="fnref"+r;return e[t].subId>0&&(n+=":"+e[t].subId),'<sup class="footnote-ref"><a href="#fn'+r+'" id="'+n+'">['+r+"]</a></sup>"};ye.footnote_block_open=function(e,t,r){var n=r.xhtmlOut?`<hr class="footnotes-sep" />
`:`<hr class="footnotes-sep">
`;return n+`<section class="footnotes">
<ol class="footnotes-list">
`};ye.footnote_block_close=function(){return`</ol>
</section>
`};ye.footnote_open=function(e,t){var r=Number(e[t].id+1).toString();return'<li id="fn'+r+'"  class="footnote-item">'};ye.footnote_close=function(){return`</li>
`};ye.footnote_anchor=function(e,t){var r=Number(e[t].id+1).toString(),n="fnref"+r;return e[t].subId>0&&(n+=":"+e[t].subId),' <a href="#'+n+'" class="footnote-backref">\u21A9</a>'};ye.dl_open=function(){return`<dl>
`};ye.dt_open=function(){return"<dt>"};ye.dd_open=function(){return"<dd>"};ye.dl_close=function(){return`</dl>
`};ye.dt_close=function(){return`</dt>
`};ye.dd_close=function(){return`</dd>
`};function C1(e,t){return++t>=e.length-2?t:e[t].type==="paragraph_open"&&e[t].tight&&e[t+1].type==="inline"&&e[t+1].content.length===0&&e[t+2].type==="paragraph_close"&&e[t+2].tight?C1(e,t+2):t}var vi=ye.getBreak=function(t,r){return r=C1(t,r),r<t.length&&t[r].type==="list_item_close"?"":`
`};function Xu(){this.rules=A1({},ye),this.getBreak=ye.getBreak}Xu.prototype.renderInline=function(e,t,r){for(var n=this.rules,i=e.length,o=0,a="";i--;)a+=n[e[o].type](e,o++,t,r,this);return a};Xu.prototype.render=function(e,t,r){for(var n=this.rules,i=e.length,o=-1,a="";++o<i;)e[o].type==="inline"?a+=this.renderInline(e[o].children,t,r):a+=n[e[o].type](e,o,t,r,this);return a};function fr(){this.__rules__=[],this.__cache__=null}fr.prototype.__find__=function(e){for(var t=this.__rules__.length,r=-1;t--;)if(this.__rules__[++r].name===e)return r;return-1};fr.prototype.__compile__=function(){var e=this,t=[""];e.__rules__.forEach(function(r){!r.enabled||r.alt.forEach(function(n){t.indexOf(n)<0&&t.push(n)})}),e.__cache__={},t.forEach(function(r){e.__cache__[r]=[],e.__rules__.forEach(function(n){!n.enabled||r&&n.alt.indexOf(r)<0||e.__cache__[r].push(n.fn)})})};fr.prototype.at=function(e,t,r){var n=this.__find__(e),i=r||{};if(n===-1)throw new Error("Parser rule not found: "+e);this.__rules__[n].fn=t,this.__rules__[n].alt=i.alt||[],this.__cache__=null};fr.prototype.before=function(e,t,r,n){var i=this.__find__(e),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i,0,{name:t,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};fr.prototype.after=function(e,t,r,n){var i=this.__find__(e),o=n||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(i+1,0,{name:t,enabled:!0,fn:r,alt:o.alt||[]}),this.__cache__=null};fr.prototype.push=function(e,t,r){var n=r||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:n.alt||[]}),this.__cache__=null};fr.prototype.enable=function(e,t){e=Array.isArray(e)?e:[e],t&&this.__rules__.forEach(function(r){r.enabled=!1}),e.forEach(function(r){var n=this.__find__(r);if(n<0)throw new Error("Rules manager: invalid rule name "+r);this.__rules__[n].enabled=!0},this),this.__cache__=null};fr.prototype.disable=function(e){e=Array.isArray(e)?e:[e],e.forEach(function(t){var r=this.__find__(t);if(r<0)throw new Error("Rules manager: invalid rule name "+t);this.__rules__[r].enabled=!1},this),this.__cache__=null};fr.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function Jk(e){e.inlineMode?e.tokens.push({type:"inline",content:e.src.replace(/\n/g," ").trim(),level:0,lines:[0,1],children:[]}):e.block.parse(e.src,e.options,e.env,e.tokens)}function gi(e,t,r,n,i){this.src=e,this.env=n,this.options=r,this.parser=t,this.tokens=i,this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache=[],this.isInLabel=!1,this.linkLevel=0,this.linkContent="",this.labelUnmatchedScopes=0}gi.prototype.pushPending=function(){this.tokens.push({type:"text",content:this.pending,level:this.pendingLevel}),this.pending=""};gi.prototype.push=function(e){this.pending&&this.pushPending(),this.tokens.push(e),this.pendingLevel=this.level};gi.prototype.cacheSet=function(e,t){for(var r=this.cache.length;r<=e;r++)this.cache.push(0);this.cache[e]=t};gi.prototype.cacheGet=function(e){return e<this.cache.length?this.cache[e]:0};function oa(e,t){var r,n,i,o=-1,a=e.posMax,s=e.pos,u=e.isInLabel;if(e.isInLabel)return-1;if(e.labelUnmatchedScopes)return e.labelUnmatchedScopes--,-1;for(e.pos=t+1,e.isInLabel=!0,r=1;e.pos<a;){if(i=e.src.charCodeAt(e.pos),i===91)r++;else if(i===93&&(r--,r===0)){n=!0;break}e.parser.skipToken(e)}return n?(o=e.pos,e.labelUnmatchedScopes=0):e.labelUnmatchedScopes=r-1,e.pos=s,e.isInLabel=u,o}function Xk(e,t,r,n){var i,o,a,s,u,h;if(e.charCodeAt(0)!==42||e.charCodeAt(1)!==91||e.indexOf("]:")===-1||(i=new gi(e,t,r,n,[]),o=oa(i,1),o<0||e.charCodeAt(o+1)!==58))return-1;for(s=i.posMax,a=o+2;a<s&&i.src.charCodeAt(a)!==10;a++);return u=e.slice(2,o),h=e.slice(o+2,a).trim(),h.length===0?-1:(n.abbreviations||(n.abbreviations={}),typeof n.abbreviations[":"+u]=="undefined"&&(n.abbreviations[":"+u]=h),a)}function Yk(e){var t=e.tokens,r,n,i,o;if(!e.inlineMode){for(r=1,n=t.length-1;r<n;r++)if(t[r-1].type==="paragraph_open"&&t[r].type==="inline"&&t[r+1].type==="paragraph_close"){for(i=t[r].content;i.length&&(o=Xk(i,e.inline,e.options,e.env),!(o<0));)i=i.slice(o).trim();t[r].content=i,i.length||(t[r-1].tight=!0,t[r+1].tight=!0)}}}function Yu(e){var t=mi(e);try{t=decodeURI(t)}catch{}return encodeURI(t)}function T1(e,t){var r,n,i,o=t,a=e.posMax;if(e.src.charCodeAt(t)===60){for(t++;t<a;){if(r=e.src.charCodeAt(t),r===10)return!1;if(r===62)return i=Yu(ia(e.src.slice(o+1,t))),e.parser.validateLink(i)?(e.pos=t+1,e.linkContent=i,!0):!1;if(r===92&&t+1<a){t+=2;continue}t++}return!1}for(n=0;t<a&&(r=e.src.charCodeAt(t),!(r===32||r<32||r===127));){if(r===92&&t+1<a){t+=2;continue}if(r===40&&(n++,n>1)||r===41&&(n--,n<0))break;t++}return o===t||(i=ia(e.src.slice(o,t)),!e.parser.validateLink(i))?!1:(e.linkContent=i,e.pos=t,!0)}function E1(e,t){var r,n=t,i=e.posMax,o=e.src.charCodeAt(t);if(o!==34&&o!==39&&o!==40)return!1;for(t++,o===40&&(o=41);t<i;){if(r=e.src.charCodeAt(t),r===o)return e.pos=t+1,e.linkContent=ia(e.src.slice(n+1,t)),!0;if(r===92&&t+1<i){t+=2;continue}t++}return!1}function O1(e){return e.trim().replace(/\s+/g," ").toUpperCase()}function Zk(e,t,r,n){var i,o,a,s,u,h,d,m,y;if(e.charCodeAt(0)!==91||e.indexOf("]:")===-1||(i=new gi(e,t,r,n,[]),o=oa(i,0),o<0||e.charCodeAt(o+1)!==58))return-1;for(s=i.posMax,a=o+2;a<s&&(u=i.src.charCodeAt(a),!(u!==32&&u!==10));a++);if(!T1(i,a))return-1;for(d=i.linkContent,a=i.pos,h=a,a=a+1;a<s&&(u=i.src.charCodeAt(a),!(u!==32&&u!==10));a++);for(a<s&&h!==a&&E1(i,a)?(m=i.linkContent,a=i.pos):(m="",a=h);a<s&&i.src.charCodeAt(a)===32;)a++;return a<s&&i.src.charCodeAt(a)!==10?-1:(y=O1(e.slice(1,o)),typeof n.references[y]=="undefined"&&(n.references[y]={title:m,href:d}),a)}function Qk(e){var t=e.tokens,r,n,i,o;if(e.env.references=e.env.references||{},!e.inlineMode){for(r=1,n=t.length-1;r<n;r++)if(t[r].type==="inline"&&t[r-1].type==="paragraph_open"&&t[r+1].type==="paragraph_close"){for(i=t[r].content;i.length&&(o=Zk(i,e.inline,e.options,e.env),!(o<0));)i=i.slice(o).trim();t[r].content=i,i.length||(t[r-1].tight=!0,t[r+1].tight=!0)}}}function eS(e){var t=e.tokens,r,n,i;for(n=0,i=t.length;n<i;n++)r=t[n],r.type==="inline"&&e.inline.parse(r.content,e.options,e.env,r.children)}function tS(e){var t,r,n,i,o,a,s,u,h,d=0,m=!1,y={};if(!!e.env.footnotes&&(e.tokens=e.tokens.filter(function(k){return k.type==="footnote_reference_open"?(m=!0,u=[],h=k.label,!1):k.type==="footnote_reference_close"?(m=!1,y[":"+h]=u,!1):(m&&u.push(k),!m)}),!!e.env.footnotes.list)){for(a=e.env.footnotes.list,e.tokens.push({type:"footnote_block_open",level:d++}),t=0,r=a.length;t<r;t++){for(e.tokens.push({type:"footnote_open",id:t,level:d++}),a[t].tokens?(s=[],s.push({type:"paragraph_open",tight:!1,level:d++}),s.push({type:"inline",content:"",level:d,children:a[t].tokens}),s.push({type:"paragraph_close",tight:!1,level:--d})):a[t].label&&(s=y[":"+a[t].label]),e.tokens=e.tokens.concat(s),e.tokens[e.tokens.length-1].type==="paragraph_close"?o=e.tokens.pop():o=null,i=a[t].count>0?a[t].count:1,n=0;n<i;n++)e.tokens.push({type:"footnote_anchor",id:t,subId:n,level:d});o&&e.tokens.push(o),e.tokens.push({type:"footnote_close",level:--d})}e.tokens.push({type:"footnote_block_close",level:--d})}}var _1=` 
()[]'".,!?-`;function Zu(e){return e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function rS(e){var t,r,n,i,o,a,s,u,h,d,m,y,k=e.tokens;if(!!e.env.abbreviations){for(e.env.abbrRegExp||(y="(^|["+_1.split("").map(Zu).join("")+"])("+Object.keys(e.env.abbreviations).map(function(A){return A.substr(1)}).sort(function(A,C){return C.length-A.length}).map(Zu).join("|")+")($|["+_1.split("").map(Zu).join("")+"])",e.env.abbrRegExp=new RegExp(y,"g")),d=e.env.abbrRegExp,r=0,n=k.length;r<n;r++)if(k[r].type==="inline"){for(i=k[r].children,t=i.length-1;t>=0;t--)if(o=i[t],o.type==="text"){for(u=0,a=o.content,d.lastIndex=0,h=o.level,s=[];m=d.exec(a);)d.lastIndex>u&&s.push({type:"text",content:a.slice(u,m.index+m[1].length),level:h}),s.push({type:"abbr_open",title:e.env.abbreviations[":"+m[2]],level:h++}),s.push({type:"text",content:m[2],level:h}),s.push({type:"abbr_close",level:--h}),u=d.lastIndex-m[3].length;!s.length||(u<a.length&&s.push({type:"text",content:a.slice(u),level:h}),k[r].children=i=[].concat(i.slice(0,t),s,i.slice(t+1)))}}}}var nS=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,iS=/\((c|tm|r|p)\)/ig,oS={c:"\xA9",r:"\xAE",p:"\xA7",tm:"\u2122"};function aS(e){return e.indexOf("(")<0?e:e.replace(iS,function(t,r){return oS[r.toLowerCase()]})}function sS(e){var t,r,n,i,o;if(!!e.options.typographer){for(o=e.tokens.length-1;o>=0;o--)if(e.tokens[o].type==="inline")for(i=e.tokens[o].children,t=i.length-1;t>=0;t--)r=i[t],r.type==="text"&&(n=r.content,n=aS(n),nS.test(n)&&(n=n.replace(/\+-/g,"\xB1").replace(/\.{2,}/g,"\u2026").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---([^-]|$)/mg,"$1\u2014$2").replace(/(^|\s)--(\s|$)/mg,"$1\u2013$2").replace(/(^|[^-\s])--([^-\s]|$)/mg,"$1\u2013$2")),r.content=n)}}var lS=/['"]/,N1=/['"]/g,uS=/[-\s()\[\]]/,D1="\u2019";function z1(e,t){return t<0||t>=e.length?!1:!uS.test(e[t])}function io(e,t,r){return e.substr(0,t)+r+e.substr(t+1)}function cS(e){var t,r,n,i,o,a,s,u,h,d,m,y,k,A,C,D,N;if(!!e.options.typographer){for(N=[],C=e.tokens.length-1;C>=0;C--)if(e.tokens[C].type==="inline")for(D=e.tokens[C].children,N.length=0,t=0;t<D.length;t++){if(r=D[t],r.type!=="text"||lS.test(r.text))continue;for(s=D[t].level,k=N.length-1;k>=0&&!(N[k].level<=s);k--);N.length=k+1,n=r.content,o=0,a=n.length;e:for(;o<a&&(N1.lastIndex=o,i=N1.exec(n),!!i);){if(u=!z1(n,i.index-1),o=i.index+1,A=i[0]==="'",h=!z1(n,o),!h&&!u){A&&(r.content=io(r.content,i.index,D1));continue}if(m=!h,y=!u,y){for(k=N.length-1;k>=0&&(d=N[k],!(N[k].level<s));k--)if(d.single===A&&N[k].level===s){d=N[k],A?(D[d.token].content=io(D[d.token].content,d.pos,e.options.quotes[2]),r.content=io(r.content,i.index,e.options.quotes[3])):(D[d.token].content=io(D[d.token].content,d.pos,e.options.quotes[0]),r.content=io(r.content,i.index,e.options.quotes[1])),N.length=k;continue e}}m?N.push({token:t,pos:i.index,single:A,level:s}):y&&A&&(r.content=io(r.content,i.index,D1))}}}}var Qu=[["block",Jk],["abbr",Yk],["references",Qk],["inline",eS],["footnote_tail",tS],["abbr2",rS],["replacements",sS],["smartquotes",cS]];function B1(){this.options={},this.ruler=new fr;for(var e=0;e<Qu.length;e++)this.ruler.push(Qu[e][0],Qu[e][1])}B1.prototype.process=function(e){var t,r,n;for(n=this.ruler.getRules(""),t=0,r=n.length;t<r;t++)n[t](e)};function yi(e,t,r,n,i){var o,a,s,u,h,d,m;for(this.src=e,this.parser=t,this.options=r,this.env=n,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.parentType="root",this.ddIndent=-1,this.level=0,this.result="",a=this.src,d=0,m=!1,s=u=d=0,h=a.length;u<h;u++){if(o=a.charCodeAt(u),!m)if(o===32){d++;continue}else m=!0;(o===10||u===h-1)&&(o!==10&&u++,this.bMarks.push(s),this.eMarks.push(u),this.tShift.push(d),m=!1,d=0,s=u+1)}this.bMarks.push(a.length),this.eMarks.push(a.length),this.tShift.push(0),this.lineMax=this.bMarks.length-1}yi.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};yi.prototype.skipEmptyLines=function(t){for(var r=this.lineMax;t<r&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};yi.prototype.skipSpaces=function(t){for(var r=this.src.length;t<r&&this.src.charCodeAt(t)===32;t++);return t};yi.prototype.skipChars=function(t,r){for(var n=this.src.length;t<n&&this.src.charCodeAt(t)===r;t++);return t};yi.prototype.skipCharsBack=function(t,r,n){if(t<=n)return t;for(;t>n;)if(r!==this.src.charCodeAt(--t))return t+1;return t};yi.prototype.getLines=function(t,r,n,i){var o,a,s,u,h,d=t;if(t>=r)return"";if(d+1===r)return a=this.bMarks[d]+Math.min(this.tShift[d],n),s=i?this.eMarks[d]+1:this.eMarks[d],this.src.slice(a,s);for(u=new Array(r-t),o=0;d<r;d++,o++)h=this.tShift[d],h>n&&(h=n),h<0&&(h=0),a=this.bMarks[d]+h,d+1<r||i?s=this.eMarks[d]+1:s=this.eMarks[d],u[o]=this.src.slice(a,s);return u.join("")};function fS(e,t,r){var n,i;if(e.tShift[t]-e.blkIndent<4)return!1;for(i=n=t+1;n<r;){if(e.isEmpty(n)){n++;continue}if(e.tShift[n]-e.blkIndent>=4){n++,i=n;continue}break}return e.line=n,e.tokens.push({type:"code",content:e.getLines(t,i,4+e.blkIndent,!0),block:!0,lines:[t,e.line],level:e.level}),!0}function hS(e,t,r,n){var i,o,a,s,u,h=!1,d=e.bMarks[t]+e.tShift[t],m=e.eMarks[t];if(d+3>m||(i=e.src.charCodeAt(d),i!==126&&i!==96)||(u=d,d=e.skipChars(d,i),o=d-u,o<3)||(a=e.src.slice(d,m).trim(),a.indexOf("`")>=0))return!1;if(n)return!0;for(s=t;s++,!(s>=r||(d=u=e.bMarks[s]+e.tShift[s],m=e.eMarks[s],d<m&&e.tShift[s]<e.blkIndent));)if(e.src.charCodeAt(d)===i&&!(e.tShift[s]-e.blkIndent>=4)&&(d=e.skipChars(d,i),!(d-u<o)&&(d=e.skipSpaces(d),!(d<m)))){h=!0;break}return o=e.tShift[t],e.line=s+(h?1:0),e.tokens.push({type:"fence",params:a,content:e.getLines(t+1,s,o,!0),lines:[t,e.line],level:e.level}),!0}function pS(e,t,r,n){var i,o,a,s,u,h,d,m,y,k,A,C=e.bMarks[t]+e.tShift[t],D=e.eMarks[t];if(C>D||e.src.charCodeAt(C++)!==62||e.level>=e.options.maxNesting)return!1;if(n)return!0;for(e.src.charCodeAt(C)===32&&C++,u=e.blkIndent,e.blkIndent=0,s=[e.bMarks[t]],e.bMarks[t]=C,C=C<D?e.skipSpaces(C):C,o=C>=D,a=[e.tShift[t]],e.tShift[t]=C-e.bMarks[t],m=e.parser.ruler.getRules("blockquote"),i=t+1;i<r&&(C=e.bMarks[i]+e.tShift[i],D=e.eMarks[i],!(C>=D));i++){if(e.src.charCodeAt(C++)===62){e.src.charCodeAt(C)===32&&C++,s.push(e.bMarks[i]),e.bMarks[i]=C,C=C<D?e.skipSpaces(C):C,o=C>=D,a.push(e.tShift[i]),e.tShift[i]=C-e.bMarks[i];continue}if(o)break;for(A=!1,y=0,k=m.length;y<k;y++)if(m[y](e,i,r,!0)){A=!0;break}if(A)break;s.push(e.bMarks[i]),a.push(e.tShift[i]),e.tShift[i]=-1337}for(h=e.parentType,e.parentType="blockquote",e.tokens.push({type:"blockquote_open",lines:d=[t,0],level:e.level++}),e.parser.tokenize(e,t,i),e.tokens.push({type:"blockquote_close",level:--e.level}),e.parentType=h,d[1]=e.line,y=0;y<a.length;y++)e.bMarks[y+t]=s[y],e.tShift[y+t]=a[y];return e.blkIndent=u,!0}function dS(e,t,r,n){var i,o,a,s=e.bMarks[t],u=e.eMarks[t];if(s+=e.tShift[t],s>u||(i=e.src.charCodeAt(s++),i!==42&&i!==45&&i!==95))return!1;for(o=1;s<u;){if(a=e.src.charCodeAt(s++),a!==i&&a!==32)return!1;a===i&&o++}return o<3?!1:(n||(e.line=t+1,e.tokens.push({type:"hr",lines:[t,e.line],level:e.level})),!0)}function R1(e,t){var r,n,i;return n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t],n>=i||(r=e.src.charCodeAt(n++),r!==42&&r!==45&&r!==43)||n<i&&e.src.charCodeAt(n)!==32?-1:n}function I1(e,t){var r,n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];if(n+1>=i||(r=e.src.charCodeAt(n++),r<48||r>57))return-1;for(;;){if(n>=i)return-1;if(r=e.src.charCodeAt(n++),!(r>=48&&r<=57)){if(r===41||r===46)break;return-1}}return n<i&&e.src.charCodeAt(n)!==32?-1:n}function mS(e,t){var r,n,i=e.level+2;for(r=t+2,n=e.tokens.length-2;r<n;r++)e.tokens[r].level===i&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].tight=!0,e.tokens[r].tight=!0,r+=2)}function vS(e,t,r,n){var i,o,a,s,u,h,d,m,y,k,A,C,D,N,T,I,O,H,L=!0,G,Z,K,oe;if((m=I1(e,t))>=0)D=!0;else if((m=R1(e,t))>=0)D=!1;else return!1;if(e.level>=e.options.maxNesting)return!1;if(C=e.src.charCodeAt(m-1),n)return!0;for(T=e.tokens.length,D?(d=e.bMarks[t]+e.tShift[t],A=Number(e.src.substr(d,m-d-1)),e.tokens.push({type:"ordered_list_open",order:A,lines:O=[t,0],level:e.level++})):e.tokens.push({type:"bullet_list_open",lines:O=[t,0],level:e.level++}),i=t,I=!1,G=e.parser.ruler.getRules("list");i<r&&(N=e.skipSpaces(m),y=e.eMarks[i],N>=y?k=1:k=N-m,k>4&&(k=1),k<1&&(k=1),o=m-e.bMarks[i]+k,e.tokens.push({type:"list_item_open",lines:H=[t,0],level:e.level++}),s=e.blkIndent,u=e.tight,a=e.tShift[t],h=e.parentType,e.tShift[t]=N-e.bMarks[t],e.blkIndent=o,e.tight=!0,e.parentType="list",e.parser.tokenize(e,t,r,!0),(!e.tight||I)&&(L=!1),I=e.line-t>1&&e.isEmpty(e.line-1),e.blkIndent=s,e.tShift[t]=a,e.tight=u,e.parentType=h,e.tokens.push({type:"list_item_close",level:--e.level}),i=t=e.line,H[1]=i,N=e.bMarks[t],!(i>=r||e.isEmpty(i)||e.tShift[i]<e.blkIndent));){for(oe=!1,Z=0,K=G.length;Z<K;Z++)if(G[Z](e,i,r,!0)){oe=!0;break}if(oe)break;if(D){if(m=I1(e,i),m<0)break}else if(m=R1(e,i),m<0)break;if(C!==e.src.charCodeAt(m-1))break}return e.tokens.push({type:D?"ordered_list_close":"bullet_list_close",level:--e.level}),O[1]=i,e.line=i,L&&mS(e,T),!0}function gS(e,t,r,n){var i,o,a,s,u,h=e.bMarks[t]+e.tShift[t],d=e.eMarks[t];if(h+4>d||e.src.charCodeAt(h)!==91||e.src.charCodeAt(h+1)!==94||e.level>=e.options.maxNesting)return!1;for(s=h+2;s<d;s++){if(e.src.charCodeAt(s)===32)return!1;if(e.src.charCodeAt(s)===93)break}return s===h+2||s+1>=d||e.src.charCodeAt(++s)!==58?!1:(n||(s++,e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.refs||(e.env.footnotes.refs={}),u=e.src.slice(h+2,s-2),e.env.footnotes.refs[":"+u]=-1,e.tokens.push({type:"footnote_reference_open",label:u,level:e.level++}),i=e.bMarks[t],o=e.tShift[t],a=e.parentType,e.tShift[t]=e.skipSpaces(s)-s,e.bMarks[t]=s,e.blkIndent+=4,e.parentType="footnote",e.tShift[t]<e.blkIndent&&(e.tShift[t]+=e.blkIndent,e.bMarks[t]-=e.blkIndent),e.parser.tokenize(e,t,r,!0),e.parentType=a,e.blkIndent-=4,e.tShift[t]=o,e.bMarks[t]=i,e.tokens.push({type:"footnote_reference_close",level:--e.level})),!0)}function yS(e,t,r,n){var i,o,a,s=e.bMarks[t]+e.tShift[t],u=e.eMarks[t];if(s>=u||(i=e.src.charCodeAt(s),i!==35||s>=u))return!1;for(o=1,i=e.src.charCodeAt(++s);i===35&&s<u&&o<=6;)o++,i=e.src.charCodeAt(++s);return o>6||s<u&&i!==32?!1:(n||(u=e.skipCharsBack(u,32,s),a=e.skipCharsBack(u,35,s),a>s&&e.src.charCodeAt(a-1)===32&&(u=a),e.line=t+1,e.tokens.push({type:"heading_open",hLevel:o,lines:[t,e.line],level:e.level}),s<u&&e.tokens.push({type:"inline",content:e.src.slice(s,u).trim(),level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"heading_close",hLevel:o,level:e.level})),!0)}function bS(e,t,r){var n,i,o,a=t+1;return a>=r||e.tShift[a]<e.blkIndent||e.tShift[a]-e.blkIndent>3||(i=e.bMarks[a]+e.tShift[a],o=e.eMarks[a],i>=o)||(n=e.src.charCodeAt(i),n!==45&&n!==61)||(i=e.skipChars(i,n),i=e.skipSpaces(i),i<o)?!1:(i=e.bMarks[t]+e.tShift[t],e.line=a+1,e.tokens.push({type:"heading_open",hLevel:n===61?1:2,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:e.src.slice(i,e.eMarks[t]).trim(),level:e.level+1,lines:[t,e.line-1],children:[]}),e.tokens.push({type:"heading_close",hLevel:n===61?1:2,level:e.level}),!0)}var F1={};["article","aside","button","blockquote","body","canvas","caption","col","colgroup","dd","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","iframe","li","map","object","ol","output","p","pre","progress","script","section","style","table","tbody","td","textarea","tfoot","th","tr","thead","ul","video"].forEach(function(e){F1[e]=!0});var xS=/^<([a-zA-Z]{1,15})[\s\/>]/,wS=/^<\/([a-zA-Z]{1,15})[\s>]/;function kS(e){var t=e|32;return t>=97&&t<=122}function SS(e,t,r,n){var i,o,a,s=e.bMarks[t],u=e.eMarks[t],h=e.tShift[t];if(s+=h,!e.options.html||h>3||s+2>=u||e.src.charCodeAt(s)!==60)return!1;if(i=e.src.charCodeAt(s+1),i===33||i===63){if(n)return!0}else if(i===47||kS(i)){if(i===47){if(o=e.src.slice(s,u).match(wS),!o)return!1}else if(o=e.src.slice(s,u).match(xS),!o)return!1;if(F1[o[1].toLowerCase()]!==!0)return!1;if(n)return!0}else return!1;for(a=t+1;a<e.lineMax&&!e.isEmpty(a);)a++;return e.line=a,e.tokens.push({type:"htmlblock",level:e.level,lines:[t,e.line],content:e.getLines(t,a,0,!0)}),!0}function ec(e,t){var r=e.bMarks[t]+e.blkIndent,n=e.eMarks[t];return e.src.substr(r,n-r)}function AS(e,t,r,n){var i,o,a,s,u,h,d,m,y,k,A;if(t+2>r||(u=t+1,e.tShift[u]<e.blkIndent)||(a=e.bMarks[u]+e.tShift[u],a>=e.eMarks[u])||(i=e.src.charCodeAt(a),i!==124&&i!==45&&i!==58)||(o=ec(e,t+1),!/^[-:| ]+$/.test(o))||(h=o.split("|"),h<=2))return!1;for(m=[],s=0;s<h.length;s++){if(y=h[s].trim(),!y){if(s===0||s===h.length-1)continue;return!1}if(!/^:?-+:?$/.test(y))return!1;y.charCodeAt(y.length-1)===58?m.push(y.charCodeAt(0)===58?"center":"right"):y.charCodeAt(0)===58?m.push("left"):m.push("")}if(o=ec(e,t).trim(),o.indexOf("|")===-1||(h=o.replace(/^\||\|$/g,"").split("|"),m.length!==h.length))return!1;if(n)return!0;for(e.tokens.push({type:"table_open",lines:k=[t,0],level:e.level++}),e.tokens.push({type:"thead_open",lines:[t,t+1],level:e.level++}),e.tokens.push({type:"tr_open",lines:[t,t+1],level:e.level++}),s=0;s<h.length;s++)e.tokens.push({type:"th_open",align:m[s],lines:[t,t+1],level:e.level++}),e.tokens.push({type:"inline",content:h[s].trim(),lines:[t,t+1],level:e.level,children:[]}),e.tokens.push({type:"th_close",level:--e.level});for(e.tokens.push({type:"tr_close",level:--e.level}),e.tokens.push({type:"thead_close",level:--e.level}),e.tokens.push({type:"tbody_open",lines:A=[t+2,0],level:e.level++}),u=t+2;u<r&&!(e.tShift[u]<e.blkIndent||(o=ec(e,u).trim(),o.indexOf("|")===-1));u++){for(h=o.replace(/^\||\|$/g,"").split("|"),e.tokens.push({type:"tr_open",level:e.level++}),s=0;s<h.length;s++)e.tokens.push({type:"td_open",align:m[s],level:e.level++}),d=h[s].substring(h[s].charCodeAt(0)===124?1:0,h[s].charCodeAt(h[s].length-1)===124?h[s].length-1:h[s].length).trim(),e.tokens.push({type:"inline",content:d,level:e.level,children:[]}),e.tokens.push({type:"td_close",level:--e.level});e.tokens.push({type:"tr_close",level:--e.level})}return e.tokens.push({type:"tbody_close",level:--e.level}),e.tokens.push({type:"table_close",level:--e.level}),k[1]=A[1]=u,e.line=u,!0}function $s(e,t){var r,n,i=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];return i>=o||(n=e.src.charCodeAt(i++),n!==126&&n!==58)||(r=e.skipSpaces(i),i===r)||r>=o?-1:r}function MS(e,t){var r,n,i=e.level+2;for(r=t+2,n=e.tokens.length-2;r<n;r++)e.tokens[r].level===i&&e.tokens[r].type==="paragraph_open"&&(e.tokens[r+2].tight=!0,e.tokens[r].tight=!0,r+=2)}function CS(e,t,r,n){var i,o,a,s,u,h,d,m,y,k,A,C,D,N;if(n)return e.ddIndent<0?!1:$s(e,t)>=0;if(d=t+1,e.isEmpty(d)&&++d>r||e.tShift[d]<e.blkIndent||(i=$s(e,d),i<0)||e.level>=e.options.maxNesting)return!1;h=e.tokens.length,e.tokens.push({type:"dl_open",lines:u=[t,0],level:e.level++}),a=t,o=d;e:for(;;){for(N=!0,D=!1,e.tokens.push({type:"dt_open",lines:[a,a],level:e.level++}),e.tokens.push({type:"inline",content:e.getLines(a,a+1,e.blkIndent,!1).trim(),level:e.level+1,lines:[a,a],children:[]}),e.tokens.push({type:"dt_close",level:--e.level});;){if(e.tokens.push({type:"dd_open",lines:s=[d,0],level:e.level++}),C=e.tight,y=e.ddIndent,m=e.blkIndent,A=e.tShift[o],k=e.parentType,e.blkIndent=e.ddIndent=e.tShift[o]+2,e.tShift[o]=i-e.bMarks[o],e.tight=!0,e.parentType="deflist",e.parser.tokenize(e,o,r,!0),(!e.tight||D)&&(N=!1),D=e.line-o>1&&e.isEmpty(e.line-1),e.tShift[o]=A,e.tight=C,e.parentType=k,e.blkIndent=m,e.ddIndent=y,e.tokens.push({type:"dd_close",level:--e.level}),s[1]=d=e.line,d>=r||e.tShift[d]<e.blkIndent)break e;if(i=$s(e,d),i<0)break;o=d}if(d>=r||(a=d,e.isEmpty(a))||e.tShift[a]<e.blkIndent||(o=a+1,o>=r)||(e.isEmpty(o)&&o++,o>=r)||e.tShift[o]<e.blkIndent||(i=$s(e,o),i<0))break}return e.tokens.push({type:"dl_close",level:--e.level}),u[1]=d,e.line=d,N&&MS(e,h),!0}function TS(e,t){var r,n,i,o,a,s=t+1,u;if(r=e.lineMax,s<r&&!e.isEmpty(s)){for(u=e.parser.ruler.getRules("paragraph");s<r&&!e.isEmpty(s);s++)if(!(e.tShift[s]-e.blkIndent>3)){for(i=!1,o=0,a=u.length;o<a;o++)if(u[o](e,s,r,!0)){i=!0;break}if(i)break}}return n=e.getLines(t,s,e.blkIndent,!1).trim(),e.line=s,n.length&&(e.tokens.push({type:"paragraph_open",tight:!1,lines:[t,e.line],level:e.level}),e.tokens.push({type:"inline",content:n,level:e.level+1,lines:[t,e.line],children:[]}),e.tokens.push({type:"paragraph_close",tight:!1,level:e.level})),!0}var Gs=[["code",fS],["fences",hS,["paragraph","blockquote","list"]],["blockquote",pS,["paragraph","blockquote","list"]],["hr",dS,["paragraph","blockquote","list"]],["list",vS,["paragraph","blockquote"]],["footnote",gS,["paragraph"]],["heading",yS,["paragraph","blockquote"]],["lheading",bS],["htmlblock",SS,["paragraph","blockquote"]],["table",AS,["paragraph"]],["deflist",CS,["paragraph"]],["paragraph",TS]];function tc(){this.ruler=new fr;for(var e=0;e<Gs.length;e++)this.ruler.push(Gs[e][0],Gs[e][1],{alt:(Gs[e][2]||[]).slice()})}tc.prototype.tokenize=function(e,t,r){for(var n=this.ruler.getRules(""),i=n.length,o=t,a=!1,s,u;o<r&&(e.line=o=e.skipEmptyLines(o),!(o>=r||e.tShift[o]<e.blkIndent));){for(u=0;u<i&&(s=n[u](e,o,r,!1),!s);u++);if(e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),o=e.line,o<r&&e.isEmpty(o)){if(a=!0,o++,o<r&&e.parentType==="list"&&e.isEmpty(o))break;e.line=o}}};var ES=/[\n\t]/g,OS=/\r[\n\u0085]|[\u2424\u2028\u0085]/g,_S=/\u00a0/g;tc.prototype.parse=function(e,t,r,n){var i,o=0,a=0;if(!e)return[];e=e.replace(_S," "),e=e.replace(OS,`
`),e.indexOf("	")>=0&&(e=e.replace(ES,function(s,u){var h;return e.charCodeAt(u)===10?(o=u+1,a=0,s):(h="    ".slice((u-o-a)%4),a=u-o+1,h)})),i=new yi(e,this,t,r,n),this.tokenize(i,i.line,i.lineMax)};function NS(e){switch(e){case 10:case 92:case 96:case 42:case 95:case 94:case 91:case 93:case 33:case 38:case 60:case 62:case 123:case 125:case 36:case 37:case 64:case 126:case 43:case 61:case 58:return!0;default:return!1}}function DS(e,t){for(var r=e.pos;r<e.posMax&&!NS(e.src.charCodeAt(r));)r++;return r===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,r)),e.pos=r,!0)}function zS(e,t){var r,n,i=e.pos;if(e.src.charCodeAt(i)!==10)return!1;if(r=e.pending.length-1,n=e.posMax,!t)if(r>=0&&e.pending.charCodeAt(r)===32)if(r>=1&&e.pending.charCodeAt(r-1)===32){for(var o=r-2;o>=0;o--)if(e.pending.charCodeAt(o)!==32){e.pending=e.pending.substring(0,o+1);break}e.push({type:"hardbreak",level:e.level})}else e.pending=e.pending.slice(0,-1),e.push({type:"softbreak",level:e.level});else e.push({type:"softbreak",level:e.level});for(i++;i<n&&e.src.charCodeAt(i)===32;)i++;return e.pos=i,!0}var rc=[];for(var P1=0;P1<256;P1++)rc.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){rc[e.charCodeAt(0)]=1});function BS(e,t){var r,n=e.pos,i=e.posMax;if(e.src.charCodeAt(n)!==92)return!1;if(n++,n<i){if(r=e.src.charCodeAt(n),r<256&&rc[r]!==0)return t||(e.pending+=e.src[n]),e.pos+=2,!0;if(r===10){for(t||e.push({type:"hardbreak",level:e.level}),n++;n<i&&e.src.charCodeAt(n)===32;)n++;return e.pos=n,!0}}return t||(e.pending+="\\"),e.pos++,!0}function RS(e,t){var r,n,i,o,a,s=e.pos,u=e.src.charCodeAt(s);if(u!==96)return!1;for(r=s,s++,n=e.posMax;s<n&&e.src.charCodeAt(s)===96;)s++;for(i=e.src.slice(r,s),o=a=s;(o=e.src.indexOf("`",a))!==-1;){for(a=o+1;a<n&&e.src.charCodeAt(a)===96;)a++;if(a-o===i.length)return t||e.push({type:"code",content:e.src.slice(s,o).replace(/[ \n]+/g," ").trim(),block:!1,level:e.level}),e.pos=a,!0}return t||(e.pending+=i),e.pos+=i.length,!0}function IS(e,t){var r,n,i,o=e.posMax,a=e.pos,s,u;if(e.src.charCodeAt(a)!==126||t||a+4>=o||e.src.charCodeAt(a+1)!==126||e.level>=e.options.maxNesting||(s=a>0?e.src.charCodeAt(a-1):-1,u=e.src.charCodeAt(a+2),s===126)||u===126||u===32||u===10)return!1;for(n=a+2;n<o&&e.src.charCodeAt(n)===126;)n++;if(n>a+3)return e.pos+=n-a,t||(e.pending+=e.src.slice(a,n)),!0;for(e.pos=a+2,i=1;e.pos+1<o;){if(e.src.charCodeAt(e.pos)===126&&e.src.charCodeAt(e.pos+1)===126&&(s=e.src.charCodeAt(e.pos-1),u=e.pos+2<o?e.src.charCodeAt(e.pos+2):-1,u!==126&&s!==126&&(s!==32&&s!==10?i--:u!==32&&u!==10&&i++,i<=0))){r=!0;break}e.parser.skipToken(e)}return r?(e.posMax=e.pos,e.pos=a+2,t||(e.push({type:"del_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"del_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=o,!0):(e.pos=a,!1)}function FS(e,t){var r,n,i,o=e.posMax,a=e.pos,s,u;if(e.src.charCodeAt(a)!==43||t||a+4>=o||e.src.charCodeAt(a+1)!==43||e.level>=e.options.maxNesting||(s=a>0?e.src.charCodeAt(a-1):-1,u=e.src.charCodeAt(a+2),s===43)||u===43||u===32||u===10)return!1;for(n=a+2;n<o&&e.src.charCodeAt(n)===43;)n++;if(n!==a+2)return e.pos+=n-a,t||(e.pending+=e.src.slice(a,n)),!0;for(e.pos=a+2,i=1;e.pos+1<o;){if(e.src.charCodeAt(e.pos)===43&&e.src.charCodeAt(e.pos+1)===43&&(s=e.src.charCodeAt(e.pos-1),u=e.pos+2<o?e.src.charCodeAt(e.pos+2):-1,u!==43&&s!==43&&(s!==32&&s!==10?i--:u!==32&&u!==10&&i++,i<=0))){r=!0;break}e.parser.skipToken(e)}return r?(e.posMax=e.pos,e.pos=a+2,t||(e.push({type:"ins_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"ins_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=o,!0):(e.pos=a,!1)}function PS(e,t){var r,n,i,o=e.posMax,a=e.pos,s,u;if(e.src.charCodeAt(a)!==61||t||a+4>=o||e.src.charCodeAt(a+1)!==61||e.level>=e.options.maxNesting||(s=a>0?e.src.charCodeAt(a-1):-1,u=e.src.charCodeAt(a+2),s===61)||u===61||u===32||u===10)return!1;for(n=a+2;n<o&&e.src.charCodeAt(n)===61;)n++;if(n!==a+2)return e.pos+=n-a,t||(e.pending+=e.src.slice(a,n)),!0;for(e.pos=a+2,i=1;e.pos+1<o;){if(e.src.charCodeAt(e.pos)===61&&e.src.charCodeAt(e.pos+1)===61&&(s=e.src.charCodeAt(e.pos-1),u=e.pos+2<o?e.src.charCodeAt(e.pos+2):-1,u!==61&&s!==61&&(s!==32&&s!==10?i--:u!==32&&u!==10&&i++,i<=0))){r=!0;break}e.parser.skipToken(e)}return r?(e.posMax=e.pos,e.pos=a+2,t||(e.push({type:"mark_open",level:e.level++}),e.parser.tokenize(e),e.push({type:"mark_close",level:--e.level})),e.pos=e.posMax+2,e.posMax=o,!0):(e.pos=a,!1)}function L1(e){return e>=48&&e<=57||e>=65&&e<=90||e>=97&&e<=122}function q1(e,t){var r=t,n,i,o,a=!0,s=!0,u=e.posMax,h=e.src.charCodeAt(t);for(n=t>0?e.src.charCodeAt(t-1):-1;r<u&&e.src.charCodeAt(r)===h;)r++;return r>=u&&(a=!1),o=r-t,o>=4?a=s=!1:(i=r<u?e.src.charCodeAt(r):-1,(i===32||i===10)&&(a=!1),(n===32||n===10)&&(s=!1),h===95&&(L1(n)&&(a=!1),L1(i)&&(s=!1))),{can_open:a,can_close:s,delims:o}}function LS(e,t){var r,n,i,o,a,s,u,h=e.posMax,d=e.pos,m=e.src.charCodeAt(d);if(m!==95&&m!==42||t)return!1;if(u=q1(e,d),r=u.delims,!u.can_open)return e.pos+=r,t||(e.pending+=e.src.slice(d,e.pos)),!0;if(e.level>=e.options.maxNesting)return!1;for(e.pos=d+r,s=[r];e.pos<h;){if(e.src.charCodeAt(e.pos)===m){if(u=q1(e,e.pos),n=u.delims,u.can_close){for(o=s.pop(),a=n;o!==a;){if(a<o){s.push(o-a);break}if(a-=o,s.length===0)break;e.pos+=o,o=s.pop()}if(s.length===0){r=o,i=!0;break}e.pos+=n;continue}u.can_open&&s.push(n),e.pos+=n;continue}e.parser.skipToken(e)}return i?(e.posMax=e.pos,e.pos=d+r,t||((r===2||r===3)&&e.push({type:"strong_open",level:e.level++}),(r===1||r===3)&&e.push({type:"em_open",level:e.level++}),e.parser.tokenize(e),(r===1||r===3)&&e.push({type:"em_close",level:--e.level}),(r===2||r===3)&&e.push({type:"strong_close",level:--e.level})),e.pos=e.posMax+r,e.posMax=h,!0):(e.pos=d,!1)}var qS=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function HS(e,t){var r,n,i=e.posMax,o=e.pos;if(e.src.charCodeAt(o)!==126||t||o+2>=i||e.level>=e.options.maxNesting)return!1;for(e.pos=o+1;e.pos<i;){if(e.src.charCodeAt(e.pos)===126){r=!0;break}e.parser.skipToken(e)}return!r||o+1===e.pos||(n=e.src.slice(o+1,e.pos),n.match(/(^|[^\\])(\\\\)*\s/))?(e.pos=o,!1):(e.posMax=e.pos,e.pos=o+1,t||e.push({type:"sub",level:e.level,content:n.replace(qS,"$1")}),e.pos=e.posMax+1,e.posMax=i,!0)}var jS=/\\([ \\!"#$%&'()*+,.\/:;<=>?@[\]^_`{|}~-])/g;function VS(e,t){var r,n,i=e.posMax,o=e.pos;if(e.src.charCodeAt(o)!==94||t||o+2>=i||e.level>=e.options.maxNesting)return!1;for(e.pos=o+1;e.pos<i;){if(e.src.charCodeAt(e.pos)===94){r=!0;break}e.parser.skipToken(e)}return!r||o+1===e.pos||(n=e.src.slice(o+1,e.pos),n.match(/(^|[^\\])(\\\\)*\s/))?(e.pos=o,!1):(e.posMax=e.pos,e.pos=o+1,t||e.push({type:"sup",level:e.level,content:n.replace(jS,"$1")}),e.pos=e.posMax+1,e.posMax=i,!0)}function $S(e,t){var r,n,i,o,a,s,u,h,d=!1,m=e.pos,y=e.posMax,k=e.pos,A=e.src.charCodeAt(k);if(A===33&&(d=!0,A=e.src.charCodeAt(++k)),A!==91||e.level>=e.options.maxNesting||(r=k+1,n=oa(e,k),n<0))return!1;if(s=n+1,s<y&&e.src.charCodeAt(s)===40){for(s++;s<y&&(h=e.src.charCodeAt(s),!(h!==32&&h!==10));s++);if(s>=y)return!1;for(k=s,T1(e,s)?(o=e.linkContent,s=e.pos):o="",k=s;s<y&&(h=e.src.charCodeAt(s),!(h!==32&&h!==10));s++);if(s<y&&k!==s&&E1(e,s))for(a=e.linkContent,s=e.pos;s<y&&(h=e.src.charCodeAt(s),!(h!==32&&h!==10));s++);else a="";if(s>=y||e.src.charCodeAt(s)!==41)return e.pos=m,!1;s++}else{if(e.linkLevel>0)return!1;for(;s<y&&(h=e.src.charCodeAt(s),!(h!==32&&h!==10));s++);if(s<y&&e.src.charCodeAt(s)===91&&(k=s+1,s=oa(e,s),s>=0?i=e.src.slice(k,s++):s=k-1),i||(typeof i=="undefined"&&(s=n+1),i=e.src.slice(r,n)),u=e.env.references[O1(i)],!u)return e.pos=m,!1;o=u.href,a=u.title}return t||(e.pos=r,e.posMax=n,d?e.push({type:"image",src:o,title:a,alt:e.src.substr(r,n-r),level:e.level}):(e.push({type:"link_open",href:o,title:a,level:e.level++}),e.linkLevel++,e.parser.tokenize(e),e.linkLevel--,e.push({type:"link_close",level:--e.level}))),e.pos=s,e.posMax=y,!0}function GS(e,t){var r,n,i,o,a=e.posMax,s=e.pos;return s+2>=a||e.src.charCodeAt(s)!==94||e.src.charCodeAt(s+1)!==91||e.level>=e.options.maxNesting||(r=s+2,n=oa(e,s+1),n<0)?!1:(t||(e.env.footnotes||(e.env.footnotes={}),e.env.footnotes.list||(e.env.footnotes.list=[]),i=e.env.footnotes.list.length,e.pos=r,e.posMax=n,e.push({type:"footnote_ref",id:i,level:e.level}),e.linkLevel++,o=e.tokens.length,e.parser.tokenize(e),e.env.footnotes.list[i]={tokens:e.tokens.splice(o)},e.linkLevel--),e.pos=n+1,e.posMax=a,!0)}function WS(e,t){var r,n,i,o,a=e.posMax,s=e.pos;if(s+3>a||!e.env.footnotes||!e.env.footnotes.refs||e.src.charCodeAt(s)!==91||e.src.charCodeAt(s+1)!==94||e.level>=e.options.maxNesting)return!1;for(n=s+2;n<a;n++){if(e.src.charCodeAt(n)===32||e.src.charCodeAt(n)===10)return!1;if(e.src.charCodeAt(n)===93)break}return n===s+2||n>=a||(n++,r=e.src.slice(s+2,n-1),typeof e.env.footnotes.refs[":"+r]=="undefined")?!1:(t||(e.env.footnotes.list||(e.env.footnotes.list=[]),e.env.footnotes.refs[":"+r]<0?(i=e.env.footnotes.list.length,e.env.footnotes.list[i]={label:r,count:0},e.env.footnotes.refs[":"+r]=i):i=e.env.footnotes.refs[":"+r],o=e.env.footnotes.list[i].count,e.env.footnotes.list[i].count++,e.push({type:"footnote_ref",id:i,subId:o,level:e.level})),e.pos=n,e.posMax=a,!0)}var US=["coap","doi","javascript","aaa","aaas","about","acap","cap","cid","crid","data","dav","dict","dns","file","ftp","geo","go","gopher","h323","http","https","iax","icap","im","imap","info","ipp","iris","iris.beep","iris.xpc","iris.xpcs","iris.lwz","ldap","mailto","mid","msrp","msrps","mtqp","mupdate","news","nfs","ni","nih","nntp","opaquelocktoken","pop","pres","rtsp","service","session","shttp","sieve","sip","sips","sms","snmp","soap.beep","soap.beeps","tag","tel","telnet","tftp","thismessage","tn3270","tip","tv","urn","vemmi","ws","wss","xcon","xcon-userid","xmlrpc.beep","xmlrpc.beeps","xmpp","z39.50r","z39.50s","adiumxtra","afp","afs","aim","apt","attachment","aw","beshare","bitcoin","bolo","callto","chrome","chrome-extension","com-eventbrite-attendee","content","cvs","dlna-playsingle","dlna-playcontainer","dtn","dvb","ed2k","facetime","feed","finger","fish","gg","git","gizmoproject","gtalk","hcp","icon","ipn","irc","irc6","ircs","itms","jar","jms","keyparc","lastfm","ldaps","magnet","maps","market","message","mms","ms-help","msnim","mumble","mvn","notes","oid","palm","paparazzi","platform","proxy","psyc","query","res","resource","rmi","rsync","rtmp","secondlife","sftp","sgn","skype","smb","soldat","spotify","ssh","steam","svn","teamspeak","things","udp","unreal","ut2004","ventrilo","view-source","webcal","wtai","wyciwyg","xfire","xri","ymsgr"],KS=/^<([a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)>/,JS=/^<([a-zA-Z.\-]{1,25}):([^<>\x00-\x20]*)>/;function XS(e,t){var r,n,i,o,a,s=e.pos;return e.src.charCodeAt(s)!==60||(r=e.src.slice(s),r.indexOf(">")<0)?!1:(n=r.match(JS),n?US.indexOf(n[1].toLowerCase())<0||(o=n[0].slice(1,-1),a=Yu(o),!e.parser.validateLink(o))?!1:(t||(e.push({type:"link_open",href:a,level:e.level}),e.push({type:"text",content:o,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=n[0].length,!0):(i=r.match(KS),i?(o=i[0].slice(1,-1),a=Yu("mailto:"+o),e.parser.validateLink(a)?(t||(e.push({type:"link_open",href:a,level:e.level}),e.push({type:"text",content:o,level:e.level+1}),e.push({type:"link_close",level:e.level})),e.pos+=i[0].length,!0):!1):!1))}function Ws(e,t){return e=e.source,t=t||"",function r(n,i){return n?(i=i.source||i,e=e.replace(n,i),r):new RegExp(e,t)}}var YS=/[a-zA-Z_:][a-zA-Z0-9:._-]*/,ZS=/[^"'=<>`\x00-\x20]+/,QS=/'[^']*'/,eA=/"[^"]*"/,tA=Ws(/(?:unquoted|single_quoted|double_quoted)/)("unquoted",ZS)("single_quoted",QS)("double_quoted",eA)(),rA=Ws(/(?:\s+attr_name(?:\s*=\s*attr_value)?)/)("attr_name",YS)("attr_value",tA)(),nA=Ws(/<[A-Za-z][A-Za-z0-9]*attribute*\s*\/?>/)("attribute",rA)(),iA=/<\/[A-Za-z][A-Za-z0-9]*\s*>/,oA=/<!---->|<!--(?:-?[^>-])(?:-?[^-])*-->/,aA=/<[?].*?[?]>/,sA=/<![A-Z]+\s+[^>]*>/,lA=/<!\[CDATA\[[\s\S]*?\]\]>/,uA=Ws(/^(?:open_tag|close_tag|comment|processing|declaration|cdata)/)("open_tag",nA)("close_tag",iA)("comment",oA)("processing",aA)("declaration",sA)("cdata",lA)();function cA(e){var t=e|32;return t>=97&&t<=122}function fA(e,t){var r,n,i,o=e.pos;return!e.options.html||(i=e.posMax,e.src.charCodeAt(o)!==60||o+2>=i)||(r=e.src.charCodeAt(o+1),r!==33&&r!==63&&r!==47&&!cA(r))||(n=e.src.slice(o).match(uA),!n)?!1:(t||e.push({type:"htmltag",content:e.src.slice(o,o+n[0].length),level:e.level}),e.pos+=n[0].length,!0)}var hA=/^&#((?:x[a-f0-9]{1,8}|[0-9]{1,8}));/i,pA=/^&([a-z][a-z0-9]{1,31});/i;function dA(e,t){var r,n,i,o=e.pos,a=e.posMax;if(e.src.charCodeAt(o)!==38)return!1;if(o+1<a){if(r=e.src.charCodeAt(o+1),r===35){if(i=e.src.slice(o).match(hA),i)return t||(n=i[1][0].toLowerCase()==="x"?parseInt(i[1].slice(1),16):parseInt(i[1],10),e.pending+=M1(n)?Ju(n):Ju(65533)),e.pos+=i[0].length,!0}else if(i=e.src.slice(o).match(pA),i){var s=S1(i[1]);if(i[1]!==s)return t||(e.pending+=s),e.pos+=i[0].length,!0}}return t||(e.pending+="&"),e.pos++,!0}var nc=[["text",DS],["newline",zS],["escape",BS],["backticks",RS],["del",IS],["ins",FS],["mark",PS],["emphasis",LS],["sub",HS],["sup",VS],["links",$S],["footnote_inline",GS],["footnote_ref",WS],["autolink",XS],["htmltag",fA],["entity",dA]];function Us(){this.ruler=new fr;for(var e=0;e<nc.length;e++)this.ruler.push(nc[e][0],nc[e][1]);this.validateLink=mA}Us.prototype.skipToken=function(e){var t=this.ruler.getRules(""),r=t.length,n=e.pos,i,o;if((o=e.cacheGet(n))>0){e.pos=o;return}for(i=0;i<r;i++)if(t[i](e,!0)){e.cacheSet(n,e.pos);return}e.pos++,e.cacheSet(n,e.pos)};Us.prototype.tokenize=function(e){for(var t=this.ruler.getRules(""),r=t.length,n=e.posMax,i,o;e.pos<n;){for(o=0;o<r&&(i=t[o](e,!1),!i);o++);if(i){if(e.pos>=n)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};Us.prototype.parse=function(e,t,r,n){var i=new gi(e,this,t,r,n);this.tokenize(i)};function mA(e){var t=["vbscript","javascript","file","data"],r=e.trim().toLowerCase();return r=mi(r),!(r.indexOf(":")!==-1&&t.indexOf(r.split(":")[0])!==-1)}var vA={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","replacements","smartquotes","references","abbr2","footnote_tail"]},block:{rules:["blockquote","code","fences","footnote","heading","hr","htmlblock","lheading","list","paragraph","table"]},inline:{rules:["autolink","backticks","del","emphasis","entity","escape","footnote_ref","htmltag","links","newline","text"]}}},gA={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{},block:{},inline:{}}},yA={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkTarget:"",typographer:!1,quotes:"\u201C\u201D\u2018\u2019",highlight:null,maxNesting:20},components:{core:{rules:["block","inline","references","abbr2"]},block:{rules:["blockquote","code","fences","heading","hr","htmlblock","lheading","list","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","htmltag","links","newline","text"]}}},bA={default:vA,full:gA,commonmark:yA};function H1(e,t,r){this.src=t,this.env=r,this.options=e.options,this.tokens=[],this.inlineMode=!1,this.inline=e.inline,this.block=e.block,this.renderer=e.renderer,this.typographer=e.typographer}function $n(e,t){typeof e!="string"&&(t=e,e="default"),t&&t.linkify!=null&&console.warn(`linkify option is removed. Use linkify plugin instead:

import Remarkable from 'remarkable';
import linkify from 'remarkable/linkify';
new Remarkable().use(linkify)
`),this.inline=new Us,this.block=new tc,this.core=new B1,this.renderer=new Xu,this.ruler=new fr,this.options={},this.configure(bA[e]),this.set(t||{})}$n.prototype.set=function(e){A1(this.options,e)};$n.prototype.configure=function(e){var t=this;if(!e)throw new Error("Wrong `remarkable` preset, check name/content");e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(r){e.components[r].rules&&t[r].ruler.enable(e.components[r].rules,!0)})};$n.prototype.use=function(e,t){return e(this,t),this};$n.prototype.parse=function(e,t){var r=new H1(this,e,t);return this.core.process(r),r.tokens};$n.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};$n.prototype.parseInline=function(e,t){var r=new H1(this,e,t);return r.inlineMode=!0,this.core.process(r),r.tokens};$n.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};var ic=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function xA(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var j1={exports:{}};(function(e,t){(function(n,i){e.exports=i()})(typeof self!="undefined"?self:ic,function(){return function(){var r={};(function(){r.d=function(b,l){for(var c in l)r.o(l,c)&&!r.o(b,c)&&Object.defineProperty(b,c,{enumerable:!0,get:l[c]})}})(),function(){r.o=function(b,l){return Object.prototype.hasOwnProperty.call(b,l)}}();var n={};r.d(n,{default:function(){return w4}});var i=function b(l,c){this.position=void 0;var f="KaTeX parse error: "+l,p,v=c&&c.loc;if(v&&v.start<=v.end){var x=v.lexer.input;p=v.start;var S=v.end;p===x.length?f+=" at end of input: ":f+=" at position "+(p+1)+": ";var E=x.slice(p,S).replace(/[^]/g,"$&\u0332"),z;p>15?z="\u2026"+x.slice(p-15,p):z=x.slice(0,p);var P;S+15<x.length?P=x.slice(S,S+15)+"\u2026":P=x.slice(S),f+=z+E+P}var V=new Error(f);return V.name="ParseError",V.__proto__=b.prototype,V.position=p,V};i.prototype.__proto__=Error.prototype;var o=i,a=function(l,c){return l.indexOf(c)!==-1},s=function(l,c){return l===void 0?c:l},u=/([A-Z])/g,h=function(l){return l.replace(u,"-$1").toLowerCase()},d={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},m=/[&><"']/g;function y(b){return String(b).replace(m,function(l){return d[l]})}var k=function b(l){return l.type==="ordgroup"||l.type==="color"?l.body.length===1?b(l.body[0]):l:l.type==="font"?b(l.body):l},A=function(l){var c=k(l);return c.type==="mathord"||c.type==="textord"||c.type==="atom"},C=function(l){if(!l)throw new Error("Expected non-null, but got "+String(l));return l},D=function(l){var c=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(l);return c!=null?c[1]:"_relative"},N={contains:a,deflt:s,escape:y,hyphenate:h,getBaseElem:k,isCharacterBox:A,protocolFromUrl:D},T={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:function(l){return"#"+l}},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:function(l,c){return c.push(l),c}},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:function(l){return Math.max(0,l)},cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:function(l){return Math.max(0,l)},cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:function(l){return Math.max(0,l)},cli:"-e, --max-expand <n>",cliProcessor:function(l){return l==="Infinity"?1/0:parseInt(l)}},globalGroup:{type:"boolean",cli:!1}};function I(b){if(b.default)return b.default;var l=b.type,c=Array.isArray(l)?l[0]:l;if(typeof c!="string")return c.enum[0];switch(c){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}var O=function(){function b(c){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,c=c||{};for(var f in T)if(T.hasOwnProperty(f)){var p=T[f];this[f]=c[f]!==void 0?p.processor?p.processor(c[f]):c[f]:I(p)}}var l=b.prototype;return l.reportNonstrict=function(f,p,v){var x=this.strict;if(typeof x=="function"&&(x=x(f,p,v)),!(!x||x==="ignore")){if(x===!0||x==="error")throw new o("LaTeX-incompatible input and strict mode is set to 'error': "+(p+" ["+f+"]"),v);x==="warn"?typeof console!="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(p+" ["+f+"]")):typeof console!="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+x+"': "+p+" ["+f+"]"))}},l.useStrictBehavior=function(f,p,v){var x=this.strict;if(typeof x=="function")try{x=x(f,p,v)}catch{x="error"}return!x||x==="ignore"?!1:x===!0||x==="error"?!0:x==="warn"?(typeof console!="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(p+" ["+f+"]")),!1):(typeof console!="undefined"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+x+"': "+p+" ["+f+"]")),!1)},l.isTrusted=function(f){f.url&&!f.protocol&&(f.protocol=N.protocolFromUrl(f.url));var p=typeof this.trust=="function"?this.trust(f):this.trust;return Boolean(p)},b}(),H=function(){function b(c,f,p){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=c,this.size=f,this.cramped=p}var l=b.prototype;return l.sup=function(){return B[U[this.id]]},l.sub=function(){return B[W[this.id]]},l.fracNum=function(){return B[ce[this.id]]},l.fracDen=function(){return B[ae[this.id]]},l.cramp=function(){return B[xe[this.id]]},l.text=function(){return B[Se[this.id]]},l.isTight=function(){return this.size>=2},b}(),L=0,G=1,Z=2,K=3,oe=4,he=5,me=6,ge=7,B=[new H(L,0,!1),new H(G,0,!0),new H(Z,1,!1),new H(K,1,!0),new H(oe,2,!1),new H(he,2,!0),new H(me,3,!1),new H(ge,3,!0)],U=[oe,he,oe,he,me,ge,me,ge],W=[he,he,he,he,ge,ge,ge,ge],ce=[Z,K,oe,he,me,ge,me,ge],ae=[K,K,he,he,ge,ge,ge,ge],xe=[G,G,K,K,he,he,ge,ge],Se=[L,G,Z,K,Z,K,Z,K],ie={DISPLAY:B[L],TEXT:B[Z],SCRIPT:B[oe],SCRIPTSCRIPT:B[me]},Te=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function ot(b){for(var l=0;l<Te.length;l++)for(var c=Te[l],f=0;f<c.blocks.length;f++){var p=c.blocks[f];if(b>=p[0]&&b<=p[1])return c.name}return null}var Ne=[];Te.forEach(function(b){return b.blocks.forEach(function(l){return Ne.push.apply(Ne,l)})});function He(b){for(var l=0;l<Ne.length;l+=2)if(b>=Ne[l]&&b<=Ne[l+1])return!0;return!1}var Ve=80,Ze=function(l,c){return"M95,"+(622+l+c)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+l/2.075+" -"+l+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+l)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+l)+" "+c+"h400000v"+(40+l)+"h-400000z"},Qe=function(l,c){return"M263,"+(601+l+c)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+l/2.084+" -"+l+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+l)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+l)+" "+c+"h400000v"+(40+l)+"h-400000z"},Rt=function(l,c){return"M983 "+(10+l+c)+`
l`+l/3.13+" -"+l+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+l)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+l)+" "+c+"h400000v"+(40+l)+"h-400000z"},$t=function(l,c){return"M424,"+(2398+l+c)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+l/4.223+" -"+l+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+l)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+l)+" "+c+`
h400000v`+(40+l)+"h-400000z"},tr=function(l,c){return"M473,"+(2713+l+c)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+l/5.298+" -"+l+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+l)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+l)+" "+c+"h400000v"+(40+l)+"H1017.7z"},wn=function(l){var c=l/2;return"M400000 "+l+" H0 L"+c+" 0 l65 45 L145 "+(l-80)+" H400000z"},Mr=function(l,c,f){var p=f-54-c-l;return"M702 "+(l+c)+"H400000"+(40+l)+`
H742v`+p+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+c+"H400000v"+(40+l)+"H742z"},wi=function(l,c,f){c=1e3*c;var p="";switch(l){case"sqrtMain":p=Ze(c,Ve);break;case"sqrtSize1":p=Qe(c,Ve);break;case"sqrtSize2":p=Rt(c,Ve);break;case"sqrtSize3":p=$t(c,Ve);break;case"sqrtSize4":p=tr(c,Ve);break;case"sqrtTall":p=Mr(c,Ve,f)}return p},ki=function(l,c){switch(l){case"\u239C":return"M291 0 H417 V"+c+" H291z M291 0 H417 V"+c+" H291z";case"\u2223":return"M145 0 H188 V"+c+" H145z M145 0 H188 V"+c+" H145z";case"\u2225":return"M145 0 H188 V"+c+" H145z M145 0 H188 V"+c+" H145z"+("M367 0 H410 V"+c+" H367z M367 0 H410 V"+c+" H367z");case"\u239F":return"M457 0 H583 V"+c+" H457z M457 0 H583 V"+c+" H457z";case"\u23A2":return"M319 0 H403 V"+c+" H319z M319 0 H403 V"+c+" H319z";case"\u23A5":return"M263 0 H347 V"+c+" H263z M263 0 H347 V"+c+" H263z";case"\u23AA":return"M384 0 H504 V"+c+" H384z M384 0 H504 V"+c+" H384z";case"\u23D0":return"M312 0 H355 V"+c+" H312z M312 0 H355 V"+c+" H312z";case"\u2016":return"M257 0 H300 V"+c+" H257z M257 0 H300 V"+c+" H257z"+("M478 0 H521 V"+c+" H478z M478 0 H521 V"+c+" H478z");default:return""}},kn={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Cr=function(){function b(c){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=c,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}var l=b.prototype;return l.hasClass=function(f){return N.contains(this.classes,f)},l.toNode=function(){for(var f=document.createDocumentFragment(),p=0;p<this.children.length;p++)f.appendChild(this.children[p].toNode());return f},l.toMarkup=function(){for(var f="",p=0;p<this.children.length;p++)f+=this.children[p].toMarkup();return f},l.toText=function(){var f=function(v){return v.toText()};return this.children.map(f).join("")},b}(),It={"AMS-Regular":{"32":[0,0,0,0,.25],"65":[0,.68889,0,0,.72222],"66":[0,.68889,0,0,.66667],"67":[0,.68889,0,0,.72222],"68":[0,.68889,0,0,.72222],"69":[0,.68889,0,0,.66667],"70":[0,.68889,0,0,.61111],"71":[0,.68889,0,0,.77778],"72":[0,.68889,0,0,.77778],"73":[0,.68889,0,0,.38889],"74":[.16667,.68889,0,0,.5],"75":[0,.68889,0,0,.77778],"76":[0,.68889,0,0,.66667],"77":[0,.68889,0,0,.94445],"78":[0,.68889,0,0,.72222],"79":[.16667,.68889,0,0,.77778],"80":[0,.68889,0,0,.61111],"81":[.16667,.68889,0,0,.77778],"82":[0,.68889,0,0,.72222],"83":[0,.68889,0,0,.55556],"84":[0,.68889,0,0,.66667],"85":[0,.68889,0,0,.72222],"86":[0,.68889,0,0,.72222],"87":[0,.68889,0,0,1],"88":[0,.68889,0,0,.72222],"89":[0,.68889,0,0,.72222],"90":[0,.68889,0,0,.66667],"107":[0,.68889,0,0,.55556],"160":[0,0,0,0,.25],"165":[0,.675,.025,0,.75],"174":[.15559,.69224,0,0,.94666],"240":[0,.68889,0,0,.55556],"295":[0,.68889,0,0,.54028],"710":[0,.825,0,0,2.33334],"732":[0,.9,0,0,2.33334],"770":[0,.825,0,0,2.33334],"771":[0,.9,0,0,2.33334],"989":[.08167,.58167,0,0,.77778],"1008":[0,.43056,.04028,0,.66667],"8245":[0,.54986,0,0,.275],"8463":[0,.68889,0,0,.54028],"8487":[0,.68889,0,0,.72222],"8498":[0,.68889,0,0,.55556],"8502":[0,.68889,0,0,.66667],"8503":[0,.68889,0,0,.44445],"8504":[0,.68889,0,0,.66667],"8513":[0,.68889,0,0,.63889],"8592":[-.03598,.46402,0,0,.5],"8594":[-.03598,.46402,0,0,.5],"8602":[-.13313,.36687,0,0,1],"8603":[-.13313,.36687,0,0,1],"8606":[.01354,.52239,0,0,1],"8608":[.01354,.52239,0,0,1],"8610":[.01354,.52239,0,0,1.11111],"8611":[.01354,.52239,0,0,1.11111],"8619":[0,.54986,0,0,1],"8620":[0,.54986,0,0,1],"8621":[-.13313,.37788,0,0,1.38889],"8622":[-.13313,.36687,0,0,1],"8624":[0,.69224,0,0,.5],"8625":[0,.69224,0,0,.5],"8630":[0,.43056,0,0,1],"8631":[0,.43056,0,0,1],"8634":[.08198,.58198,0,0,.77778],"8635":[.08198,.58198,0,0,.77778],"8638":[.19444,.69224,0,0,.41667],"8639":[.19444,.69224,0,0,.41667],"8642":[.19444,.69224,0,0,.41667],"8643":[.19444,.69224,0,0,.41667],"8644":[.1808,.675,0,0,1],"8646":[.1808,.675,0,0,1],"8647":[.1808,.675,0,0,1],"8648":[.19444,.69224,0,0,.83334],"8649":[.1808,.675,0,0,1],"8650":[.19444,.69224,0,0,.83334],"8651":[.01354,.52239,0,0,1],"8652":[.01354,.52239,0,0,1],"8653":[-.13313,.36687,0,0,1],"8654":[-.13313,.36687,0,0,1],"8655":[-.13313,.36687,0,0,1],"8666":[.13667,.63667,0,0,1],"8667":[.13667,.63667,0,0,1],"8669":[-.13313,.37788,0,0,1],"8672":[-.064,.437,0,0,1.334],"8674":[-.064,.437,0,0,1.334],"8705":[0,.825,0,0,.5],"8708":[0,.68889,0,0,.55556],"8709":[.08167,.58167,0,0,.77778],"8717":[0,.43056,0,0,.42917],"8722":[-.03598,.46402,0,0,.5],"8724":[.08198,.69224,0,0,.77778],"8726":[.08167,.58167,0,0,.77778],"8733":[0,.69224,0,0,.77778],"8736":[0,.69224,0,0,.72222],"8737":[0,.69224,0,0,.72222],"8738":[.03517,.52239,0,0,.72222],"8739":[.08167,.58167,0,0,.22222],"8740":[.25142,.74111,0,0,.27778],"8741":[.08167,.58167,0,0,.38889],"8742":[.25142,.74111,0,0,.5],"8756":[0,.69224,0,0,.66667],"8757":[0,.69224,0,0,.66667],"8764":[-.13313,.36687,0,0,.77778],"8765":[-.13313,.37788,0,0,.77778],"8769":[-.13313,.36687,0,0,.77778],"8770":[-.03625,.46375,0,0,.77778],"8774":[.30274,.79383,0,0,.77778],"8776":[-.01688,.48312,0,0,.77778],"8778":[.08167,.58167,0,0,.77778],"8782":[.06062,.54986,0,0,.77778],"8783":[.06062,.54986,0,0,.77778],"8785":[.08198,.58198,0,0,.77778],"8786":[.08198,.58198,0,0,.77778],"8787":[.08198,.58198,0,0,.77778],"8790":[0,.69224,0,0,.77778],"8791":[.22958,.72958,0,0,.77778],"8796":[.08198,.91667,0,0,.77778],"8806":[.25583,.75583,0,0,.77778],"8807":[.25583,.75583,0,0,.77778],"8808":[.25142,.75726,0,0,.77778],"8809":[.25142,.75726,0,0,.77778],"8812":[.25583,.75583,0,0,.5],"8814":[.20576,.70576,0,0,.77778],"8815":[.20576,.70576,0,0,.77778],"8816":[.30274,.79383,0,0,.77778],"8817":[.30274,.79383,0,0,.77778],"8818":[.22958,.72958,0,0,.77778],"8819":[.22958,.72958,0,0,.77778],"8822":[.1808,.675,0,0,.77778],"8823":[.1808,.675,0,0,.77778],"8828":[.13667,.63667,0,0,.77778],"8829":[.13667,.63667,0,0,.77778],"8830":[.22958,.72958,0,0,.77778],"8831":[.22958,.72958,0,0,.77778],"8832":[.20576,.70576,0,0,.77778],"8833":[.20576,.70576,0,0,.77778],"8840":[.30274,.79383,0,0,.77778],"8841":[.30274,.79383,0,0,.77778],"8842":[.13597,.63597,0,0,.77778],"8843":[.13597,.63597,0,0,.77778],"8847":[.03517,.54986,0,0,.77778],"8848":[.03517,.54986,0,0,.77778],"8858":[.08198,.58198,0,0,.77778],"8859":[.08198,.58198,0,0,.77778],"8861":[.08198,.58198,0,0,.77778],"8862":[0,.675,0,0,.77778],"8863":[0,.675,0,0,.77778],"8864":[0,.675,0,0,.77778],"8865":[0,.675,0,0,.77778],"8872":[0,.69224,0,0,.61111],"8873":[0,.69224,0,0,.72222],"8874":[0,.69224,0,0,.88889],"8876":[0,.68889,0,0,.61111],"8877":[0,.68889,0,0,.61111],"8878":[0,.68889,0,0,.72222],"8879":[0,.68889,0,0,.72222],"8882":[.03517,.54986,0,0,.77778],"8883":[.03517,.54986,0,0,.77778],"8884":[.13667,.63667,0,0,.77778],"8885":[.13667,.63667,0,0,.77778],"8888":[0,.54986,0,0,1.11111],"8890":[.19444,.43056,0,0,.55556],"8891":[.19444,.69224,0,0,.61111],"8892":[.19444,.69224,0,0,.61111],"8901":[0,.54986,0,0,.27778],"8903":[.08167,.58167,0,0,.77778],"8905":[.08167,.58167,0,0,.77778],"8906":[.08167,.58167,0,0,.77778],"8907":[0,.69224,0,0,.77778],"8908":[0,.69224,0,0,.77778],"8909":[-.03598,.46402,0,0,.77778],"8910":[0,.54986,0,0,.76042],"8911":[0,.54986,0,0,.76042],"8912":[.03517,.54986,0,0,.77778],"8913":[.03517,.54986,0,0,.77778],"8914":[0,.54986,0,0,.66667],"8915":[0,.54986,0,0,.66667],"8916":[0,.69224,0,0,.66667],"8918":[.0391,.5391,0,0,.77778],"8919":[.0391,.5391,0,0,.77778],"8920":[.03517,.54986,0,0,1.33334],"8921":[.03517,.54986,0,0,1.33334],"8922":[.38569,.88569,0,0,.77778],"8923":[.38569,.88569,0,0,.77778],"8926":[.13667,.63667,0,0,.77778],"8927":[.13667,.63667,0,0,.77778],"8928":[.30274,.79383,0,0,.77778],"8929":[.30274,.79383,0,0,.77778],"8934":[.23222,.74111,0,0,.77778],"8935":[.23222,.74111,0,0,.77778],"8936":[.23222,.74111,0,0,.77778],"8937":[.23222,.74111,0,0,.77778],"8938":[.20576,.70576,0,0,.77778],"8939":[.20576,.70576,0,0,.77778],"8940":[.30274,.79383,0,0,.77778],"8941":[.30274,.79383,0,0,.77778],"8994":[.19444,.69224,0,0,.77778],"8995":[.19444,.69224,0,0,.77778],"9416":[.15559,.69224,0,0,.90222],"9484":[0,.69224,0,0,.5],"9488":[0,.69224,0,0,.5],"9492":[0,.37788,0,0,.5],"9496":[0,.37788,0,0,.5],"9585":[.19444,.68889,0,0,.88889],"9586":[.19444,.74111,0,0,.88889],"9632":[0,.675,0,0,.77778],"9633":[0,.675,0,0,.77778],"9650":[0,.54986,0,0,.72222],"9651":[0,.54986,0,0,.72222],"9654":[.03517,.54986,0,0,.77778],"9660":[0,.54986,0,0,.72222],"9661":[0,.54986,0,0,.72222],"9664":[.03517,.54986,0,0,.77778],"9674":[.11111,.69224,0,0,.66667],"9733":[.19444,.69224,0,0,.94445],"10003":[0,.69224,0,0,.83334],"10016":[0,.69224,0,0,.83334],"10731":[.11111,.69224,0,0,.66667],"10846":[.19444,.75583,0,0,.61111],"10877":[.13667,.63667,0,0,.77778],"10878":[.13667,.63667,0,0,.77778],"10885":[.25583,.75583,0,0,.77778],"10886":[.25583,.75583,0,0,.77778],"10887":[.13597,.63597,0,0,.77778],"10888":[.13597,.63597,0,0,.77778],"10889":[.26167,.75726,0,0,.77778],"10890":[.26167,.75726,0,0,.77778],"10891":[.48256,.98256,0,0,.77778],"10892":[.48256,.98256,0,0,.77778],"10901":[.13667,.63667,0,0,.77778],"10902":[.13667,.63667,0,0,.77778],"10933":[.25142,.75726,0,0,.77778],"10934":[.25142,.75726,0,0,.77778],"10935":[.26167,.75726,0,0,.77778],"10936":[.26167,.75726,0,0,.77778],"10937":[.26167,.75726,0,0,.77778],"10938":[.26167,.75726,0,0,.77778],"10949":[.25583,.75583,0,0,.77778],"10950":[.25583,.75583,0,0,.77778],"10955":[.28481,.79383,0,0,.77778],"10956":[.28481,.79383,0,0,.77778],"57350":[.08167,.58167,0,0,.22222],"57351":[.08167,.58167,0,0,.38889],"57352":[.08167,.58167,0,0,.77778],"57353":[0,.43056,.04028,0,.66667],"57356":[.25142,.75726,0,0,.77778],"57357":[.25142,.75726,0,0,.77778],"57358":[.41951,.91951,0,0,.77778],"57359":[.30274,.79383,0,0,.77778],"57360":[.30274,.79383,0,0,.77778],"57361":[.41951,.91951,0,0,.77778],"57366":[.25142,.75726,0,0,.77778],"57367":[.25142,.75726,0,0,.77778],"57368":[.25142,.75726,0,0,.77778],"57369":[.25142,.75726,0,0,.77778],"57370":[.13597,.63597,0,0,.77778],"57371":[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{"32":[0,0,0,0,.25],"65":[0,.68333,0,.19445,.79847],"66":[0,.68333,.03041,.13889,.65681],"67":[0,.68333,.05834,.13889,.52653],"68":[0,.68333,.02778,.08334,.77139],"69":[0,.68333,.08944,.11111,.52778],"70":[0,.68333,.09931,.11111,.71875],"71":[.09722,.68333,.0593,.11111,.59487],"72":[0,.68333,.00965,.11111,.84452],"73":[0,.68333,.07382,0,.54452],"74":[.09722,.68333,.18472,.16667,.67778],"75":[0,.68333,.01445,.05556,.76195],"76":[0,.68333,0,.13889,.68972],"77":[0,.68333,0,.13889,1.2009],"78":[0,.68333,.14736,.08334,.82049],"79":[0,.68333,.02778,.11111,.79611],"80":[0,.68333,.08222,.08334,.69556],"81":[.09722,.68333,0,.11111,.81667],"82":[0,.68333,0,.08334,.8475],"83":[0,.68333,.075,.13889,.60556],"84":[0,.68333,.25417,0,.54464],"85":[0,.68333,.09931,.08334,.62583],"86":[0,.68333,.08222,0,.61278],"87":[0,.68333,.08222,.08334,.98778],"88":[0,.68333,.14643,.13889,.7133],"89":[.09722,.68333,.08222,.08334,.66834],"90":[0,.68333,.07944,.13889,.72473],"160":[0,0,0,0,.25]},"Fraktur-Regular":{"32":[0,0,0,0,.25],"33":[0,.69141,0,0,.29574],"34":[0,.69141,0,0,.21471],"38":[0,.69141,0,0,.73786],"39":[0,.69141,0,0,.21201],"40":[.24982,.74947,0,0,.38865],"41":[.24982,.74947,0,0,.38865],"42":[0,.62119,0,0,.27764],"43":[.08319,.58283,0,0,.75623],"44":[0,.10803,0,0,.27764],"45":[.08319,.58283,0,0,.75623],"46":[0,.10803,0,0,.27764],"47":[.24982,.74947,0,0,.50181],"48":[0,.47534,0,0,.50181],"49":[0,.47534,0,0,.50181],"50":[0,.47534,0,0,.50181],"51":[.18906,.47534,0,0,.50181],"52":[.18906,.47534,0,0,.50181],"53":[.18906,.47534,0,0,.50181],"54":[0,.69141,0,0,.50181],"55":[.18906,.47534,0,0,.50181],"56":[0,.69141,0,0,.50181],"57":[.18906,.47534,0,0,.50181],"58":[0,.47534,0,0,.21606],"59":[.12604,.47534,0,0,.21606],"61":[-.13099,.36866,0,0,.75623],"63":[0,.69141,0,0,.36245],"65":[0,.69141,0,0,.7176],"66":[0,.69141,0,0,.88397],"67":[0,.69141,0,0,.61254],"68":[0,.69141,0,0,.83158],"69":[0,.69141,0,0,.66278],"70":[.12604,.69141,0,0,.61119],"71":[0,.69141,0,0,.78539],"72":[.06302,.69141,0,0,.7203],"73":[0,.69141,0,0,.55448],"74":[.12604,.69141,0,0,.55231],"75":[0,.69141,0,0,.66845],"76":[0,.69141,0,0,.66602],"77":[0,.69141,0,0,1.04953],"78":[0,.69141,0,0,.83212],"79":[0,.69141,0,0,.82699],"80":[.18906,.69141,0,0,.82753],"81":[.03781,.69141,0,0,.82699],"82":[0,.69141,0,0,.82807],"83":[0,.69141,0,0,.82861],"84":[0,.69141,0,0,.66899],"85":[0,.69141,0,0,.64576],"86":[0,.69141,0,0,.83131],"87":[0,.69141,0,0,1.04602],"88":[0,.69141,0,0,.71922],"89":[.18906,.69141,0,0,.83293],"90":[.12604,.69141,0,0,.60201],"91":[.24982,.74947,0,0,.27764],"93":[.24982,.74947,0,0,.27764],"94":[0,.69141,0,0,.49965],"97":[0,.47534,0,0,.50046],"98":[0,.69141,0,0,.51315],"99":[0,.47534,0,0,.38946],"100":[0,.62119,0,0,.49857],"101":[0,.47534,0,0,.40053],"102":[.18906,.69141,0,0,.32626],"103":[.18906,.47534,0,0,.5037],"104":[.18906,.69141,0,0,.52126],"105":[0,.69141,0,0,.27899],"106":[0,.69141,0,0,.28088],"107":[0,.69141,0,0,.38946],"108":[0,.69141,0,0,.27953],"109":[0,.47534,0,0,.76676],"110":[0,.47534,0,0,.52666],"111":[0,.47534,0,0,.48885],"112":[.18906,.52396,0,0,.50046],"113":[.18906,.47534,0,0,.48912],"114":[0,.47534,0,0,.38919],"115":[0,.47534,0,0,.44266],"116":[0,.62119,0,0,.33301],"117":[0,.47534,0,0,.5172],"118":[0,.52396,0,0,.5118],"119":[0,.52396,0,0,.77351],"120":[.18906,.47534,0,0,.38865],"121":[.18906,.47534,0,0,.49884],"122":[.18906,.47534,0,0,.39054],"160":[0,0,0,0,.25],"8216":[0,.69141,0,0,.21471],"8217":[0,.69141,0,0,.21471],"58112":[0,.62119,0,0,.49749],"58113":[0,.62119,0,0,.4983],"58114":[.18906,.69141,0,0,.33328],"58115":[.18906,.69141,0,0,.32923],"58116":[.18906,.47534,0,0,.50343],"58117":[0,.69141,0,0,.33301],"58118":[0,.62119,0,0,.33409],"58119":[0,.47534,0,0,.50073]},"Main-Bold":{"32":[0,0,0,0,.25],"33":[0,.69444,0,0,.35],"34":[0,.69444,0,0,.60278],"35":[.19444,.69444,0,0,.95833],"36":[.05556,.75,0,0,.575],"37":[.05556,.75,0,0,.95833],"38":[0,.69444,0,0,.89444],"39":[0,.69444,0,0,.31944],"40":[.25,.75,0,0,.44722],"41":[.25,.75,0,0,.44722],"42":[0,.75,0,0,.575],"43":[.13333,.63333,0,0,.89444],"44":[.19444,.15556,0,0,.31944],"45":[0,.44444,0,0,.38333],"46":[0,.15556,0,0,.31944],"47":[.25,.75,0,0,.575],"48":[0,.64444,0,0,.575],"49":[0,.64444,0,0,.575],"50":[0,.64444,0,0,.575],"51":[0,.64444,0,0,.575],"52":[0,.64444,0,0,.575],"53":[0,.64444,0,0,.575],"54":[0,.64444,0,0,.575],"55":[0,.64444,0,0,.575],"56":[0,.64444,0,0,.575],"57":[0,.64444,0,0,.575],"58":[0,.44444,0,0,.31944],"59":[.19444,.44444,0,0,.31944],"60":[.08556,.58556,0,0,.89444],"61":[-.10889,.39111,0,0,.89444],"62":[.08556,.58556,0,0,.89444],"63":[0,.69444,0,0,.54305],"64":[0,.69444,0,0,.89444],"65":[0,.68611,0,0,.86944],"66":[0,.68611,0,0,.81805],"67":[0,.68611,0,0,.83055],"68":[0,.68611,0,0,.88194],"69":[0,.68611,0,0,.75555],"70":[0,.68611,0,0,.72361],"71":[0,.68611,0,0,.90416],"72":[0,.68611,0,0,.9],"73":[0,.68611,0,0,.43611],"74":[0,.68611,0,0,.59444],"75":[0,.68611,0,0,.90138],"76":[0,.68611,0,0,.69166],"77":[0,.68611,0,0,1.09166],"78":[0,.68611,0,0,.9],"79":[0,.68611,0,0,.86388],"80":[0,.68611,0,0,.78611],"81":[.19444,.68611,0,0,.86388],"82":[0,.68611,0,0,.8625],"83":[0,.68611,0,0,.63889],"84":[0,.68611,0,0,.8],"85":[0,.68611,0,0,.88472],"86":[0,.68611,.01597,0,.86944],"87":[0,.68611,.01597,0,1.18888],"88":[0,.68611,0,0,.86944],"89":[0,.68611,.02875,0,.86944],"90":[0,.68611,0,0,.70277],"91":[.25,.75,0,0,.31944],"92":[.25,.75,0,0,.575],"93":[.25,.75,0,0,.31944],"94":[0,.69444,0,0,.575],"95":[.31,.13444,.03194,0,.575],"97":[0,.44444,0,0,.55902],"98":[0,.69444,0,0,.63889],"99":[0,.44444,0,0,.51111],"100":[0,.69444,0,0,.63889],"101":[0,.44444,0,0,.52708],"102":[0,.69444,.10903,0,.35139],"103":[.19444,.44444,.01597,0,.575],"104":[0,.69444,0,0,.63889],"105":[0,.69444,0,0,.31944],"106":[.19444,.69444,0,0,.35139],"107":[0,.69444,0,0,.60694],"108":[0,.69444,0,0,.31944],"109":[0,.44444,0,0,.95833],"110":[0,.44444,0,0,.63889],"111":[0,.44444,0,0,.575],"112":[.19444,.44444,0,0,.63889],"113":[.19444,.44444,0,0,.60694],"114":[0,.44444,0,0,.47361],"115":[0,.44444,0,0,.45361],"116":[0,.63492,0,0,.44722],"117":[0,.44444,0,0,.63889],"118":[0,.44444,.01597,0,.60694],"119":[0,.44444,.01597,0,.83055],"120":[0,.44444,0,0,.60694],"121":[.19444,.44444,.01597,0,.60694],"122":[0,.44444,0,0,.51111],"123":[.25,.75,0,0,.575],"124":[.25,.75,0,0,.31944],"125":[.25,.75,0,0,.575],"126":[.35,.34444,0,0,.575],"160":[0,0,0,0,.25],"163":[0,.69444,0,0,.86853],"168":[0,.69444,0,0,.575],"172":[0,.44444,0,0,.76666],"176":[0,.69444,0,0,.86944],"177":[.13333,.63333,0,0,.89444],"184":[.17014,0,0,0,.51111],"198":[0,.68611,0,0,1.04166],"215":[.13333,.63333,0,0,.89444],"216":[.04861,.73472,0,0,.89444],"223":[0,.69444,0,0,.59722],"230":[0,.44444,0,0,.83055],"247":[.13333,.63333,0,0,.89444],"248":[.09722,.54167,0,0,.575],"305":[0,.44444,0,0,.31944],"338":[0,.68611,0,0,1.16944],"339":[0,.44444,0,0,.89444],"567":[.19444,.44444,0,0,.35139],"710":[0,.69444,0,0,.575],"711":[0,.63194,0,0,.575],"713":[0,.59611,0,0,.575],"714":[0,.69444,0,0,.575],"715":[0,.69444,0,0,.575],"728":[0,.69444,0,0,.575],"729":[0,.69444,0,0,.31944],"730":[0,.69444,0,0,.86944],"732":[0,.69444,0,0,.575],"733":[0,.69444,0,0,.575],"915":[0,.68611,0,0,.69166],"916":[0,.68611,0,0,.95833],"920":[0,.68611,0,0,.89444],"923":[0,.68611,0,0,.80555],"926":[0,.68611,0,0,.76666],"928":[0,.68611,0,0,.9],"931":[0,.68611,0,0,.83055],"933":[0,.68611,0,0,.89444],"934":[0,.68611,0,0,.83055],"936":[0,.68611,0,0,.89444],"937":[0,.68611,0,0,.83055],"8211":[0,.44444,.03194,0,.575],"8212":[0,.44444,.03194,0,1.14999],"8216":[0,.69444,0,0,.31944],"8217":[0,.69444,0,0,.31944],"8220":[0,.69444,0,0,.60278],"8221":[0,.69444,0,0,.60278],"8224":[.19444,.69444,0,0,.51111],"8225":[.19444,.69444,0,0,.51111],"8242":[0,.55556,0,0,.34444],"8407":[0,.72444,.15486,0,.575],"8463":[0,.69444,0,0,.66759],"8465":[0,.69444,0,0,.83055],"8467":[0,.69444,0,0,.47361],"8472":[.19444,.44444,0,0,.74027],"8476":[0,.69444,0,0,.83055],"8501":[0,.69444,0,0,.70277],"8592":[-.10889,.39111,0,0,1.14999],"8593":[.19444,.69444,0,0,.575],"8594":[-.10889,.39111,0,0,1.14999],"8595":[.19444,.69444,0,0,.575],"8596":[-.10889,.39111,0,0,1.14999],"8597":[.25,.75,0,0,.575],"8598":[.19444,.69444,0,0,1.14999],"8599":[.19444,.69444,0,0,1.14999],"8600":[.19444,.69444,0,0,1.14999],"8601":[.19444,.69444,0,0,1.14999],"8636":[-.10889,.39111,0,0,1.14999],"8637":[-.10889,.39111,0,0,1.14999],"8640":[-.10889,.39111,0,0,1.14999],"8641":[-.10889,.39111,0,0,1.14999],"8656":[-.10889,.39111,0,0,1.14999],"8657":[.19444,.69444,0,0,.70277],"8658":[-.10889,.39111,0,0,1.14999],"8659":[.19444,.69444,0,0,.70277],"8660":[-.10889,.39111,0,0,1.14999],"8661":[.25,.75,0,0,.70277],"8704":[0,.69444,0,0,.63889],"8706":[0,.69444,.06389,0,.62847],"8707":[0,.69444,0,0,.63889],"8709":[.05556,.75,0,0,.575],"8711":[0,.68611,0,0,.95833],"8712":[.08556,.58556,0,0,.76666],"8715":[.08556,.58556,0,0,.76666],"8722":[.13333,.63333,0,0,.89444],"8723":[.13333,.63333,0,0,.89444],"8725":[.25,.75,0,0,.575],"8726":[.25,.75,0,0,.575],"8727":[-.02778,.47222,0,0,.575],"8728":[-.02639,.47361,0,0,.575],"8729":[-.02639,.47361,0,0,.575],"8730":[.18,.82,0,0,.95833],"8733":[0,.44444,0,0,.89444],"8734":[0,.44444,0,0,1.14999],"8736":[0,.69224,0,0,.72222],"8739":[.25,.75,0,0,.31944],"8741":[.25,.75,0,0,.575],"8743":[0,.55556,0,0,.76666],"8744":[0,.55556,0,0,.76666],"8745":[0,.55556,0,0,.76666],"8746":[0,.55556,0,0,.76666],"8747":[.19444,.69444,.12778,0,.56875],"8764":[-.10889,.39111,0,0,.89444],"8768":[.19444,.69444,0,0,.31944],"8771":[.00222,.50222,0,0,.89444],"8773":[.027,.638,0,0,.894],"8776":[.02444,.52444,0,0,.89444],"8781":[.00222,.50222,0,0,.89444],"8801":[.00222,.50222,0,0,.89444],"8804":[.19667,.69667,0,0,.89444],"8805":[.19667,.69667,0,0,.89444],"8810":[.08556,.58556,0,0,1.14999],"8811":[.08556,.58556,0,0,1.14999],"8826":[.08556,.58556,0,0,.89444],"8827":[.08556,.58556,0,0,.89444],"8834":[.08556,.58556,0,0,.89444],"8835":[.08556,.58556,0,0,.89444],"8838":[.19667,.69667,0,0,.89444],"8839":[.19667,.69667,0,0,.89444],"8846":[0,.55556,0,0,.76666],"8849":[.19667,.69667,0,0,.89444],"8850":[.19667,.69667,0,0,.89444],"8851":[0,.55556,0,0,.76666],"8852":[0,.55556,0,0,.76666],"8853":[.13333,.63333,0,0,.89444],"8854":[.13333,.63333,0,0,.89444],"8855":[.13333,.63333,0,0,.89444],"8856":[.13333,.63333,0,0,.89444],"8857":[.13333,.63333,0,0,.89444],"8866":[0,.69444,0,0,.70277],"8867":[0,.69444,0,0,.70277],"8868":[0,.69444,0,0,.89444],"8869":[0,.69444,0,0,.89444],"8900":[-.02639,.47361,0,0,.575],"8901":[-.02639,.47361,0,0,.31944],"8902":[-.02778,.47222,0,0,.575],"8968":[.25,.75,0,0,.51111],"8969":[.25,.75,0,0,.51111],"8970":[.25,.75,0,0,.51111],"8971":[.25,.75,0,0,.51111],"8994":[-.13889,.36111,0,0,1.14999],"8995":[-.13889,.36111,0,0,1.14999],"9651":[.19444,.69444,0,0,1.02222],"9657":[-.02778,.47222,0,0,.575],"9661":[.19444,.69444,0,0,1.02222],"9667":[-.02778,.47222,0,0,.575],"9711":[.19444,.69444,0,0,1.14999],"9824":[.12963,.69444,0,0,.89444],"9825":[.12963,.69444,0,0,.89444],"9826":[.12963,.69444,0,0,.89444],"9827":[.12963,.69444,0,0,.89444],"9837":[0,.75,0,0,.44722],"9838":[.19444,.69444,0,0,.44722],"9839":[.19444,.69444,0,0,.44722],"10216":[.25,.75,0,0,.44722],"10217":[.25,.75,0,0,.44722],"10815":[0,.68611,0,0,.9],"10927":[.19667,.69667,0,0,.89444],"10928":[.19667,.69667,0,0,.89444],"57376":[.19444,.69444,0,0,0]},"Main-BoldItalic":{"32":[0,0,0,0,.25],"33":[0,.69444,.11417,0,.38611],"34":[0,.69444,.07939,0,.62055],"35":[.19444,.69444,.06833,0,.94444],"37":[.05556,.75,.12861,0,.94444],"38":[0,.69444,.08528,0,.88555],"39":[0,.69444,.12945,0,.35555],"40":[.25,.75,.15806,0,.47333],"41":[.25,.75,.03306,0,.47333],"42":[0,.75,.14333,0,.59111],"43":[.10333,.60333,.03306,0,.88555],"44":[.19444,.14722,0,0,.35555],"45":[0,.44444,.02611,0,.41444],"46":[0,.14722,0,0,.35555],"47":[.25,.75,.15806,0,.59111],"48":[0,.64444,.13167,0,.59111],"49":[0,.64444,.13167,0,.59111],"50":[0,.64444,.13167,0,.59111],"51":[0,.64444,.13167,0,.59111],"52":[.19444,.64444,.13167,0,.59111],"53":[0,.64444,.13167,0,.59111],"54":[0,.64444,.13167,0,.59111],"55":[.19444,.64444,.13167,0,.59111],"56":[0,.64444,.13167,0,.59111],"57":[0,.64444,.13167,0,.59111],"58":[0,.44444,.06695,0,.35555],"59":[.19444,.44444,.06695,0,.35555],"61":[-.10889,.39111,.06833,0,.88555],"63":[0,.69444,.11472,0,.59111],"64":[0,.69444,.09208,0,.88555],"65":[0,.68611,0,0,.86555],"66":[0,.68611,.0992,0,.81666],"67":[0,.68611,.14208,0,.82666],"68":[0,.68611,.09062,0,.87555],"69":[0,.68611,.11431,0,.75666],"70":[0,.68611,.12903,0,.72722],"71":[0,.68611,.07347,0,.89527],"72":[0,.68611,.17208,0,.8961],"73":[0,.68611,.15681,0,.47166],"74":[0,.68611,.145,0,.61055],"75":[0,.68611,.14208,0,.89499],"76":[0,.68611,0,0,.69777],"77":[0,.68611,.17208,0,1.07277],"78":[0,.68611,.17208,0,.8961],"79":[0,.68611,.09062,0,.85499],"80":[0,.68611,.0992,0,.78721],"81":[.19444,.68611,.09062,0,.85499],"82":[0,.68611,.02559,0,.85944],"83":[0,.68611,.11264,0,.64999],"84":[0,.68611,.12903,0,.7961],"85":[0,.68611,.17208,0,.88083],"86":[0,.68611,.18625,0,.86555],"87":[0,.68611,.18625,0,1.15999],"88":[0,.68611,.15681,0,.86555],"89":[0,.68611,.19803,0,.86555],"90":[0,.68611,.14208,0,.70888],"91":[.25,.75,.1875,0,.35611],"93":[.25,.75,.09972,0,.35611],"94":[0,.69444,.06709,0,.59111],"95":[.31,.13444,.09811,0,.59111],"97":[0,.44444,.09426,0,.59111],"98":[0,.69444,.07861,0,.53222],"99":[0,.44444,.05222,0,.53222],"100":[0,.69444,.10861,0,.59111],"101":[0,.44444,.085,0,.53222],"102":[.19444,.69444,.21778,0,.4],"103":[.19444,.44444,.105,0,.53222],"104":[0,.69444,.09426,0,.59111],"105":[0,.69326,.11387,0,.35555],"106":[.19444,.69326,.1672,0,.35555],"107":[0,.69444,.11111,0,.53222],"108":[0,.69444,.10861,0,.29666],"109":[0,.44444,.09426,0,.94444],"110":[0,.44444,.09426,0,.64999],"111":[0,.44444,.07861,0,.59111],"112":[.19444,.44444,.07861,0,.59111],"113":[.19444,.44444,.105,0,.53222],"114":[0,.44444,.11111,0,.50167],"115":[0,.44444,.08167,0,.48694],"116":[0,.63492,.09639,0,.385],"117":[0,.44444,.09426,0,.62055],"118":[0,.44444,.11111,0,.53222],"119":[0,.44444,.11111,0,.76777],"120":[0,.44444,.12583,0,.56055],"121":[.19444,.44444,.105,0,.56166],"122":[0,.44444,.13889,0,.49055],"126":[.35,.34444,.11472,0,.59111],"160":[0,0,0,0,.25],"168":[0,.69444,.11473,0,.59111],"176":[0,.69444,0,0,.94888],"184":[.17014,0,0,0,.53222],"198":[0,.68611,.11431,0,1.02277],"216":[.04861,.73472,.09062,0,.88555],"223":[.19444,.69444,.09736,0,.665],"230":[0,.44444,.085,0,.82666],"248":[.09722,.54167,.09458,0,.59111],"305":[0,.44444,.09426,0,.35555],"338":[0,.68611,.11431,0,1.14054],"339":[0,.44444,.085,0,.82666],"567":[.19444,.44444,.04611,0,.385],"710":[0,.69444,.06709,0,.59111],"711":[0,.63194,.08271,0,.59111],"713":[0,.59444,.10444,0,.59111],"714":[0,.69444,.08528,0,.59111],"715":[0,.69444,0,0,.59111],"728":[0,.69444,.10333,0,.59111],"729":[0,.69444,.12945,0,.35555],"730":[0,.69444,0,0,.94888],"732":[0,.69444,.11472,0,.59111],"733":[0,.69444,.11472,0,.59111],"915":[0,.68611,.12903,0,.69777],"916":[0,.68611,0,0,.94444],"920":[0,.68611,.09062,0,.88555],"923":[0,.68611,0,0,.80666],"926":[0,.68611,.15092,0,.76777],"928":[0,.68611,.17208,0,.8961],"931":[0,.68611,.11431,0,.82666],"933":[0,.68611,.10778,0,.88555],"934":[0,.68611,.05632,0,.82666],"936":[0,.68611,.10778,0,.88555],"937":[0,.68611,.0992,0,.82666],"8211":[0,.44444,.09811,0,.59111],"8212":[0,.44444,.09811,0,1.18221],"8216":[0,.69444,.12945,0,.35555],"8217":[0,.69444,.12945,0,.35555],"8220":[0,.69444,.16772,0,.62055],"8221":[0,.69444,.07939,0,.62055]},"Main-Italic":{"32":[0,0,0,0,.25],"33":[0,.69444,.12417,0,.30667],"34":[0,.69444,.06961,0,.51444],"35":[.19444,.69444,.06616,0,.81777],"37":[.05556,.75,.13639,0,.81777],"38":[0,.69444,.09694,0,.76666],"39":[0,.69444,.12417,0,.30667],"40":[.25,.75,.16194,0,.40889],"41":[.25,.75,.03694,0,.40889],"42":[0,.75,.14917,0,.51111],"43":[.05667,.56167,.03694,0,.76666],"44":[.19444,.10556,0,0,.30667],"45":[0,.43056,.02826,0,.35778],"46":[0,.10556,0,0,.30667],"47":[.25,.75,.16194,0,.51111],"48":[0,.64444,.13556,0,.51111],"49":[0,.64444,.13556,0,.51111],"50":[0,.64444,.13556,0,.51111],"51":[0,.64444,.13556,0,.51111],"52":[.19444,.64444,.13556,0,.51111],"53":[0,.64444,.13556,0,.51111],"54":[0,.64444,.13556,0,.51111],"55":[.19444,.64444,.13556,0,.51111],"56":[0,.64444,.13556,0,.51111],"57":[0,.64444,.13556,0,.51111],"58":[0,.43056,.0582,0,.30667],"59":[.19444,.43056,.0582,0,.30667],"61":[-.13313,.36687,.06616,0,.76666],"63":[0,.69444,.1225,0,.51111],"64":[0,.69444,.09597,0,.76666],"65":[0,.68333,0,0,.74333],"66":[0,.68333,.10257,0,.70389],"67":[0,.68333,.14528,0,.71555],"68":[0,.68333,.09403,0,.755],"69":[0,.68333,.12028,0,.67833],"70":[0,.68333,.13305,0,.65277],"71":[0,.68333,.08722,0,.77361],"72":[0,.68333,.16389,0,.74333],"73":[0,.68333,.15806,0,.38555],"74":[0,.68333,.14028,0,.525],"75":[0,.68333,.14528,0,.76888],"76":[0,.68333,0,0,.62722],"77":[0,.68333,.16389,0,.89666],"78":[0,.68333,.16389,0,.74333],"79":[0,.68333,.09403,0,.76666],"80":[0,.68333,.10257,0,.67833],"81":[.19444,.68333,.09403,0,.76666],"82":[0,.68333,.03868,0,.72944],"83":[0,.68333,.11972,0,.56222],"84":[0,.68333,.13305,0,.71555],"85":[0,.68333,.16389,0,.74333],"86":[0,.68333,.18361,0,.74333],"87":[0,.68333,.18361,0,.99888],"88":[0,.68333,.15806,0,.74333],"89":[0,.68333,.19383,0,.74333],"90":[0,.68333,.14528,0,.61333],"91":[.25,.75,.1875,0,.30667],"93":[.25,.75,.10528,0,.30667],"94":[0,.69444,.06646,0,.51111],"95":[.31,.12056,.09208,0,.51111],"97":[0,.43056,.07671,0,.51111],"98":[0,.69444,.06312,0,.46],"99":[0,.43056,.05653,0,.46],"100":[0,.69444,.10333,0,.51111],"101":[0,.43056,.07514,0,.46],"102":[.19444,.69444,.21194,0,.30667],"103":[.19444,.43056,.08847,0,.46],"104":[0,.69444,.07671,0,.51111],"105":[0,.65536,.1019,0,.30667],"106":[.19444,.65536,.14467,0,.30667],"107":[0,.69444,.10764,0,.46],"108":[0,.69444,.10333,0,.25555],"109":[0,.43056,.07671,0,.81777],"110":[0,.43056,.07671,0,.56222],"111":[0,.43056,.06312,0,.51111],"112":[.19444,.43056,.06312,0,.51111],"113":[.19444,.43056,.08847,0,.46],"114":[0,.43056,.10764,0,.42166],"115":[0,.43056,.08208,0,.40889],"116":[0,.61508,.09486,0,.33222],"117":[0,.43056,.07671,0,.53666],"118":[0,.43056,.10764,0,.46],"119":[0,.43056,.10764,0,.66444],"120":[0,.43056,.12042,0,.46389],"121":[.19444,.43056,.08847,0,.48555],"122":[0,.43056,.12292,0,.40889],"126":[.35,.31786,.11585,0,.51111],"160":[0,0,0,0,.25],"168":[0,.66786,.10474,0,.51111],"176":[0,.69444,0,0,.83129],"184":[.17014,0,0,0,.46],"198":[0,.68333,.12028,0,.88277],"216":[.04861,.73194,.09403,0,.76666],"223":[.19444,.69444,.10514,0,.53666],"230":[0,.43056,.07514,0,.71555],"248":[.09722,.52778,.09194,0,.51111],"338":[0,.68333,.12028,0,.98499],"339":[0,.43056,.07514,0,.71555],"710":[0,.69444,.06646,0,.51111],"711":[0,.62847,.08295,0,.51111],"713":[0,.56167,.10333,0,.51111],"714":[0,.69444,.09694,0,.51111],"715":[0,.69444,0,0,.51111],"728":[0,.69444,.10806,0,.51111],"729":[0,.66786,.11752,0,.30667],"730":[0,.69444,0,0,.83129],"732":[0,.66786,.11585,0,.51111],"733":[0,.69444,.1225,0,.51111],"915":[0,.68333,.13305,0,.62722],"916":[0,.68333,0,0,.81777],"920":[0,.68333,.09403,0,.76666],"923":[0,.68333,0,0,.69222],"926":[0,.68333,.15294,0,.66444],"928":[0,.68333,.16389,0,.74333],"931":[0,.68333,.12028,0,.71555],"933":[0,.68333,.11111,0,.76666],"934":[0,.68333,.05986,0,.71555],"936":[0,.68333,.11111,0,.76666],"937":[0,.68333,.10257,0,.71555],"8211":[0,.43056,.09208,0,.51111],"8212":[0,.43056,.09208,0,1.02222],"8216":[0,.69444,.12417,0,.30667],"8217":[0,.69444,.12417,0,.30667],"8220":[0,.69444,.1685,0,.51444],"8221":[0,.69444,.06961,0,.51444],"8463":[0,.68889,0,0,.54028]},"Main-Regular":{"32":[0,0,0,0,.25],"33":[0,.69444,0,0,.27778],"34":[0,.69444,0,0,.5],"35":[.19444,.69444,0,0,.83334],"36":[.05556,.75,0,0,.5],"37":[.05556,.75,0,0,.83334],"38":[0,.69444,0,0,.77778],"39":[0,.69444,0,0,.27778],"40":[.25,.75,0,0,.38889],"41":[.25,.75,0,0,.38889],"42":[0,.75,0,0,.5],"43":[.08333,.58333,0,0,.77778],"44":[.19444,.10556,0,0,.27778],"45":[0,.43056,0,0,.33333],"46":[0,.10556,0,0,.27778],"47":[.25,.75,0,0,.5],"48":[0,.64444,0,0,.5],"49":[0,.64444,0,0,.5],"50":[0,.64444,0,0,.5],"51":[0,.64444,0,0,.5],"52":[0,.64444,0,0,.5],"53":[0,.64444,0,0,.5],"54":[0,.64444,0,0,.5],"55":[0,.64444,0,0,.5],"56":[0,.64444,0,0,.5],"57":[0,.64444,0,0,.5],"58":[0,.43056,0,0,.27778],"59":[.19444,.43056,0,0,.27778],"60":[.0391,.5391,0,0,.77778],"61":[-.13313,.36687,0,0,.77778],"62":[.0391,.5391,0,0,.77778],"63":[0,.69444,0,0,.47222],"64":[0,.69444,0,0,.77778],"65":[0,.68333,0,0,.75],"66":[0,.68333,0,0,.70834],"67":[0,.68333,0,0,.72222],"68":[0,.68333,0,0,.76389],"69":[0,.68333,0,0,.68056],"70":[0,.68333,0,0,.65278],"71":[0,.68333,0,0,.78472],"72":[0,.68333,0,0,.75],"73":[0,.68333,0,0,.36111],"74":[0,.68333,0,0,.51389],"75":[0,.68333,0,0,.77778],"76":[0,.68333,0,0,.625],"77":[0,.68333,0,0,.91667],"78":[0,.68333,0,0,.75],"79":[0,.68333,0,0,.77778],"80":[0,.68333,0,0,.68056],"81":[.19444,.68333,0,0,.77778],"82":[0,.68333,0,0,.73611],"83":[0,.68333,0,0,.55556],"84":[0,.68333,0,0,.72222],"85":[0,.68333,0,0,.75],"86":[0,.68333,.01389,0,.75],"87":[0,.68333,.01389,0,1.02778],"88":[0,.68333,0,0,.75],"89":[0,.68333,.025,0,.75],"90":[0,.68333,0,0,.61111],"91":[.25,.75,0,0,.27778],"92":[.25,.75,0,0,.5],"93":[.25,.75,0,0,.27778],"94":[0,.69444,0,0,.5],"95":[.31,.12056,.02778,0,.5],"97":[0,.43056,0,0,.5],"98":[0,.69444,0,0,.55556],"99":[0,.43056,0,0,.44445],"100":[0,.69444,0,0,.55556],"101":[0,.43056,0,0,.44445],"102":[0,.69444,.07778,0,.30556],"103":[.19444,.43056,.01389,0,.5],"104":[0,.69444,0,0,.55556],"105":[0,.66786,0,0,.27778],"106":[.19444,.66786,0,0,.30556],"107":[0,.69444,0,0,.52778],"108":[0,.69444,0,0,.27778],"109":[0,.43056,0,0,.83334],"110":[0,.43056,0,0,.55556],"111":[0,.43056,0,0,.5],"112":[.19444,.43056,0,0,.55556],"113":[.19444,.43056,0,0,.52778],"114":[0,.43056,0,0,.39167],"115":[0,.43056,0,0,.39445],"116":[0,.61508,0,0,.38889],"117":[0,.43056,0,0,.55556],"118":[0,.43056,.01389,0,.52778],"119":[0,.43056,.01389,0,.72222],"120":[0,.43056,0,0,.52778],"121":[.19444,.43056,.01389,0,.52778],"122":[0,.43056,0,0,.44445],"123":[.25,.75,0,0,.5],"124":[.25,.75,0,0,.27778],"125":[.25,.75,0,0,.5],"126":[.35,.31786,0,0,.5],"160":[0,0,0,0,.25],"163":[0,.69444,0,0,.76909],"167":[.19444,.69444,0,0,.44445],"168":[0,.66786,0,0,.5],"172":[0,.43056,0,0,.66667],"176":[0,.69444,0,0,.75],"177":[.08333,.58333,0,0,.77778],"182":[.19444,.69444,0,0,.61111],"184":[.17014,0,0,0,.44445],"198":[0,.68333,0,0,.90278],"215":[.08333,.58333,0,0,.77778],"216":[.04861,.73194,0,0,.77778],"223":[0,.69444,0,0,.5],"230":[0,.43056,0,0,.72222],"247":[.08333,.58333,0,0,.77778],"248":[.09722,.52778,0,0,.5],"305":[0,.43056,0,0,.27778],"338":[0,.68333,0,0,1.01389],"339":[0,.43056,0,0,.77778],"567":[.19444,.43056,0,0,.30556],"710":[0,.69444,0,0,.5],"711":[0,.62847,0,0,.5],"713":[0,.56778,0,0,.5],"714":[0,.69444,0,0,.5],"715":[0,.69444,0,0,.5],"728":[0,.69444,0,0,.5],"729":[0,.66786,0,0,.27778],"730":[0,.69444,0,0,.75],"732":[0,.66786,0,0,.5],"733":[0,.69444,0,0,.5],"915":[0,.68333,0,0,.625],"916":[0,.68333,0,0,.83334],"920":[0,.68333,0,0,.77778],"923":[0,.68333,0,0,.69445],"926":[0,.68333,0,0,.66667],"928":[0,.68333,0,0,.75],"931":[0,.68333,0,0,.72222],"933":[0,.68333,0,0,.77778],"934":[0,.68333,0,0,.72222],"936":[0,.68333,0,0,.77778],"937":[0,.68333,0,0,.72222],"8211":[0,.43056,.02778,0,.5],"8212":[0,.43056,.02778,0,1],"8216":[0,.69444,0,0,.27778],"8217":[0,.69444,0,0,.27778],"8220":[0,.69444,0,0,.5],"8221":[0,.69444,0,0,.5],"8224":[.19444,.69444,0,0,.44445],"8225":[.19444,.69444,0,0,.44445],"8230":[0,.123,0,0,1.172],"8242":[0,.55556,0,0,.275],"8407":[0,.71444,.15382,0,.5],"8463":[0,.68889,0,0,.54028],"8465":[0,.69444,0,0,.72222],"8467":[0,.69444,0,.11111,.41667],"8472":[.19444,.43056,0,.11111,.63646],"8476":[0,.69444,0,0,.72222],"8501":[0,.69444,0,0,.61111],"8592":[-.13313,.36687,0,0,1],"8593":[.19444,.69444,0,0,.5],"8594":[-.13313,.36687,0,0,1],"8595":[.19444,.69444,0,0,.5],"8596":[-.13313,.36687,0,0,1],"8597":[.25,.75,0,0,.5],"8598":[.19444,.69444,0,0,1],"8599":[.19444,.69444,0,0,1],"8600":[.19444,.69444,0,0,1],"8601":[.19444,.69444,0,0,1],"8614":[.011,.511,0,0,1],"8617":[.011,.511,0,0,1.126],"8618":[.011,.511,0,0,1.126],"8636":[-.13313,.36687,0,0,1],"8637":[-.13313,.36687,0,0,1],"8640":[-.13313,.36687,0,0,1],"8641":[-.13313,.36687,0,0,1],"8652":[.011,.671,0,0,1],"8656":[-.13313,.36687,0,0,1],"8657":[.19444,.69444,0,0,.61111],"8658":[-.13313,.36687,0,0,1],"8659":[.19444,.69444,0,0,.61111],"8660":[-.13313,.36687,0,0,1],"8661":[.25,.75,0,0,.61111],"8704":[0,.69444,0,0,.55556],"8706":[0,.69444,.05556,.08334,.5309],"8707":[0,.69444,0,0,.55556],"8709":[.05556,.75,0,0,.5],"8711":[0,.68333,0,0,.83334],"8712":[.0391,.5391,0,0,.66667],"8715":[.0391,.5391,0,0,.66667],"8722":[.08333,.58333,0,0,.77778],"8723":[.08333,.58333,0,0,.77778],"8725":[.25,.75,0,0,.5],"8726":[.25,.75,0,0,.5],"8727":[-.03472,.46528,0,0,.5],"8728":[-.05555,.44445,0,0,.5],"8729":[-.05555,.44445,0,0,.5],"8730":[.2,.8,0,0,.83334],"8733":[0,.43056,0,0,.77778],"8734":[0,.43056,0,0,1],"8736":[0,.69224,0,0,.72222],"8739":[.25,.75,0,0,.27778],"8741":[.25,.75,0,0,.5],"8743":[0,.55556,0,0,.66667],"8744":[0,.55556,0,0,.66667],"8745":[0,.55556,0,0,.66667],"8746":[0,.55556,0,0,.66667],"8747":[.19444,.69444,.11111,0,.41667],"8764":[-.13313,.36687,0,0,.77778],"8768":[.19444,.69444,0,0,.27778],"8771":[-.03625,.46375,0,0,.77778],"8773":[-.022,.589,0,0,.778],"8776":[-.01688,.48312,0,0,.77778],"8781":[-.03625,.46375,0,0,.77778],"8784":[-.133,.673,0,0,.778],"8801":[-.03625,.46375,0,0,.77778],"8804":[.13597,.63597,0,0,.77778],"8805":[.13597,.63597,0,0,.77778],"8810":[.0391,.5391,0,0,1],"8811":[.0391,.5391,0,0,1],"8826":[.0391,.5391,0,0,.77778],"8827":[.0391,.5391,0,0,.77778],"8834":[.0391,.5391,0,0,.77778],"8835":[.0391,.5391,0,0,.77778],"8838":[.13597,.63597,0,0,.77778],"8839":[.13597,.63597,0,0,.77778],"8846":[0,.55556,0,0,.66667],"8849":[.13597,.63597,0,0,.77778],"8850":[.13597,.63597,0,0,.77778],"8851":[0,.55556,0,0,.66667],"8852":[0,.55556,0,0,.66667],"8853":[.08333,.58333,0,0,.77778],"8854":[.08333,.58333,0,0,.77778],"8855":[.08333,.58333,0,0,.77778],"8856":[.08333,.58333,0,0,.77778],"8857":[.08333,.58333,0,0,.77778],"8866":[0,.69444,0,0,.61111],"8867":[0,.69444,0,0,.61111],"8868":[0,.69444,0,0,.77778],"8869":[0,.69444,0,0,.77778],"8872":[.249,.75,0,0,.867],"8900":[-.05555,.44445,0,0,.5],"8901":[-.05555,.44445,0,0,.27778],"8902":[-.03472,.46528,0,0,.5],"8904":[.005,.505,0,0,.9],"8942":[.03,.903,0,0,.278],"8943":[-.19,.313,0,0,1.172],"8945":[-.1,.823,0,0,1.282],"8968":[.25,.75,0,0,.44445],"8969":[.25,.75,0,0,.44445],"8970":[.25,.75,0,0,.44445],"8971":[.25,.75,0,0,.44445],"8994":[-.14236,.35764,0,0,1],"8995":[-.14236,.35764,0,0,1],"9136":[.244,.744,0,0,.412],"9137":[.244,.745,0,0,.412],"9651":[.19444,.69444,0,0,.88889],"9657":[-.03472,.46528,0,0,.5],"9661":[.19444,.69444,0,0,.88889],"9667":[-.03472,.46528,0,0,.5],"9711":[.19444,.69444,0,0,1],"9824":[.12963,.69444,0,0,.77778],"9825":[.12963,.69444,0,0,.77778],"9826":[.12963,.69444,0,0,.77778],"9827":[.12963,.69444,0,0,.77778],"9837":[0,.75,0,0,.38889],"9838":[.19444,.69444,0,0,.38889],"9839":[.19444,.69444,0,0,.38889],"10216":[.25,.75,0,0,.38889],"10217":[.25,.75,0,0,.38889],"10222":[.244,.744,0,0,.412],"10223":[.244,.745,0,0,.412],"10229":[.011,.511,0,0,1.609],"10230":[.011,.511,0,0,1.638],"10231":[.011,.511,0,0,1.859],"10232":[.024,.525,0,0,1.609],"10233":[.024,.525,0,0,1.638],"10234":[.024,.525,0,0,1.858],"10236":[.011,.511,0,0,1.638],"10815":[0,.68333,0,0,.75],"10927":[.13597,.63597,0,0,.77778],"10928":[.13597,.63597,0,0,.77778],"57376":[.19444,.69444,0,0,0]},"Math-BoldItalic":{"32":[0,0,0,0,.25],"48":[0,.44444,0,0,.575],"49":[0,.44444,0,0,.575],"50":[0,.44444,0,0,.575],"51":[.19444,.44444,0,0,.575],"52":[.19444,.44444,0,0,.575],"53":[.19444,.44444,0,0,.575],"54":[0,.64444,0,0,.575],"55":[.19444,.44444,0,0,.575],"56":[0,.64444,0,0,.575],"57":[.19444,.44444,0,0,.575],"65":[0,.68611,0,0,.86944],"66":[0,.68611,.04835,0,.8664],"67":[0,.68611,.06979,0,.81694],"68":[0,.68611,.03194,0,.93812],"69":[0,.68611,.05451,0,.81007],"70":[0,.68611,.15972,0,.68889],"71":[0,.68611,0,0,.88673],"72":[0,.68611,.08229,0,.98229],"73":[0,.68611,.07778,0,.51111],"74":[0,.68611,.10069,0,.63125],"75":[0,.68611,.06979,0,.97118],"76":[0,.68611,0,0,.75555],"77":[0,.68611,.11424,0,1.14201],"78":[0,.68611,.11424,0,.95034],"79":[0,.68611,.03194,0,.83666],"80":[0,.68611,.15972,0,.72309],"81":[.19444,.68611,0,0,.86861],"82":[0,.68611,.00421,0,.87235],"83":[0,.68611,.05382,0,.69271],"84":[0,.68611,.15972,0,.63663],"85":[0,.68611,.11424,0,.80027],"86":[0,.68611,.25555,0,.67778],"87":[0,.68611,.15972,0,1.09305],"88":[0,.68611,.07778,0,.94722],"89":[0,.68611,.25555,0,.67458],"90":[0,.68611,.06979,0,.77257],"97":[0,.44444,0,0,.63287],"98":[0,.69444,0,0,.52083],"99":[0,.44444,0,0,.51342],"100":[0,.69444,0,0,.60972],"101":[0,.44444,0,0,.55361],"102":[.19444,.69444,.11042,0,.56806],"103":[.19444,.44444,.03704,0,.5449],"104":[0,.69444,0,0,.66759],"105":[0,.69326,0,0,.4048],"106":[.19444,.69326,.0622,0,.47083],"107":[0,.69444,.01852,0,.6037],"108":[0,.69444,.0088,0,.34815],"109":[0,.44444,0,0,1.0324],"110":[0,.44444,0,0,.71296],"111":[0,.44444,0,0,.58472],"112":[.19444,.44444,0,0,.60092],"113":[.19444,.44444,.03704,0,.54213],"114":[0,.44444,.03194,0,.5287],"115":[0,.44444,0,0,.53125],"116":[0,.63492,0,0,.41528],"117":[0,.44444,0,0,.68102],"118":[0,.44444,.03704,0,.56666],"119":[0,.44444,.02778,0,.83148],"120":[0,.44444,0,0,.65903],"121":[.19444,.44444,.03704,0,.59028],"122":[0,.44444,.04213,0,.55509],"160":[0,0,0,0,.25],"915":[0,.68611,.15972,0,.65694],"916":[0,.68611,0,0,.95833],"920":[0,.68611,.03194,0,.86722],"923":[0,.68611,0,0,.80555],"926":[0,.68611,.07458,0,.84125],"928":[0,.68611,.08229,0,.98229],"931":[0,.68611,.05451,0,.88507],"933":[0,.68611,.15972,0,.67083],"934":[0,.68611,0,0,.76666],"936":[0,.68611,.11653,0,.71402],"937":[0,.68611,.04835,0,.8789],"945":[0,.44444,0,0,.76064],"946":[.19444,.69444,.03403,0,.65972],"947":[.19444,.44444,.06389,0,.59003],"948":[0,.69444,.03819,0,.52222],"949":[0,.44444,0,0,.52882],"950":[.19444,.69444,.06215,0,.50833],"951":[.19444,.44444,.03704,0,.6],"952":[0,.69444,.03194,0,.5618],"953":[0,.44444,0,0,.41204],"954":[0,.44444,0,0,.66759],"955":[0,.69444,0,0,.67083],"956":[.19444,.44444,0,0,.70787],"957":[0,.44444,.06898,0,.57685],"958":[.19444,.69444,.03021,0,.50833],"959":[0,.44444,0,0,.58472],"960":[0,.44444,.03704,0,.68241],"961":[.19444,.44444,0,0,.6118],"962":[.09722,.44444,.07917,0,.42361],"963":[0,.44444,.03704,0,.68588],"964":[0,.44444,.13472,0,.52083],"965":[0,.44444,.03704,0,.63055],"966":[.19444,.44444,0,0,.74722],"967":[.19444,.44444,0,0,.71805],"968":[.19444,.69444,.03704,0,.75833],"969":[0,.44444,.03704,0,.71782],"977":[0,.69444,0,0,.69155],"981":[.19444,.69444,0,0,.7125],"982":[0,.44444,.03194,0,.975],"1009":[.19444,.44444,0,0,.6118],"1013":[0,.44444,0,0,.48333],"57649":[0,.44444,0,0,.39352],"57911":[.19444,.44444,0,0,.43889]},"Math-Italic":{"32":[0,0,0,0,.25],"48":[0,.43056,0,0,.5],"49":[0,.43056,0,0,.5],"50":[0,.43056,0,0,.5],"51":[.19444,.43056,0,0,.5],"52":[.19444,.43056,0,0,.5],"53":[.19444,.43056,0,0,.5],"54":[0,.64444,0,0,.5],"55":[.19444,.43056,0,0,.5],"56":[0,.64444,0,0,.5],"57":[.19444,.43056,0,0,.5],"65":[0,.68333,0,.13889,.75],"66":[0,.68333,.05017,.08334,.75851],"67":[0,.68333,.07153,.08334,.71472],"68":[0,.68333,.02778,.05556,.82792],"69":[0,.68333,.05764,.08334,.7382],"70":[0,.68333,.13889,.08334,.64306],"71":[0,.68333,0,.08334,.78625],"72":[0,.68333,.08125,.05556,.83125],"73":[0,.68333,.07847,.11111,.43958],"74":[0,.68333,.09618,.16667,.55451],"75":[0,.68333,.07153,.05556,.84931],"76":[0,.68333,0,.02778,.68056],"77":[0,.68333,.10903,.08334,.97014],"78":[0,.68333,.10903,.08334,.80347],"79":[0,.68333,.02778,.08334,.76278],"80":[0,.68333,.13889,.08334,.64201],"81":[.19444,.68333,0,.08334,.79056],"82":[0,.68333,.00773,.08334,.75929],"83":[0,.68333,.05764,.08334,.6132],"84":[0,.68333,.13889,.08334,.58438],"85":[0,.68333,.10903,.02778,.68278],"86":[0,.68333,.22222,0,.58333],"87":[0,.68333,.13889,0,.94445],"88":[0,.68333,.07847,.08334,.82847],"89":[0,.68333,.22222,0,.58056],"90":[0,.68333,.07153,.08334,.68264],"97":[0,.43056,0,0,.52859],"98":[0,.69444,0,0,.42917],"99":[0,.43056,0,.05556,.43276],"100":[0,.69444,0,.16667,.52049],"101":[0,.43056,0,.05556,.46563],"102":[.19444,.69444,.10764,.16667,.48959],"103":[.19444,.43056,.03588,.02778,.47697],"104":[0,.69444,0,0,.57616],"105":[0,.65952,0,0,.34451],"106":[.19444,.65952,.05724,0,.41181],"107":[0,.69444,.03148,0,.5206],"108":[0,.69444,.01968,.08334,.29838],"109":[0,.43056,0,0,.87801],"110":[0,.43056,0,0,.60023],"111":[0,.43056,0,.05556,.48472],"112":[.19444,.43056,0,.08334,.50313],"113":[.19444,.43056,.03588,.08334,.44641],"114":[0,.43056,.02778,.05556,.45116],"115":[0,.43056,0,.05556,.46875],"116":[0,.61508,0,.08334,.36111],"117":[0,.43056,0,.02778,.57246],"118":[0,.43056,.03588,.02778,.48472],"119":[0,.43056,.02691,.08334,.71592],"120":[0,.43056,0,.02778,.57153],"121":[.19444,.43056,.03588,.05556,.49028],"122":[0,.43056,.04398,.05556,.46505],"160":[0,0,0,0,.25],"915":[0,.68333,.13889,.08334,.61528],"916":[0,.68333,0,.16667,.83334],"920":[0,.68333,.02778,.08334,.76278],"923":[0,.68333,0,.16667,.69445],"926":[0,.68333,.07569,.08334,.74236],"928":[0,.68333,.08125,.05556,.83125],"931":[0,.68333,.05764,.08334,.77986],"933":[0,.68333,.13889,.05556,.58333],"934":[0,.68333,0,.08334,.66667],"936":[0,.68333,.11,.05556,.61222],"937":[0,.68333,.05017,.08334,.7724],"945":[0,.43056,.0037,.02778,.6397],"946":[.19444,.69444,.05278,.08334,.56563],"947":[.19444,.43056,.05556,0,.51773],"948":[0,.69444,.03785,.05556,.44444],"949":[0,.43056,0,.08334,.46632],"950":[.19444,.69444,.07378,.08334,.4375],"951":[.19444,.43056,.03588,.05556,.49653],"952":[0,.69444,.02778,.08334,.46944],"953":[0,.43056,0,.05556,.35394],"954":[0,.43056,0,0,.57616],"955":[0,.69444,0,0,.58334],"956":[.19444,.43056,0,.02778,.60255],"957":[0,.43056,.06366,.02778,.49398],"958":[.19444,.69444,.04601,.11111,.4375],"959":[0,.43056,0,.05556,.48472],"960":[0,.43056,.03588,0,.57003],"961":[.19444,.43056,0,.08334,.51702],"962":[.09722,.43056,.07986,.08334,.36285],"963":[0,.43056,.03588,0,.57141],"964":[0,.43056,.1132,.02778,.43715],"965":[0,.43056,.03588,.02778,.54028],"966":[.19444,.43056,0,.08334,.65417],"967":[.19444,.43056,0,.05556,.62569],"968":[.19444,.69444,.03588,.11111,.65139],"969":[0,.43056,.03588,0,.62245],"977":[0,.69444,0,.08334,.59144],"981":[.19444,.69444,0,.08334,.59583],"982":[0,.43056,.02778,0,.82813],"1009":[.19444,.43056,0,.08334,.51702],"1013":[0,.43056,0,.05556,.4059],"57649":[0,.43056,0,.02778,.32246],"57911":[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{"32":[0,0,0,0,.25],"33":[0,.69444,0,0,.36667],"34":[0,.69444,0,0,.55834],"35":[.19444,.69444,0,0,.91667],"36":[.05556,.75,0,0,.55],"37":[.05556,.75,0,0,1.02912],"38":[0,.69444,0,0,.83056],"39":[0,.69444,0,0,.30556],"40":[.25,.75,0,0,.42778],"41":[.25,.75,0,0,.42778],"42":[0,.75,0,0,.55],"43":[.11667,.61667,0,0,.85556],"44":[.10556,.13056,0,0,.30556],"45":[0,.45833,0,0,.36667],"46":[0,.13056,0,0,.30556],"47":[.25,.75,0,0,.55],"48":[0,.69444,0,0,.55],"49":[0,.69444,0,0,.55],"50":[0,.69444,0,0,.55],"51":[0,.69444,0,0,.55],"52":[0,.69444,0,0,.55],"53":[0,.69444,0,0,.55],"54":[0,.69444,0,0,.55],"55":[0,.69444,0,0,.55],"56":[0,.69444,0,0,.55],"57":[0,.69444,0,0,.55],"58":[0,.45833,0,0,.30556],"59":[.10556,.45833,0,0,.30556],"61":[-.09375,.40625,0,0,.85556],"63":[0,.69444,0,0,.51945],"64":[0,.69444,0,0,.73334],"65":[0,.69444,0,0,.73334],"66":[0,.69444,0,0,.73334],"67":[0,.69444,0,0,.70278],"68":[0,.69444,0,0,.79445],"69":[0,.69444,0,0,.64167],"70":[0,.69444,0,0,.61111],"71":[0,.69444,0,0,.73334],"72":[0,.69444,0,0,.79445],"73":[0,.69444,0,0,.33056],"74":[0,.69444,0,0,.51945],"75":[0,.69444,0,0,.76389],"76":[0,.69444,0,0,.58056],"77":[0,.69444,0,0,.97778],"78":[0,.69444,0,0,.79445],"79":[0,.69444,0,0,.79445],"80":[0,.69444,0,0,.70278],"81":[.10556,.69444,0,0,.79445],"82":[0,.69444,0,0,.70278],"83":[0,.69444,0,0,.61111],"84":[0,.69444,0,0,.73334],"85":[0,.69444,0,0,.76389],"86":[0,.69444,.01528,0,.73334],"87":[0,.69444,.01528,0,1.03889],"88":[0,.69444,0,0,.73334],"89":[0,.69444,.0275,0,.73334],"90":[0,.69444,0,0,.67223],"91":[.25,.75,0,0,.34306],"93":[.25,.75,0,0,.34306],"94":[0,.69444,0,0,.55],"95":[.35,.10833,.03056,0,.55],"97":[0,.45833,0,0,.525],"98":[0,.69444,0,0,.56111],"99":[0,.45833,0,0,.48889],"100":[0,.69444,0,0,.56111],"101":[0,.45833,0,0,.51111],"102":[0,.69444,.07639,0,.33611],"103":[.19444,.45833,.01528,0,.55],"104":[0,.69444,0,0,.56111],"105":[0,.69444,0,0,.25556],"106":[.19444,.69444,0,0,.28611],"107":[0,.69444,0,0,.53056],"108":[0,.69444,0,0,.25556],"109":[0,.45833,0,0,.86667],"110":[0,.45833,0,0,.56111],"111":[0,.45833,0,0,.55],"112":[.19444,.45833,0,0,.56111],"113":[.19444,.45833,0,0,.56111],"114":[0,.45833,.01528,0,.37222],"115":[0,.45833,0,0,.42167],"116":[0,.58929,0,0,.40417],"117":[0,.45833,0,0,.56111],"118":[0,.45833,.01528,0,.5],"119":[0,.45833,.01528,0,.74445],"120":[0,.45833,0,0,.5],"121":[.19444,.45833,.01528,0,.5],"122":[0,.45833,0,0,.47639],"126":[.35,.34444,0,0,.55],"160":[0,0,0,0,.25],"168":[0,.69444,0,0,.55],"176":[0,.69444,0,0,.73334],"180":[0,.69444,0,0,.55],"184":[.17014,0,0,0,.48889],"305":[0,.45833,0,0,.25556],"567":[.19444,.45833,0,0,.28611],"710":[0,.69444,0,0,.55],"711":[0,.63542,0,0,.55],"713":[0,.63778,0,0,.55],"728":[0,.69444,0,0,.55],"729":[0,.69444,0,0,.30556],"730":[0,.69444,0,0,.73334],"732":[0,.69444,0,0,.55],"733":[0,.69444,0,0,.55],"915":[0,.69444,0,0,.58056],"916":[0,.69444,0,0,.91667],"920":[0,.69444,0,0,.85556],"923":[0,.69444,0,0,.67223],"926":[0,.69444,0,0,.73334],"928":[0,.69444,0,0,.79445],"931":[0,.69444,0,0,.79445],"933":[0,.69444,0,0,.85556],"934":[0,.69444,0,0,.79445],"936":[0,.69444,0,0,.85556],"937":[0,.69444,0,0,.79445],"8211":[0,.45833,.03056,0,.55],"8212":[0,.45833,.03056,0,1.10001],"8216":[0,.69444,0,0,.30556],"8217":[0,.69444,0,0,.30556],"8220":[0,.69444,0,0,.55834],"8221":[0,.69444,0,0,.55834]},"SansSerif-Italic":{"32":[0,0,0,0,.25],"33":[0,.69444,.05733,0,.31945],"34":[0,.69444,.00316,0,.5],"35":[.19444,.69444,.05087,0,.83334],"36":[.05556,.75,.11156,0,.5],"37":[.05556,.75,.03126,0,.83334],"38":[0,.69444,.03058,0,.75834],"39":[0,.69444,.07816,0,.27778],"40":[.25,.75,.13164,0,.38889],"41":[.25,.75,.02536,0,.38889],"42":[0,.75,.11775,0,.5],"43":[.08333,.58333,.02536,0,.77778],"44":[.125,.08333,0,0,.27778],"45":[0,.44444,.01946,0,.33333],"46":[0,.08333,0,0,.27778],"47":[.25,.75,.13164,0,.5],"48":[0,.65556,.11156,0,.5],"49":[0,.65556,.11156,0,.5],"50":[0,.65556,.11156,0,.5],"51":[0,.65556,.11156,0,.5],"52":[0,.65556,.11156,0,.5],"53":[0,.65556,.11156,0,.5],"54":[0,.65556,.11156,0,.5],"55":[0,.65556,.11156,0,.5],"56":[0,.65556,.11156,0,.5],"57":[0,.65556,.11156,0,.5],"58":[0,.44444,.02502,0,.27778],"59":[.125,.44444,.02502,0,.27778],"61":[-.13,.37,.05087,0,.77778],"63":[0,.69444,.11809,0,.47222],"64":[0,.69444,.07555,0,.66667],"65":[0,.69444,0,0,.66667],"66":[0,.69444,.08293,0,.66667],"67":[0,.69444,.11983,0,.63889],"68":[0,.69444,.07555,0,.72223],"69":[0,.69444,.11983,0,.59722],"70":[0,.69444,.13372,0,.56945],"71":[0,.69444,.11983,0,.66667],"72":[0,.69444,.08094,0,.70834],"73":[0,.69444,.13372,0,.27778],"74":[0,.69444,.08094,0,.47222],"75":[0,.69444,.11983,0,.69445],"76":[0,.69444,0,0,.54167],"77":[0,.69444,.08094,0,.875],"78":[0,.69444,.08094,0,.70834],"79":[0,.69444,.07555,0,.73611],"80":[0,.69444,.08293,0,.63889],"81":[.125,.69444,.07555,0,.73611],"82":[0,.69444,.08293,0,.64584],"83":[0,.69444,.09205,0,.55556],"84":[0,.69444,.13372,0,.68056],"85":[0,.69444,.08094,0,.6875],"86":[0,.69444,.1615,0,.66667],"87":[0,.69444,.1615,0,.94445],"88":[0,.69444,.13372,0,.66667],"89":[0,.69444,.17261,0,.66667],"90":[0,.69444,.11983,0,.61111],"91":[.25,.75,.15942,0,.28889],"93":[.25,.75,.08719,0,.28889],"94":[0,.69444,.0799,0,.5],"95":[.35,.09444,.08616,0,.5],"97":[0,.44444,.00981,0,.48056],"98":[0,.69444,.03057,0,.51667],"99":[0,.44444,.08336,0,.44445],"100":[0,.69444,.09483,0,.51667],"101":[0,.44444,.06778,0,.44445],"102":[0,.69444,.21705,0,.30556],"103":[.19444,.44444,.10836,0,.5],"104":[0,.69444,.01778,0,.51667],"105":[0,.67937,.09718,0,.23889],"106":[.19444,.67937,.09162,0,.26667],"107":[0,.69444,.08336,0,.48889],"108":[0,.69444,.09483,0,.23889],"109":[0,.44444,.01778,0,.79445],"110":[0,.44444,.01778,0,.51667],"111":[0,.44444,.06613,0,.5],"112":[.19444,.44444,.0389,0,.51667],"113":[.19444,.44444,.04169,0,.51667],"114":[0,.44444,.10836,0,.34167],"115":[0,.44444,.0778,0,.38333],"116":[0,.57143,.07225,0,.36111],"117":[0,.44444,.04169,0,.51667],"118":[0,.44444,.10836,0,.46111],"119":[0,.44444,.10836,0,.68334],"120":[0,.44444,.09169,0,.46111],"121":[.19444,.44444,.10836,0,.46111],"122":[0,.44444,.08752,0,.43472],"126":[.35,.32659,.08826,0,.5],"160":[0,0,0,0,.25],"168":[0,.67937,.06385,0,.5],"176":[0,.69444,0,0,.73752],"184":[.17014,0,0,0,.44445],"305":[0,.44444,.04169,0,.23889],"567":[.19444,.44444,.04169,0,.26667],"710":[0,.69444,.0799,0,.5],"711":[0,.63194,.08432,0,.5],"713":[0,.60889,.08776,0,.5],"714":[0,.69444,.09205,0,.5],"715":[0,.69444,0,0,.5],"728":[0,.69444,.09483,0,.5],"729":[0,.67937,.07774,0,.27778],"730":[0,.69444,0,0,.73752],"732":[0,.67659,.08826,0,.5],"733":[0,.69444,.09205,0,.5],"915":[0,.69444,.13372,0,.54167],"916":[0,.69444,0,0,.83334],"920":[0,.69444,.07555,0,.77778],"923":[0,.69444,0,0,.61111],"926":[0,.69444,.12816,0,.66667],"928":[0,.69444,.08094,0,.70834],"931":[0,.69444,.11983,0,.72222],"933":[0,.69444,.09031,0,.77778],"934":[0,.69444,.04603,0,.72222],"936":[0,.69444,.09031,0,.77778],"937":[0,.69444,.08293,0,.72222],"8211":[0,.44444,.08616,0,.5],"8212":[0,.44444,.08616,0,1],"8216":[0,.69444,.07816,0,.27778],"8217":[0,.69444,.07816,0,.27778],"8220":[0,.69444,.14205,0,.5],"8221":[0,.69444,.00316,0,.5]},"SansSerif-Regular":{"32":[0,0,0,0,.25],"33":[0,.69444,0,0,.31945],"34":[0,.69444,0,0,.5],"35":[.19444,.69444,0,0,.83334],"36":[.05556,.75,0,0,.5],"37":[.05556,.75,0,0,.83334],"38":[0,.69444,0,0,.75834],"39":[0,.69444,0,0,.27778],"40":[.25,.75,0,0,.38889],"41":[.25,.75,0,0,.38889],"42":[0,.75,0,0,.5],"43":[.08333,.58333,0,0,.77778],"44":[.125,.08333,0,0,.27778],"45":[0,.44444,0,0,.33333],"46":[0,.08333,0,0,.27778],"47":[.25,.75,0,0,.5],"48":[0,.65556,0,0,.5],"49":[0,.65556,0,0,.5],"50":[0,.65556,0,0,.5],"51":[0,.65556,0,0,.5],"52":[0,.65556,0,0,.5],"53":[0,.65556,0,0,.5],"54":[0,.65556,0,0,.5],"55":[0,.65556,0,0,.5],"56":[0,.65556,0,0,.5],"57":[0,.65556,0,0,.5],"58":[0,.44444,0,0,.27778],"59":[.125,.44444,0,0,.27778],"61":[-.13,.37,0,0,.77778],"63":[0,.69444,0,0,.47222],"64":[0,.69444,0,0,.66667],"65":[0,.69444,0,0,.66667],"66":[0,.69444,0,0,.66667],"67":[0,.69444,0,0,.63889],"68":[0,.69444,0,0,.72223],"69":[0,.69444,0,0,.59722],"70":[0,.69444,0,0,.56945],"71":[0,.69444,0,0,.66667],"72":[0,.69444,0,0,.70834],"73":[0,.69444,0,0,.27778],"74":[0,.69444,0,0,.47222],"75":[0,.69444,0,0,.69445],"76":[0,.69444,0,0,.54167],"77":[0,.69444,0,0,.875],"78":[0,.69444,0,0,.70834],"79":[0,.69444,0,0,.73611],"80":[0,.69444,0,0,.63889],"81":[.125,.69444,0,0,.73611],"82":[0,.69444,0,0,.64584],"83":[0,.69444,0,0,.55556],"84":[0,.69444,0,0,.68056],"85":[0,.69444,0,0,.6875],"86":[0,.69444,.01389,0,.66667],"87":[0,.69444,.01389,0,.94445],"88":[0,.69444,0,0,.66667],"89":[0,.69444,.025,0,.66667],"90":[0,.69444,0,0,.61111],"91":[.25,.75,0,0,.28889],"93":[.25,.75,0,0,.28889],"94":[0,.69444,0,0,.5],"95":[.35,.09444,.02778,0,.5],"97":[0,.44444,0,0,.48056],"98":[0,.69444,0,0,.51667],"99":[0,.44444,0,0,.44445],"100":[0,.69444,0,0,.51667],"101":[0,.44444,0,0,.44445],"102":[0,.69444,.06944,0,.30556],"103":[.19444,.44444,.01389,0,.5],"104":[0,.69444,0,0,.51667],"105":[0,.67937,0,0,.23889],"106":[.19444,.67937,0,0,.26667],"107":[0,.69444,0,0,.48889],"108":[0,.69444,0,0,.23889],"109":[0,.44444,0,0,.79445],"110":[0,.44444,0,0,.51667],"111":[0,.44444,0,0,.5],"112":[.19444,.44444,0,0,.51667],"113":[.19444,.44444,0,0,.51667],"114":[0,.44444,.01389,0,.34167],"115":[0,.44444,0,0,.38333],"116":[0,.57143,0,0,.36111],"117":[0,.44444,0,0,.51667],"118":[0,.44444,.01389,0,.46111],"119":[0,.44444,.01389,0,.68334],"120":[0,.44444,0,0,.46111],"121":[.19444,.44444,.01389,0,.46111],"122":[0,.44444,0,0,.43472],"126":[.35,.32659,0,0,.5],"160":[0,0,0,0,.25],"168":[0,.67937,0,0,.5],"176":[0,.69444,0,0,.66667],"184":[.17014,0,0,0,.44445],"305":[0,.44444,0,0,.23889],"567":[.19444,.44444,0,0,.26667],"710":[0,.69444,0,0,.5],"711":[0,.63194,0,0,.5],"713":[0,.60889,0,0,.5],"714":[0,.69444,0,0,.5],"715":[0,.69444,0,0,.5],"728":[0,.69444,0,0,.5],"729":[0,.67937,0,0,.27778],"730":[0,.69444,0,0,.66667],"732":[0,.67659,0,0,.5],"733":[0,.69444,0,0,.5],"915":[0,.69444,0,0,.54167],"916":[0,.69444,0,0,.83334],"920":[0,.69444,0,0,.77778],"923":[0,.69444,0,0,.61111],"926":[0,.69444,0,0,.66667],"928":[0,.69444,0,0,.70834],"931":[0,.69444,0,0,.72222],"933":[0,.69444,0,0,.77778],"934":[0,.69444,0,0,.72222],"936":[0,.69444,0,0,.77778],"937":[0,.69444,0,0,.72222],"8211":[0,.44444,.02778,0,.5],"8212":[0,.44444,.02778,0,1],"8216":[0,.69444,0,0,.27778],"8217":[0,.69444,0,0,.27778],"8220":[0,.69444,0,0,.5],"8221":[0,.69444,0,0,.5]},"Script-Regular":{"32":[0,0,0,0,.25],"65":[0,.7,.22925,0,.80253],"66":[0,.7,.04087,0,.90757],"67":[0,.7,.1689,0,.66619],"68":[0,.7,.09371,0,.77443],"69":[0,.7,.18583,0,.56162],"70":[0,.7,.13634,0,.89544],"71":[0,.7,.17322,0,.60961],"72":[0,.7,.29694,0,.96919],"73":[0,.7,.19189,0,.80907],"74":[.27778,.7,.19189,0,1.05159],"75":[0,.7,.31259,0,.91364],"76":[0,.7,.19189,0,.87373],"77":[0,.7,.15981,0,1.08031],"78":[0,.7,.3525,0,.9015],"79":[0,.7,.08078,0,.73787],"80":[0,.7,.08078,0,1.01262],"81":[0,.7,.03305,0,.88282],"82":[0,.7,.06259,0,.85],"83":[0,.7,.19189,0,.86767],"84":[0,.7,.29087,0,.74697],"85":[0,.7,.25815,0,.79996],"86":[0,.7,.27523,0,.62204],"87":[0,.7,.27523,0,.80532],"88":[0,.7,.26006,0,.94445],"89":[0,.7,.2939,0,.70961],"90":[0,.7,.24037,0,.8212],"160":[0,0,0,0,.25]},"Size1-Regular":{"32":[0,0,0,0,.25],"40":[.35001,.85,0,0,.45834],"41":[.35001,.85,0,0,.45834],"47":[.35001,.85,0,0,.57778],"91":[.35001,.85,0,0,.41667],"92":[.35001,.85,0,0,.57778],"93":[.35001,.85,0,0,.41667],"123":[.35001,.85,0,0,.58334],"125":[.35001,.85,0,0,.58334],"160":[0,0,0,0,.25],"710":[0,.72222,0,0,.55556],"732":[0,.72222,0,0,.55556],"770":[0,.72222,0,0,.55556],"771":[0,.72222,0,0,.55556],"8214":[-99e-5,.601,0,0,.77778],"8593":[1e-5,.6,0,0,.66667],"8595":[1e-5,.6,0,0,.66667],"8657":[1e-5,.6,0,0,.77778],"8659":[1e-5,.6,0,0,.77778],"8719":[.25001,.75,0,0,.94445],"8720":[.25001,.75,0,0,.94445],"8721":[.25001,.75,0,0,1.05556],"8730":[.35001,.85,0,0,1],"8739":[-.00599,.606,0,0,.33333],"8741":[-.00599,.606,0,0,.55556],"8747":[.30612,.805,.19445,0,.47222],"8748":[.306,.805,.19445,0,.47222],"8749":[.306,.805,.19445,0,.47222],"8750":[.30612,.805,.19445,0,.47222],"8896":[.25001,.75,0,0,.83334],"8897":[.25001,.75,0,0,.83334],"8898":[.25001,.75,0,0,.83334],"8899":[.25001,.75,0,0,.83334],"8968":[.35001,.85,0,0,.47222],"8969":[.35001,.85,0,0,.47222],"8970":[.35001,.85,0,0,.47222],"8971":[.35001,.85,0,0,.47222],"9168":[-99e-5,.601,0,0,.66667],"10216":[.35001,.85,0,0,.47222],"10217":[.35001,.85,0,0,.47222],"10752":[.25001,.75,0,0,1.11111],"10753":[.25001,.75,0,0,1.11111],"10754":[.25001,.75,0,0,1.11111],"10756":[.25001,.75,0,0,.83334],"10758":[.25001,.75,0,0,.83334]},"Size2-Regular":{"32":[0,0,0,0,.25],"40":[.65002,1.15,0,0,.59722],"41":[.65002,1.15,0,0,.59722],"47":[.65002,1.15,0,0,.81111],"91":[.65002,1.15,0,0,.47222],"92":[.65002,1.15,0,0,.81111],"93":[.65002,1.15,0,0,.47222],"123":[.65002,1.15,0,0,.66667],"125":[.65002,1.15,0,0,.66667],"160":[0,0,0,0,.25],"710":[0,.75,0,0,1],"732":[0,.75,0,0,1],"770":[0,.75,0,0,1],"771":[0,.75,0,0,1],"8719":[.55001,1.05,0,0,1.27778],"8720":[.55001,1.05,0,0,1.27778],"8721":[.55001,1.05,0,0,1.44445],"8730":[.65002,1.15,0,0,1],"8747":[.86225,1.36,.44445,0,.55556],"8748":[.862,1.36,.44445,0,.55556],"8749":[.862,1.36,.44445,0,.55556],"8750":[.86225,1.36,.44445,0,.55556],"8896":[.55001,1.05,0,0,1.11111],"8897":[.55001,1.05,0,0,1.11111],"8898":[.55001,1.05,0,0,1.11111],"8899":[.55001,1.05,0,0,1.11111],"8968":[.65002,1.15,0,0,.52778],"8969":[.65002,1.15,0,0,.52778],"8970":[.65002,1.15,0,0,.52778],"8971":[.65002,1.15,0,0,.52778],"10216":[.65002,1.15,0,0,.61111],"10217":[.65002,1.15,0,0,.61111],"10752":[.55001,1.05,0,0,1.51112],"10753":[.55001,1.05,0,0,1.51112],"10754":[.55001,1.05,0,0,1.51112],"10756":[.55001,1.05,0,0,1.11111],"10758":[.55001,1.05,0,0,1.11111]},"Size3-Regular":{"32":[0,0,0,0,.25],"40":[.95003,1.45,0,0,.73611],"41":[.95003,1.45,0,0,.73611],"47":[.95003,1.45,0,0,1.04445],"91":[.95003,1.45,0,0,.52778],"92":[.95003,1.45,0,0,1.04445],"93":[.95003,1.45,0,0,.52778],"123":[.95003,1.45,0,0,.75],"125":[.95003,1.45,0,0,.75],"160":[0,0,0,0,.25],"710":[0,.75,0,0,1.44445],"732":[0,.75,0,0,1.44445],"770":[0,.75,0,0,1.44445],"771":[0,.75,0,0,1.44445],"8730":[.95003,1.45,0,0,1],"8968":[.95003,1.45,0,0,.58334],"8969":[.95003,1.45,0,0,.58334],"8970":[.95003,1.45,0,0,.58334],"8971":[.95003,1.45,0,0,.58334],"10216":[.95003,1.45,0,0,.75],"10217":[.95003,1.45,0,0,.75]},"Size4-Regular":{"32":[0,0,0,0,.25],"40":[1.25003,1.75,0,0,.79167],"41":[1.25003,1.75,0,0,.79167],"47":[1.25003,1.75,0,0,1.27778],"91":[1.25003,1.75,0,0,.58334],"92":[1.25003,1.75,0,0,1.27778],"93":[1.25003,1.75,0,0,.58334],"123":[1.25003,1.75,0,0,.80556],"125":[1.25003,1.75,0,0,.80556],"160":[0,0,0,0,.25],"710":[0,.825,0,0,1.8889],"732":[0,.825,0,0,1.8889],"770":[0,.825,0,0,1.8889],"771":[0,.825,0,0,1.8889],"8730":[1.25003,1.75,0,0,1],"8968":[1.25003,1.75,0,0,.63889],"8969":[1.25003,1.75,0,0,.63889],"8970":[1.25003,1.75,0,0,.63889],"8971":[1.25003,1.75,0,0,.63889],"9115":[.64502,1.155,0,0,.875],"9116":[1e-5,.6,0,0,.875],"9117":[.64502,1.155,0,0,.875],"9118":[.64502,1.155,0,0,.875],"9119":[1e-5,.6,0,0,.875],"9120":[.64502,1.155,0,0,.875],"9121":[.64502,1.155,0,0,.66667],"9122":[-99e-5,.601,0,0,.66667],"9123":[.64502,1.155,0,0,.66667],"9124":[.64502,1.155,0,0,.66667],"9125":[-99e-5,.601,0,0,.66667],"9126":[.64502,1.155,0,0,.66667],"9127":[1e-5,.9,0,0,.88889],"9128":[.65002,1.15,0,0,.88889],"9129":[.90001,0,0,0,.88889],"9130":[0,.3,0,0,.88889],"9131":[1e-5,.9,0,0,.88889],"9132":[.65002,1.15,0,0,.88889],"9133":[.90001,0,0,0,.88889],"9143":[.88502,.915,0,0,1.05556],"10216":[1.25003,1.75,0,0,.80556],"10217":[1.25003,1.75,0,0,.80556],"57344":[-.00499,.605,0,0,1.05556],"57345":[-.00499,.605,0,0,1.05556],"57680":[0,.12,0,0,.45],"57681":[0,.12,0,0,.45],"57682":[0,.12,0,0,.45],"57683":[0,.12,0,0,.45]},"Typewriter-Regular":{"32":[0,0,0,0,.525],"33":[0,.61111,0,0,.525],"34":[0,.61111,0,0,.525],"35":[0,.61111,0,0,.525],"36":[.08333,.69444,0,0,.525],"37":[.08333,.69444,0,0,.525],"38":[0,.61111,0,0,.525],"39":[0,.61111,0,0,.525],"40":[.08333,.69444,0,0,.525],"41":[.08333,.69444,0,0,.525],"42":[0,.52083,0,0,.525],"43":[-.08056,.53055,0,0,.525],"44":[.13889,.125,0,0,.525],"45":[-.08056,.53055,0,0,.525],"46":[0,.125,0,0,.525],"47":[.08333,.69444,0,0,.525],"48":[0,.61111,0,0,.525],"49":[0,.61111,0,0,.525],"50":[0,.61111,0,0,.525],"51":[0,.61111,0,0,.525],"52":[0,.61111,0,0,.525],"53":[0,.61111,0,0,.525],"54":[0,.61111,0,0,.525],"55":[0,.61111,0,0,.525],"56":[0,.61111,0,0,.525],"57":[0,.61111,0,0,.525],"58":[0,.43056,0,0,.525],"59":[.13889,.43056,0,0,.525],"60":[-.05556,.55556,0,0,.525],"61":[-.19549,.41562,0,0,.525],"62":[-.05556,.55556,0,0,.525],"63":[0,.61111,0,0,.525],"64":[0,.61111,0,0,.525],"65":[0,.61111,0,0,.525],"66":[0,.61111,0,0,.525],"67":[0,.61111,0,0,.525],"68":[0,.61111,0,0,.525],"69":[0,.61111,0,0,.525],"70":[0,.61111,0,0,.525],"71":[0,.61111,0,0,.525],"72":[0,.61111,0,0,.525],"73":[0,.61111,0,0,.525],"74":[0,.61111,0,0,.525],"75":[0,.61111,0,0,.525],"76":[0,.61111,0,0,.525],"77":[0,.61111,0,0,.525],"78":[0,.61111,0,0,.525],"79":[0,.61111,0,0,.525],"80":[0,.61111,0,0,.525],"81":[.13889,.61111,0,0,.525],"82":[0,.61111,0,0,.525],"83":[0,.61111,0,0,.525],"84":[0,.61111,0,0,.525],"85":[0,.61111,0,0,.525],"86":[0,.61111,0,0,.525],"87":[0,.61111,0,0,.525],"88":[0,.61111,0,0,.525],"89":[0,.61111,0,0,.525],"90":[0,.61111,0,0,.525],"91":[.08333,.69444,0,0,.525],"92":[.08333,.69444,0,0,.525],"93":[.08333,.69444,0,0,.525],"94":[0,.61111,0,0,.525],"95":[.09514,0,0,0,.525],"96":[0,.61111,0,0,.525],"97":[0,.43056,0,0,.525],"98":[0,.61111,0,0,.525],"99":[0,.43056,0,0,.525],"100":[0,.61111,0,0,.525],"101":[0,.43056,0,0,.525],"102":[0,.61111,0,0,.525],"103":[.22222,.43056,0,0,.525],"104":[0,.61111,0,0,.525],"105":[0,.61111,0,0,.525],"106":[.22222,.61111,0,0,.525],"107":[0,.61111,0,0,.525],"108":[0,.61111,0,0,.525],"109":[0,.43056,0,0,.525],"110":[0,.43056,0,0,.525],"111":[0,.43056,0,0,.525],"112":[.22222,.43056,0,0,.525],"113":[.22222,.43056,0,0,.525],"114":[0,.43056,0,0,.525],"115":[0,.43056,0,0,.525],"116":[0,.55358,0,0,.525],"117":[0,.43056,0,0,.525],"118":[0,.43056,0,0,.525],"119":[0,.43056,0,0,.525],"120":[0,.43056,0,0,.525],"121":[.22222,.43056,0,0,.525],"122":[0,.43056,0,0,.525],"123":[.08333,.69444,0,0,.525],"124":[.08333,.69444,0,0,.525],"125":[.08333,.69444,0,0,.525],"126":[0,.61111,0,0,.525],"127":[0,.61111,0,0,.525],"160":[0,0,0,0,.525],"176":[0,.61111,0,0,.525],"184":[.19445,0,0,0,.525],"305":[0,.43056,0,0,.525],"567":[.22222,.43056,0,0,.525],"711":[0,.56597,0,0,.525],"713":[0,.56555,0,0,.525],"714":[0,.61111,0,0,.525],"715":[0,.61111,0,0,.525],"728":[0,.61111,0,0,.525],"730":[0,.61111,0,0,.525],"770":[0,.61111,0,0,.525],"771":[0,.61111,0,0,.525],"776":[0,.61111,0,0,.525],"915":[0,.61111,0,0,.525],"916":[0,.61111,0,0,.525],"920":[0,.61111,0,0,.525],"923":[0,.61111,0,0,.525],"926":[0,.61111,0,0,.525],"928":[0,.61111,0,0,.525],"931":[0,.61111,0,0,.525],"933":[0,.61111,0,0,.525],"934":[0,.61111,0,0,.525],"936":[0,.61111,0,0,.525],"937":[0,.61111,0,0,.525],"8216":[0,.61111,0,0,.525],"8217":[0,.61111,0,0,.525],"8242":[0,.61111,0,0,.525],"9251":[.11111,.21944,0,0,.525]}},tn={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},hr={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"};function Ir(b,l){It[b]=l}function rn(b,l,c){if(!It[l])throw new Error("Font metrics not found for font: "+l+".");var f=b.charCodeAt(0),p=It[l][f];if(!p&&b[0]in hr&&(f=hr[b[0]].charCodeAt(0),p=It[l][f]),!p&&c==="text"&&He(f)&&(p=It[l][77]),p)return{depth:p[0],height:p[1],italic:p[2],skew:p[3],width:p[4]}}var Tr={};function Un(b){var l;if(b>=5?l=0:b>=3?l=1:l=2,!Tr[l]){var c=Tr[l]={cssEmPerMu:tn.quad[l]/18};for(var f in tn)tn.hasOwnProperty(f)&&(c[f]=tn[f][l])}return Tr[l]}var Si=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Kn=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Jn=function(l,c){return c.size<2?l:Si[l-1][c.size-1]},Xn=function(){function b(c){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=c.style,this.color=c.color,this.size=c.size||b.BASESIZE,this.textSize=c.textSize||this.size,this.phantom=!!c.phantom,this.font=c.font||"",this.fontFamily=c.fontFamily||"",this.fontWeight=c.fontWeight||"",this.fontShape=c.fontShape||"",this.sizeMultiplier=Kn[this.size-1],this.maxSize=c.maxSize,this.minRuleThickness=c.minRuleThickness,this._fontMetrics=void 0}var l=b.prototype;return l.extend=function(f){var p={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var v in f)f.hasOwnProperty(v)&&(p[v]=f[v]);return new b(p)},l.havingStyle=function(f){return this.style===f?this:this.extend({style:f,size:Jn(this.textSize,f)})},l.havingCrampedStyle=function(){return this.havingStyle(this.style.cramp())},l.havingSize=function(f){return this.size===f&&this.textSize===f?this:this.extend({style:this.style.text(),size:f,textSize:f,sizeMultiplier:Kn[f-1]})},l.havingBaseStyle=function(f){f=f||this.style.text();var p=Jn(b.BASESIZE,f);return this.size===p&&this.textSize===b.BASESIZE&&this.style===f?this:this.extend({style:f,size:p})},l.havingBaseSizing=function(){var f;switch(this.style.id){case 4:case 5:f=3;break;case 6:case 7:f=1;break;default:f=6}return this.extend({style:this.style.text(),size:f})},l.withColor=function(f){return this.extend({color:f})},l.withPhantom=function(){return this.extend({phantom:!0})},l.withFont=function(f){return this.extend({font:f})},l.withTextFontFamily=function(f){return this.extend({fontFamily:f,font:""})},l.withTextFontWeight=function(f){return this.extend({fontWeight:f,font:""})},l.withTextFontShape=function(f){return this.extend({fontShape:f,font:""})},l.sizingClasses=function(f){return f.size!==this.size?["sizing","reset-size"+f.size,"size"+this.size]:[]},l.baseSizingClasses=function(){return this.size!==b.BASESIZE?["sizing","reset-size"+this.size,"size"+b.BASESIZE]:[]},l.fontMetrics=function(){return this._fontMetrics||(this._fontMetrics=Un(this.size)),this._fontMetrics},l.getColor=function(){return this.phantom?"transparent":this.color},b}();Xn.BASESIZE=6;var el=Xn,co={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},tl={ex:!0,em:!0,mu:!0},fa=function(l){return typeof l!="string"&&(l=l.unit),l in co||l in tl||l==="ex"},et=function(l,c){var f;if(l.unit in co)f=co[l.unit]/c.fontMetrics().ptPerEm/c.sizeMultiplier;else if(l.unit==="mu")f=c.fontMetrics().cssEmPerMu;else{var p;if(c.style.isTight()?p=c.havingStyle(c.style.text()):p=c,l.unit==="ex")f=p.fontMetrics().xHeight;else if(l.unit==="em")f=p.fontMetrics().quad;else throw new o("Invalid unit: '"+l.unit+"'");p!==c&&(f*=p.sizeMultiplier/c.sizeMultiplier)}return Math.min(l.number*f,c.maxSize)},q=function(l){return+l.toFixed(4)+"em"},pe=function(l){return l.filter(function(c){return c}).join(" ")},Ce=function(l,c,f){if(this.classes=l||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=f||{},c){c.style.isTight()&&this.classes.push("mtight");var p=c.getColor();p&&(this.style.color=p)}},je=function(l){var c=document.createElement(l);c.className=pe(this.classes);for(var f in this.style)this.style.hasOwnProperty(f)&&(c.style[f]=this.style[f]);for(var p in this.attributes)this.attributes.hasOwnProperty(p)&&c.setAttribute(p,this.attributes[p]);for(var v=0;v<this.children.length;v++)c.appendChild(this.children[v].toNode());return c},Ie=function(l){var c="<"+l;this.classes.length&&(c+=' class="'+N.escape(pe(this.classes))+'"');var f="";for(var p in this.style)this.style.hasOwnProperty(p)&&(f+=N.hyphenate(p)+":"+this.style[p]+";");f&&(c+=' style="'+N.escape(f)+'"');for(var v in this.attributes)this.attributes.hasOwnProperty(v)&&(c+=" "+v+'="'+N.escape(this.attributes[v])+'"');c+=">";for(var x=0;x<this.children.length;x++)c+=this.children[x].toMarkup();return c+="</"+l+">",c},at=function(){function b(c,f,p,v){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,Ce.call(this,c,p,v),this.children=f||[]}var l=b.prototype;return l.setAttribute=function(f,p){this.attributes[f]=p},l.hasClass=function(f){return N.contains(this.classes,f)},l.toNode=function(){return je.call(this,"span")},l.toMarkup=function(){return Ie.call(this,"span")},b}(),Ct=function(){function b(c,f,p,v){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,Ce.call(this,f,v),this.children=p||[],this.setAttribute("href",c)}var l=b.prototype;return l.setAttribute=function(f,p){this.attributes[f]=p},l.hasClass=function(f){return N.contains(this.classes,f)},l.toNode=function(){return je.call(this,"a")},l.toMarkup=function(){return Ie.call(this,"a")},b}(),Sn=function(){function b(c,f,p){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=f,this.src=c,this.classes=["mord"],this.style=p}var l=b.prototype;return l.hasClass=function(f){return N.contains(this.classes,f)},l.toNode=function(){var f=document.createElement("img");f.src=this.src,f.alt=this.alt,f.className="mord";for(var p in this.style)this.style.hasOwnProperty(p)&&(f.style[p]=this.style[p]);return f},l.toMarkup=function(){var f="<img  src='"+this.src+" 'alt='"+this.alt+"' ",p="";for(var v in this.style)this.style.hasOwnProperty(v)&&(p+=N.hyphenate(v)+":"+this.style[v]+";");return p&&(f+=' style="'+N.escape(p)+'"'),f+="'/>",f},b}(),ha={\u00EE:"\u0131\u0302",\u00EF:"\u0131\u0308",\u00ED:"\u0131\u0301",\u00EC:"\u0131\u0300"},ut=function(){function b(c,f,p,v,x,S,E,z){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=c,this.height=f||0,this.depth=p||0,this.italic=v||0,this.skew=x||0,this.width=S||0,this.classes=E||[],this.style=z||{},this.maxFontSize=0;var P=ot(this.text.charCodeAt(0));P&&this.classes.push(P+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=ha[this.text])}var l=b.prototype;return l.hasClass=function(f){return N.contains(this.classes,f)},l.toNode=function(){var f=document.createTextNode(this.text),p=null;this.italic>0&&(p=document.createElement("span"),p.style.marginRight=q(this.italic)),this.classes.length>0&&(p=p||document.createElement("span"),p.className=pe(this.classes));for(var v in this.style)this.style.hasOwnProperty(v)&&(p=p||document.createElement("span"),p.style[v]=this.style[v]);return p?(p.appendChild(f),p):f},l.toMarkup=function(){var f=!1,p="<span";this.classes.length&&(f=!0,p+=' class="',p+=N.escape(pe(this.classes)),p+='"');var v="";this.italic>0&&(v+="margin-right:"+this.italic+"em;");for(var x in this.style)this.style.hasOwnProperty(x)&&(v+=N.hyphenate(x)+":"+this.style[x]+";");v&&(f=!0,p+=' style="'+N.escape(v)+'"');var S=N.escape(this.text);return f?(p+=">",p+=S,p+="</span>",p):S},b}(),pr=function(){function b(c,f){this.children=void 0,this.attributes=void 0,this.children=c||[],this.attributes=f||{}}var l=b.prototype;return l.toNode=function(){var f="http://www.w3.org/2000/svg",p=document.createElementNS(f,"svg");for(var v in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,v)&&p.setAttribute(v,this.attributes[v]);for(var x=0;x<this.children.length;x++)p.appendChild(this.children[x].toNode());return p},l.toMarkup=function(){var f='<svg xmlns="http://www.w3.org/2000/svg"';for(var p in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,p)&&(f+=" "+p+"='"+this.attributes[p]+"'");f+=">";for(var v=0;v<this.children.length;v++)f+=this.children[v].toMarkup();return f+="</svg>",f},b}(),dr=function(){function b(c,f){this.pathName=void 0,this.alternate=void 0,this.pathName=c,this.alternate=f}var l=b.prototype;return l.toNode=function(){var f="http://www.w3.org/2000/svg",p=document.createElementNS(f,"path");return this.alternate?p.setAttribute("d",this.alternate):p.setAttribute("d",kn[this.pathName]),p},l.toMarkup=function(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+kn[this.pathName]+"'/>"},b}(),Fr=function(){function b(c){this.attributes=void 0,this.attributes=c||{}}var l=b.prototype;return l.toNode=function(){var f="http://www.w3.org/2000/svg",p=document.createElementNS(f,"line");for(var v in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,v)&&p.setAttribute(v,this.attributes[v]);return p},l.toMarkup=function(){var f="<line";for(var p in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,p)&&(f+=" "+p+"='"+this.attributes[p]+"'");return f+="/>",f},b}();function pa(b){if(b instanceof ut)return b;throw new Error("Expected symbolNode but got "+String(b)+".")}function fo(b){if(b instanceof at)return b;throw new Error("Expected span<HtmlDomNode> but got "+String(b)+".")}var Ai={bin:1,close:1,inner:1,open:1,punct:1,rel:1},tg={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},da={math:{},text:{}},nt=da;function g(b,l,c,f,p,v){da[b][p]={font:l,group:c,replace:f},v&&f&&(da[b][f]=da[b][p])}var w="math",te="text",M="main",R="ams",tt="accent-token",de="bin",Ft="close",Mi="inner",Me="mathord",ct="op-token",rr="open",ma="punct",F="rel",nn="spacing",j="textord";g(w,M,F,"\u2261","\\equiv",!0),g(w,M,F,"\u227A","\\prec",!0),g(w,M,F,"\u227B","\\succ",!0),g(w,M,F,"\u223C","\\sim",!0),g(w,M,F,"\u22A5","\\perp"),g(w,M,F,"\u2AAF","\\preceq",!0),g(w,M,F,"\u2AB0","\\succeq",!0),g(w,M,F,"\u2243","\\simeq",!0),g(w,M,F,"\u2223","\\mid",!0),g(w,M,F,"\u226A","\\ll",!0),g(w,M,F,"\u226B","\\gg",!0),g(w,M,F,"\u224D","\\asymp",!0),g(w,M,F,"\u2225","\\parallel"),g(w,M,F,"\u22C8","\\bowtie",!0),g(w,M,F,"\u2323","\\smile",!0),g(w,M,F,"\u2291","\\sqsubseteq",!0),g(w,M,F,"\u2292","\\sqsupseteq",!0),g(w,M,F,"\u2250","\\doteq",!0),g(w,M,F,"\u2322","\\frown",!0),g(w,M,F,"\u220B","\\ni",!0),g(w,M,F,"\u221D","\\propto",!0),g(w,M,F,"\u22A2","\\vdash",!0),g(w,M,F,"\u22A3","\\dashv",!0),g(w,M,F,"\u220B","\\owns"),g(w,M,ma,".","\\ldotp"),g(w,M,ma,"\u22C5","\\cdotp"),g(w,M,j,"#","\\#"),g(te,M,j,"#","\\#"),g(w,M,j,"&","\\&"),g(te,M,j,"&","\\&"),g(w,M,j,"\u2135","\\aleph",!0),g(w,M,j,"\u2200","\\forall",!0),g(w,M,j,"\u210F","\\hbar",!0),g(w,M,j,"\u2203","\\exists",!0),g(w,M,j,"\u2207","\\nabla",!0),g(w,M,j,"\u266D","\\flat",!0),g(w,M,j,"\u2113","\\ell",!0),g(w,M,j,"\u266E","\\natural",!0),g(w,M,j,"\u2663","\\clubsuit",!0),g(w,M,j,"\u2118","\\wp",!0),g(w,M,j,"\u266F","\\sharp",!0),g(w,M,j,"\u2662","\\diamondsuit",!0),g(w,M,j,"\u211C","\\Re",!0),g(w,M,j,"\u2661","\\heartsuit",!0),g(w,M,j,"\u2111","\\Im",!0),g(w,M,j,"\u2660","\\spadesuit",!0),g(w,M,j,"\xA7","\\S",!0),g(te,M,j,"\xA7","\\S"),g(w,M,j,"\xB6","\\P",!0),g(te,M,j,"\xB6","\\P"),g(w,M,j,"\u2020","\\dag"),g(te,M,j,"\u2020","\\dag"),g(te,M,j,"\u2020","\\textdagger"),g(w,M,j,"\u2021","\\ddag"),g(te,M,j,"\u2021","\\ddag"),g(te,M,j,"\u2021","\\textdaggerdbl"),g(w,M,Ft,"\u23B1","\\rmoustache",!0),g(w,M,rr,"\u23B0","\\lmoustache",!0),g(w,M,Ft,"\u27EF","\\rgroup",!0),g(w,M,rr,"\u27EE","\\lgroup",!0),g(w,M,de,"\u2213","\\mp",!0),g(w,M,de,"\u2296","\\ominus",!0),g(w,M,de,"\u228E","\\uplus",!0),g(w,M,de,"\u2293","\\sqcap",!0),g(w,M,de,"\u2217","\\ast"),g(w,M,de,"\u2294","\\sqcup",!0),g(w,M,de,"\u25EF","\\bigcirc",!0),g(w,M,de,"\u2219","\\bullet",!0),g(w,M,de,"\u2021","\\ddagger"),g(w,M,de,"\u2240","\\wr",!0),g(w,M,de,"\u2A3F","\\amalg"),g(w,M,de,"&","\\And"),g(w,M,F,"\u27F5","\\longleftarrow",!0),g(w,M,F,"\u21D0","\\Leftarrow",!0),g(w,M,F,"\u27F8","\\Longleftarrow",!0),g(w,M,F,"\u27F6","\\longrightarrow",!0),g(w,M,F,"\u21D2","\\Rightarrow",!0),g(w,M,F,"\u27F9","\\Longrightarrow",!0),g(w,M,F,"\u2194","\\leftrightarrow",!0),g(w,M,F,"\u27F7","\\longleftrightarrow",!0),g(w,M,F,"\u21D4","\\Leftrightarrow",!0),g(w,M,F,"\u27FA","\\Longleftrightarrow",!0),g(w,M,F,"\u21A6","\\mapsto",!0),g(w,M,F,"\u27FC","\\longmapsto",!0),g(w,M,F,"\u2197","\\nearrow",!0),g(w,M,F,"\u21A9","\\hookleftarrow",!0),g(w,M,F,"\u21AA","\\hookrightarrow",!0),g(w,M,F,"\u2198","\\searrow",!0),g(w,M,F,"\u21BC","\\leftharpoonup",!0),g(w,M,F,"\u21C0","\\rightharpoonup",!0),g(w,M,F,"\u2199","\\swarrow",!0),g(w,M,F,"\u21BD","\\leftharpoondown",!0),g(w,M,F,"\u21C1","\\rightharpoondown",!0),g(w,M,F,"\u2196","\\nwarrow",!0),g(w,M,F,"\u21CC","\\rightleftharpoons",!0),g(w,R,F,"\u226E","\\nless",!0),g(w,R,F,"\uE010","\\@nleqslant"),g(w,R,F,"\uE011","\\@nleqq"),g(w,R,F,"\u2A87","\\lneq",!0),g(w,R,F,"\u2268","\\lneqq",!0),g(w,R,F,"\uE00C","\\@lvertneqq"),g(w,R,F,"\u22E6","\\lnsim",!0),g(w,R,F,"\u2A89","\\lnapprox",!0),g(w,R,F,"\u2280","\\nprec",!0),g(w,R,F,"\u22E0","\\npreceq",!0),g(w,R,F,"\u22E8","\\precnsim",!0),g(w,R,F,"\u2AB9","\\precnapprox",!0),g(w,R,F,"\u2241","\\nsim",!0),g(w,R,F,"\uE006","\\@nshortmid"),g(w,R,F,"\u2224","\\nmid",!0),g(w,R,F,"\u22AC","\\nvdash",!0),g(w,R,F,"\u22AD","\\nvDash",!0),g(w,R,F,"\u22EA","\\ntriangleleft"),g(w,R,F,"\u22EC","\\ntrianglelefteq",!0),g(w,R,F,"\u228A","\\subsetneq",!0),g(w,R,F,"\uE01A","\\@varsubsetneq"),g(w,R,F,"\u2ACB","\\subsetneqq",!0),g(w,R,F,"\uE017","\\@varsubsetneqq"),g(w,R,F,"\u226F","\\ngtr",!0),g(w,R,F,"\uE00F","\\@ngeqslant"),g(w,R,F,"\uE00E","\\@ngeqq"),g(w,R,F,"\u2A88","\\gneq",!0),g(w,R,F,"\u2269","\\gneqq",!0),g(w,R,F,"\uE00D","\\@gvertneqq"),g(w,R,F,"\u22E7","\\gnsim",!0),g(w,R,F,"\u2A8A","\\gnapprox",!0),g(w,R,F,"\u2281","\\nsucc",!0),g(w,R,F,"\u22E1","\\nsucceq",!0),g(w,R,F,"\u22E9","\\succnsim",!0),g(w,R,F,"\u2ABA","\\succnapprox",!0),g(w,R,F,"\u2246","\\ncong",!0),g(w,R,F,"\uE007","\\@nshortparallel"),g(w,R,F,"\u2226","\\nparallel",!0),g(w,R,F,"\u22AF","\\nVDash",!0),g(w,R,F,"\u22EB","\\ntriangleright"),g(w,R,F,"\u22ED","\\ntrianglerighteq",!0),g(w,R,F,"\uE018","\\@nsupseteqq"),g(w,R,F,"\u228B","\\supsetneq",!0),g(w,R,F,"\uE01B","\\@varsupsetneq"),g(w,R,F,"\u2ACC","\\supsetneqq",!0),g(w,R,F,"\uE019","\\@varsupsetneqq"),g(w,R,F,"\u22AE","\\nVdash",!0),g(w,R,F,"\u2AB5","\\precneqq",!0),g(w,R,F,"\u2AB6","\\succneqq",!0),g(w,R,F,"\uE016","\\@nsubseteqq"),g(w,R,de,"\u22B4","\\unlhd"),g(w,R,de,"\u22B5","\\unrhd"),g(w,R,F,"\u219A","\\nleftarrow",!0),g(w,R,F,"\u219B","\\nrightarrow",!0),g(w,R,F,"\u21CD","\\nLeftarrow",!0),g(w,R,F,"\u21CF","\\nRightarrow",!0),g(w,R,F,"\u21AE","\\nleftrightarrow",!0),g(w,R,F,"\u21CE","\\nLeftrightarrow",!0),g(w,R,F,"\u25B3","\\vartriangle"),g(w,R,j,"\u210F","\\hslash"),g(w,R,j,"\u25BD","\\triangledown"),g(w,R,j,"\u25CA","\\lozenge"),g(w,R,j,"\u24C8","\\circledS"),g(w,R,j,"\xAE","\\circledR"),g(te,R,j,"\xAE","\\circledR"),g(w,R,j,"\u2221","\\measuredangle",!0),g(w,R,j,"\u2204","\\nexists"),g(w,R,j,"\u2127","\\mho"),g(w,R,j,"\u2132","\\Finv",!0),g(w,R,j,"\u2141","\\Game",!0),g(w,R,j,"\u2035","\\backprime"),g(w,R,j,"\u25B2","\\blacktriangle"),g(w,R,j,"\u25BC","\\blacktriangledown"),g(w,R,j,"\u25A0","\\blacksquare"),g(w,R,j,"\u29EB","\\blacklozenge"),g(w,R,j,"\u2605","\\bigstar"),g(w,R,j,"\u2222","\\sphericalangle",!0),g(w,R,j,"\u2201","\\complement",!0),g(w,R,j,"\xF0","\\eth",!0),g(te,M,j,"\xF0","\xF0"),g(w,R,j,"\u2571","\\diagup"),g(w,R,j,"\u2572","\\diagdown"),g(w,R,j,"\u25A1","\\square"),g(w,R,j,"\u25A1","\\Box"),g(w,R,j,"\u25CA","\\Diamond"),g(w,R,j,"\xA5","\\yen",!0),g(te,R,j,"\xA5","\\yen",!0),g(w,R,j,"\u2713","\\checkmark",!0),g(te,R,j,"\u2713","\\checkmark"),g(w,R,j,"\u2136","\\beth",!0),g(w,R,j,"\u2138","\\daleth",!0),g(w,R,j,"\u2137","\\gimel",!0),g(w,R,j,"\u03DD","\\digamma",!0),g(w,R,j,"\u03F0","\\varkappa"),g(w,R,rr,"\u250C","\\@ulcorner",!0),g(w,R,Ft,"\u2510","\\@urcorner",!0),g(w,R,rr,"\u2514","\\@llcorner",!0),g(w,R,Ft,"\u2518","\\@lrcorner",!0),g(w,R,F,"\u2266","\\leqq",!0),g(w,R,F,"\u2A7D","\\leqslant",!0),g(w,R,F,"\u2A95","\\eqslantless",!0),g(w,R,F,"\u2272","\\lesssim",!0),g(w,R,F,"\u2A85","\\lessapprox",!0),g(w,R,F,"\u224A","\\approxeq",!0),g(w,R,de,"\u22D6","\\lessdot"),g(w,R,F,"\u22D8","\\lll",!0),g(w,R,F,"\u2276","\\lessgtr",!0),g(w,R,F,"\u22DA","\\lesseqgtr",!0),g(w,R,F,"\u2A8B","\\lesseqqgtr",!0),g(w,R,F,"\u2251","\\doteqdot"),g(w,R,F,"\u2253","\\risingdotseq",!0),g(w,R,F,"\u2252","\\fallingdotseq",!0),g(w,R,F,"\u223D","\\backsim",!0),g(w,R,F,"\u22CD","\\backsimeq",!0),g(w,R,F,"\u2AC5","\\subseteqq",!0),g(w,R,F,"\u22D0","\\Subset",!0),g(w,R,F,"\u228F","\\sqsubset",!0),g(w,R,F,"\u227C","\\preccurlyeq",!0),g(w,R,F,"\u22DE","\\curlyeqprec",!0),g(w,R,F,"\u227E","\\precsim",!0),g(w,R,F,"\u2AB7","\\precapprox",!0),g(w,R,F,"\u22B2","\\vartriangleleft"),g(w,R,F,"\u22B4","\\trianglelefteq"),g(w,R,F,"\u22A8","\\vDash",!0),g(w,R,F,"\u22AA","\\Vvdash",!0),g(w,R,F,"\u2323","\\smallsmile"),g(w,R,F,"\u2322","\\smallfrown"),g(w,R,F,"\u224F","\\bumpeq",!0),g(w,R,F,"\u224E","\\Bumpeq",!0),g(w,R,F,"\u2267","\\geqq",!0),g(w,R,F,"\u2A7E","\\geqslant",!0),g(w,R,F,"\u2A96","\\eqslantgtr",!0),g(w,R,F,"\u2273","\\gtrsim",!0),g(w,R,F,"\u2A86","\\gtrapprox",!0),g(w,R,de,"\u22D7","\\gtrdot"),g(w,R,F,"\u22D9","\\ggg",!0),g(w,R,F,"\u2277","\\gtrless",!0),g(w,R,F,"\u22DB","\\gtreqless",!0),g(w,R,F,"\u2A8C","\\gtreqqless",!0),g(w,R,F,"\u2256","\\eqcirc",!0),g(w,R,F,"\u2257","\\circeq",!0),g(w,R,F,"\u225C","\\triangleq",!0),g(w,R,F,"\u223C","\\thicksim"),g(w,R,F,"\u2248","\\thickapprox"),g(w,R,F,"\u2AC6","\\supseteqq",!0),g(w,R,F,"\u22D1","\\Supset",!0),g(w,R,F,"\u2290","\\sqsupset",!0),g(w,R,F,"\u227D","\\succcurlyeq",!0),g(w,R,F,"\u22DF","\\curlyeqsucc",!0),g(w,R,F,"\u227F","\\succsim",!0),g(w,R,F,"\u2AB8","\\succapprox",!0),g(w,R,F,"\u22B3","\\vartriangleright"),g(w,R,F,"\u22B5","\\trianglerighteq"),g(w,R,F,"\u22A9","\\Vdash",!0),g(w,R,F,"\u2223","\\shortmid"),g(w,R,F,"\u2225","\\shortparallel"),g(w,R,F,"\u226C","\\between",!0),g(w,R,F,"\u22D4","\\pitchfork",!0),g(w,R,F,"\u221D","\\varpropto"),g(w,R,F,"\u25C0","\\blacktriangleleft"),g(w,R,F,"\u2234","\\therefore",!0),g(w,R,F,"\u220D","\\backepsilon"),g(w,R,F,"\u25B6","\\blacktriangleright"),g(w,R,F,"\u2235","\\because",!0),g(w,R,F,"\u22D8","\\llless"),g(w,R,F,"\u22D9","\\gggtr"),g(w,R,de,"\u22B2","\\lhd"),g(w,R,de,"\u22B3","\\rhd"),g(w,R,F,"\u2242","\\eqsim",!0),g(w,M,F,"\u22C8","\\Join"),g(w,R,F,"\u2251","\\Doteq",!0),g(w,R,de,"\u2214","\\dotplus",!0),g(w,R,de,"\u2216","\\smallsetminus"),g(w,R,de,"\u22D2","\\Cap",!0),g(w,R,de,"\u22D3","\\Cup",!0),g(w,R,de,"\u2A5E","\\doublebarwedge",!0),g(w,R,de,"\u229F","\\boxminus",!0),g(w,R,de,"\u229E","\\boxplus",!0),g(w,R,de,"\u22C7","\\divideontimes",!0),g(w,R,de,"\u22C9","\\ltimes",!0),g(w,R,de,"\u22CA","\\rtimes",!0),g(w,R,de,"\u22CB","\\leftthreetimes",!0),g(w,R,de,"\u22CC","\\rightthreetimes",!0),g(w,R,de,"\u22CF","\\curlywedge",!0),g(w,R,de,"\u22CE","\\curlyvee",!0),g(w,R,de,"\u229D","\\circleddash",!0),g(w,R,de,"\u229B","\\circledast",!0),g(w,R,de,"\u22C5","\\centerdot"),g(w,R,de,"\u22BA","\\intercal",!0),g(w,R,de,"\u22D2","\\doublecap"),g(w,R,de,"\u22D3","\\doublecup"),g(w,R,de,"\u22A0","\\boxtimes",!0),g(w,R,F,"\u21E2","\\dashrightarrow",!0),g(w,R,F,"\u21E0","\\dashleftarrow",!0),g(w,R,F,"\u21C7","\\leftleftarrows",!0),g(w,R,F,"\u21C6","\\leftrightarrows",!0),g(w,R,F,"\u21DA","\\Lleftarrow",!0),g(w,R,F,"\u219E","\\twoheadleftarrow",!0),g(w,R,F,"\u21A2","\\leftarrowtail",!0),g(w,R,F,"\u21AB","\\looparrowleft",!0),g(w,R,F,"\u21CB","\\leftrightharpoons",!0),g(w,R,F,"\u21B6","\\curvearrowleft",!0),g(w,R,F,"\u21BA","\\circlearrowleft",!0),g(w,R,F,"\u21B0","\\Lsh",!0),g(w,R,F,"\u21C8","\\upuparrows",!0),g(w,R,F,"\u21BF","\\upharpoonleft",!0),g(w,R,F,"\u21C3","\\downharpoonleft",!0),g(w,M,F,"\u22B6","\\origof",!0),g(w,M,F,"\u22B7","\\imageof",!0),g(w,R,F,"\u22B8","\\multimap",!0),g(w,R,F,"\u21AD","\\leftrightsquigarrow",!0),g(w,R,F,"\u21C9","\\rightrightarrows",!0),g(w,R,F,"\u21C4","\\rightleftarrows",!0),g(w,R,F,"\u21A0","\\twoheadrightarrow",!0),g(w,R,F,"\u21A3","\\rightarrowtail",!0),g(w,R,F,"\u21AC","\\looparrowright",!0),g(w,R,F,"\u21B7","\\curvearrowright",!0),g(w,R,F,"\u21BB","\\circlearrowright",!0),g(w,R,F,"\u21B1","\\Rsh",!0),g(w,R,F,"\u21CA","\\downdownarrows",!0),g(w,R,F,"\u21BE","\\upharpoonright",!0),g(w,R,F,"\u21C2","\\downharpoonright",!0),g(w,R,F,"\u21DD","\\rightsquigarrow",!0),g(w,R,F,"\u21DD","\\leadsto"),g(w,R,F,"\u21DB","\\Rrightarrow",!0),g(w,R,F,"\u21BE","\\restriction"),g(w,M,j,"\u2018","`"),g(w,M,j,"$","\\$"),g(te,M,j,"$","\\$"),g(te,M,j,"$","\\textdollar"),g(w,M,j,"%","\\%"),g(te,M,j,"%","\\%"),g(w,M,j,"_","\\_"),g(te,M,j,"_","\\_"),g(te,M,j,"_","\\textunderscore"),g(w,M,j,"\u2220","\\angle",!0),g(w,M,j,"\u221E","\\infty",!0),g(w,M,j,"\u2032","\\prime"),g(w,M,j,"\u25B3","\\triangle"),g(w,M,j,"\u0393","\\Gamma",!0),g(w,M,j,"\u0394","\\Delta",!0),g(w,M,j,"\u0398","\\Theta",!0),g(w,M,j,"\u039B","\\Lambda",!0),g(w,M,j,"\u039E","\\Xi",!0),g(w,M,j,"\u03A0","\\Pi",!0),g(w,M,j,"\u03A3","\\Sigma",!0),g(w,M,j,"\u03A5","\\Upsilon",!0),g(w,M,j,"\u03A6","\\Phi",!0),g(w,M,j,"\u03A8","\\Psi",!0),g(w,M,j,"\u03A9","\\Omega",!0),g(w,M,j,"A","\u0391"),g(w,M,j,"B","\u0392"),g(w,M,j,"E","\u0395"),g(w,M,j,"Z","\u0396"),g(w,M,j,"H","\u0397"),g(w,M,j,"I","\u0399"),g(w,M,j,"K","\u039A"),g(w,M,j,"M","\u039C"),g(w,M,j,"N","\u039D"),g(w,M,j,"O","\u039F"),g(w,M,j,"P","\u03A1"),g(w,M,j,"T","\u03A4"),g(w,M,j,"X","\u03A7"),g(w,M,j,"\xAC","\\neg",!0),g(w,M,j,"\xAC","\\lnot"),g(w,M,j,"\u22A4","\\top"),g(w,M,j,"\u22A5","\\bot"),g(w,M,j,"\u2205","\\emptyset"),g(w,R,j,"\u2205","\\varnothing"),g(w,M,Me,"\u03B1","\\alpha",!0),g(w,M,Me,"\u03B2","\\beta",!0),g(w,M,Me,"\u03B3","\\gamma",!0),g(w,M,Me,"\u03B4","\\delta",!0),g(w,M,Me,"\u03F5","\\epsilon",!0),g(w,M,Me,"\u03B6","\\zeta",!0),g(w,M,Me,"\u03B7","\\eta",!0),g(w,M,Me,"\u03B8","\\theta",!0),g(w,M,Me,"\u03B9","\\iota",!0),g(w,M,Me,"\u03BA","\\kappa",!0),g(w,M,Me,"\u03BB","\\lambda",!0),g(w,M,Me,"\u03BC","\\mu",!0),g(w,M,Me,"\u03BD","\\nu",!0),g(w,M,Me,"\u03BE","\\xi",!0),g(w,M,Me,"\u03BF","\\omicron",!0),g(w,M,Me,"\u03C0","\\pi",!0),g(w,M,Me,"\u03C1","\\rho",!0),g(w,M,Me,"\u03C3","\\sigma",!0),g(w,M,Me,"\u03C4","\\tau",!0),g(w,M,Me,"\u03C5","\\upsilon",!0),g(w,M,Me,"\u03D5","\\phi",!0),g(w,M,Me,"\u03C7","\\chi",!0),g(w,M,Me,"\u03C8","\\psi",!0),g(w,M,Me,"\u03C9","\\omega",!0),g(w,M,Me,"\u03B5","\\varepsilon",!0),g(w,M,Me,"\u03D1","\\vartheta",!0),g(w,M,Me,"\u03D6","\\varpi",!0),g(w,M,Me,"\u03F1","\\varrho",!0),g(w,M,Me,"\u03C2","\\varsigma",!0),g(w,M,Me,"\u03C6","\\varphi",!0),g(w,M,de,"\u2217","*",!0),g(w,M,de,"+","+"),g(w,M,de,"\u2212","-",!0),g(w,M,de,"\u22C5","\\cdot",!0),g(w,M,de,"\u2218","\\circ",!0),g(w,M,de,"\xF7","\\div",!0),g(w,M,de,"\xB1","\\pm",!0),g(w,M,de,"\xD7","\\times",!0),g(w,M,de,"\u2229","\\cap",!0),g(w,M,de,"\u222A","\\cup",!0),g(w,M,de,"\u2216","\\setminus",!0),g(w,M,de,"\u2227","\\land"),g(w,M,de,"\u2228","\\lor"),g(w,M,de,"\u2227","\\wedge",!0),g(w,M,de,"\u2228","\\vee",!0),g(w,M,j,"\u221A","\\surd"),g(w,M,rr,"\u27E8","\\langle",!0),g(w,M,rr,"\u2223","\\lvert"),g(w,M,rr,"\u2225","\\lVert"),g(w,M,Ft,"?","?"),g(w,M,Ft,"!","!"),g(w,M,Ft,"\u27E9","\\rangle",!0),g(w,M,Ft,"\u2223","\\rvert"),g(w,M,Ft,"\u2225","\\rVert"),g(w,M,F,"=","="),g(w,M,F,":",":"),g(w,M,F,"\u2248","\\approx",!0),g(w,M,F,"\u2245","\\cong",!0),g(w,M,F,"\u2265","\\ge"),g(w,M,F,"\u2265","\\geq",!0),g(w,M,F,"\u2190","\\gets"),g(w,M,F,">","\\gt",!0),g(w,M,F,"\u2208","\\in",!0),g(w,M,F,"\uE020","\\@not"),g(w,M,F,"\u2282","\\subset",!0),g(w,M,F,"\u2283","\\supset",!0),g(w,M,F,"\u2286","\\subseteq",!0),g(w,M,F,"\u2287","\\supseteq",!0),g(w,R,F,"\u2288","\\nsubseteq",!0),g(w,R,F,"\u2289","\\nsupseteq",!0),g(w,M,F,"\u22A8","\\models"),g(w,M,F,"\u2190","\\leftarrow",!0),g(w,M,F,"\u2264","\\le"),g(w,M,F,"\u2264","\\leq",!0),g(w,M,F,"<","\\lt",!0),g(w,M,F,"\u2192","\\rightarrow",!0),g(w,M,F,"\u2192","\\to"),g(w,R,F,"\u2271","\\ngeq",!0),g(w,R,F,"\u2270","\\nleq",!0),g(w,M,nn,"\xA0","\\ "),g(w,M,nn,"\xA0","\\space"),g(w,M,nn,"\xA0","\\nobreakspace"),g(te,M,nn,"\xA0","\\ "),g(te,M,nn,"\xA0"," "),g(te,M,nn,"\xA0","\\space"),g(te,M,nn,"\xA0","\\nobreakspace"),g(w,M,nn,null,"\\nobreak"),g(w,M,nn,null,"\\allowbreak"),g(w,M,ma,",",","),g(w,M,ma,";",";"),g(w,R,de,"\u22BC","\\barwedge",!0),g(w,R,de,"\u22BB","\\veebar",!0),g(w,M,de,"\u2299","\\odot",!0),g(w,M,de,"\u2295","\\oplus",!0),g(w,M,de,"\u2297","\\otimes",!0),g(w,M,j,"\u2202","\\partial",!0),g(w,M,de,"\u2298","\\oslash",!0),g(w,R,de,"\u229A","\\circledcirc",!0),g(w,R,de,"\u22A1","\\boxdot",!0),g(w,M,de,"\u25B3","\\bigtriangleup"),g(w,M,de,"\u25BD","\\bigtriangledown"),g(w,M,de,"\u2020","\\dagger"),g(w,M,de,"\u22C4","\\diamond"),g(w,M,de,"\u22C6","\\star"),g(w,M,de,"\u25C3","\\triangleleft"),g(w,M,de,"\u25B9","\\triangleright"),g(w,M,rr,"{","\\{"),g(te,M,j,"{","\\{"),g(te,M,j,"{","\\textbraceleft"),g(w,M,Ft,"}","\\}"),g(te,M,j,"}","\\}"),g(te,M,j,"}","\\textbraceright"),g(w,M,rr,"{","\\lbrace"),g(w,M,Ft,"}","\\rbrace"),g(w,M,rr,"[","\\lbrack",!0),g(te,M,j,"[","\\lbrack",!0),g(w,M,Ft,"]","\\rbrack",!0),g(te,M,j,"]","\\rbrack",!0),g(w,M,rr,"(","\\lparen",!0),g(w,M,Ft,")","\\rparen",!0),g(te,M,j,"<","\\textless",!0),g(te,M,j,">","\\textgreater",!0),g(w,M,rr,"\u230A","\\lfloor",!0),g(w,M,Ft,"\u230B","\\rfloor",!0),g(w,M,rr,"\u2308","\\lceil",!0),g(w,M,Ft,"\u2309","\\rceil",!0),g(w,M,j,"\\","\\backslash"),g(w,M,j,"\u2223","|"),g(w,M,j,"\u2223","\\vert"),g(te,M,j,"|","\\textbar",!0),g(w,M,j,"\u2225","\\|"),g(w,M,j,"\u2225","\\Vert"),g(te,M,j,"\u2225","\\textbardbl"),g(te,M,j,"~","\\textasciitilde"),g(te,M,j,"\\","\\textbackslash"),g(te,M,j,"^","\\textasciicircum"),g(w,M,F,"\u2191","\\uparrow",!0),g(w,M,F,"\u21D1","\\Uparrow",!0),g(w,M,F,"\u2193","\\downarrow",!0),g(w,M,F,"\u21D3","\\Downarrow",!0),g(w,M,F,"\u2195","\\updownarrow",!0),g(w,M,F,"\u21D5","\\Updownarrow",!0),g(w,M,ct,"\u2210","\\coprod"),g(w,M,ct,"\u22C1","\\bigvee"),g(w,M,ct,"\u22C0","\\bigwedge"),g(w,M,ct,"\u2A04","\\biguplus"),g(w,M,ct,"\u22C2","\\bigcap"),g(w,M,ct,"\u22C3","\\bigcup"),g(w,M,ct,"\u222B","\\int"),g(w,M,ct,"\u222B","\\intop"),g(w,M,ct,"\u222C","\\iint"),g(w,M,ct,"\u222D","\\iiint"),g(w,M,ct,"\u220F","\\prod"),g(w,M,ct,"\u2211","\\sum"),g(w,M,ct,"\u2A02","\\bigotimes"),g(w,M,ct,"\u2A01","\\bigoplus"),g(w,M,ct,"\u2A00","\\bigodot"),g(w,M,ct,"\u222E","\\oint"),g(w,M,ct,"\u222F","\\oiint"),g(w,M,ct,"\u2230","\\oiiint"),g(w,M,ct,"\u2A06","\\bigsqcup"),g(w,M,ct,"\u222B","\\smallint"),g(te,M,Mi,"\u2026","\\textellipsis"),g(w,M,Mi,"\u2026","\\mathellipsis"),g(te,M,Mi,"\u2026","\\ldots",!0),g(w,M,Mi,"\u2026","\\ldots",!0),g(w,M,Mi,"\u22EF","\\@cdots",!0),g(w,M,Mi,"\u22F1","\\ddots",!0),g(w,M,j,"\u22EE","\\varvdots"),g(w,M,tt,"\u02CA","\\acute"),g(w,M,tt,"\u02CB","\\grave"),g(w,M,tt,"\xA8","\\ddot"),g(w,M,tt,"~","\\tilde"),g(w,M,tt,"\u02C9","\\bar"),g(w,M,tt,"\u02D8","\\breve"),g(w,M,tt,"\u02C7","\\check"),g(w,M,tt,"^","\\hat"),g(w,M,tt,"\u20D7","\\vec"),g(w,M,tt,"\u02D9","\\dot"),g(w,M,tt,"\u02DA","\\mathring"),g(w,M,Me,"\uE131","\\@imath"),g(w,M,Me,"\uE237","\\@jmath"),g(w,M,j,"\u0131","\u0131"),g(w,M,j,"\u0237","\u0237"),g(te,M,j,"\u0131","\\i",!0),g(te,M,j,"\u0237","\\j",!0),g(te,M,j,"\xDF","\\ss",!0),g(te,M,j,"\xE6","\\ae",!0),g(te,M,j,"\u0153","\\oe",!0),g(te,M,j,"\xF8","\\o",!0),g(te,M,j,"\xC6","\\AE",!0),g(te,M,j,"\u0152","\\OE",!0),g(te,M,j,"\xD8","\\O",!0),g(te,M,tt,"\u02CA","\\'"),g(te,M,tt,"\u02CB","\\`"),g(te,M,tt,"\u02C6","\\^"),g(te,M,tt,"\u02DC","\\~"),g(te,M,tt,"\u02C9","\\="),g(te,M,tt,"\u02D8","\\u"),g(te,M,tt,"\u02D9","\\."),g(te,M,tt,"\xB8","\\c"),g(te,M,tt,"\u02DA","\\r"),g(te,M,tt,"\u02C7","\\v"),g(te,M,tt,"\xA8",'\\"'),g(te,M,tt,"\u02DD","\\H"),g(te,M,tt,"\u25EF","\\textcircled");var Sc={"--":!0,"---":!0,"``":!0,"''":!0};g(te,M,j,"\u2013","--",!0),g(te,M,j,"\u2013","\\textendash"),g(te,M,j,"\u2014","---",!0),g(te,M,j,"\u2014","\\textemdash"),g(te,M,j,"\u2018","`",!0),g(te,M,j,"\u2018","\\textquoteleft"),g(te,M,j,"\u2019","'",!0),g(te,M,j,"\u2019","\\textquoteright"),g(te,M,j,"\u201C","``",!0),g(te,M,j,"\u201C","\\textquotedblleft"),g(te,M,j,"\u201D","''",!0),g(te,M,j,"\u201D","\\textquotedblright"),g(w,M,j,"\xB0","\\degree",!0),g(te,M,j,"\xB0","\\degree"),g(te,M,j,"\xB0","\\textdegree",!0),g(w,M,j,"\xA3","\\pounds"),g(w,M,j,"\xA3","\\mathsterling",!0),g(te,M,j,"\xA3","\\pounds"),g(te,M,j,"\xA3","\\textsterling",!0),g(w,R,j,"\u2720","\\maltese"),g(te,R,j,"\u2720","\\maltese");for(var Ac='0123456789/@."',rl=0;rl<Ac.length;rl++){var Mc=Ac.charAt(rl);g(w,M,j,Mc,Mc)}for(var Cc='0123456789!@*()-=+";:?/.,',nl=0;nl<Cc.length;nl++){var Tc=Cc.charAt(nl);g(te,M,j,Tc,Tc)}for(var va="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",il=0;il<va.length;il++){var ga=va.charAt(il);g(w,M,Me,ga,ga),g(te,M,j,ga,ga)}g(w,R,j,"C","\u2102"),g(te,R,j,"C","\u2102"),g(w,R,j,"H","\u210D"),g(te,R,j,"H","\u210D"),g(w,R,j,"N","\u2115"),g(te,R,j,"N","\u2115"),g(w,R,j,"P","\u2119"),g(te,R,j,"P","\u2119"),g(w,R,j,"Q","\u211A"),g(te,R,j,"Q","\u211A"),g(w,R,j,"R","\u211D"),g(te,R,j,"R","\u211D"),g(w,R,j,"Z","\u2124"),g(te,R,j,"Z","\u2124"),g(w,M,Me,"h","\u210E"),g(te,M,Me,"h","\u210E");for(var Ee="",Gt=0;Gt<va.length;Gt++){var ft=va.charAt(Gt);Ee=String.fromCharCode(55349,56320+Gt),g(w,M,Me,ft,Ee),g(te,M,j,ft,Ee),Ee=String.fromCharCode(55349,56372+Gt),g(w,M,Me,ft,Ee),g(te,M,j,ft,Ee),Ee=String.fromCharCode(55349,56424+Gt),g(w,M,Me,ft,Ee),g(te,M,j,ft,Ee),Ee=String.fromCharCode(55349,56580+Gt),g(w,M,Me,ft,Ee),g(te,M,j,ft,Ee),Ee=String.fromCharCode(55349,56736+Gt),g(w,M,Me,ft,Ee),g(te,M,j,ft,Ee),Ee=String.fromCharCode(55349,56788+Gt),g(w,M,Me,ft,Ee),g(te,M,j,ft,Ee),Ee=String.fromCharCode(55349,56840+Gt),g(w,M,Me,ft,Ee),g(te,M,j,ft,Ee),Ee=String.fromCharCode(55349,56944+Gt),g(w,M,Me,ft,Ee),g(te,M,j,ft,Ee),Gt<26&&(Ee=String.fromCharCode(55349,56632+Gt),g(w,M,Me,ft,Ee),g(te,M,j,ft,Ee),Ee=String.fromCharCode(55349,56476+Gt),g(w,M,Me,ft,Ee),g(te,M,j,ft,Ee))}Ee=String.fromCharCode(55349,56668),g(w,M,Me,"k",Ee),g(te,M,j,"k",Ee);for(var Yn=0;Yn<10;Yn++){var An=Yn.toString();Ee=String.fromCharCode(55349,57294+Yn),g(w,M,Me,An,Ee),g(te,M,j,An,Ee),Ee=String.fromCharCode(55349,57314+Yn),g(w,M,Me,An,Ee),g(te,M,j,An,Ee),Ee=String.fromCharCode(55349,57324+Yn),g(w,M,Me,An,Ee),g(te,M,j,An,Ee),Ee=String.fromCharCode(55349,57334+Yn),g(w,M,Me,An,Ee),g(te,M,j,An,Ee)}for(var ol="\xD0\xDE\xFE",al=0;al<ol.length;al++){var ya=ol.charAt(al);g(w,M,Me,ya,ya),g(te,M,j,ya,ya)}var ba=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Ec=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],rg=function(l,c){var f=l.charCodeAt(0),p=l.charCodeAt(1),v=(f-55296)*1024+(p-56320)+65536,x=c==="math"?0:1;if(119808<=v&&v<120484){var S=Math.floor((v-119808)/26);return[ba[S][2],ba[S][x]]}else if(120782<=v&&v<=120831){var E=Math.floor((v-120782)/10);return[Ec[E][2],Ec[E][x]]}else{if(v===120485||v===120486)return[ba[0][2],ba[0][x]];if(120486<v&&v<120782)return["",""];throw new o("Unsupported character: "+l)}},xa=function(l,c,f){return nt[f][l]&&nt[f][l].replace&&(l=nt[f][l].replace),{value:l,metrics:rn(l,c,f)}},Er=function(l,c,f,p,v){var x=xa(l,c,f),S=x.metrics;l=x.value;var E;if(S){var z=S.italic;(f==="text"||p&&p.font==="mathit")&&(z=0),E=new ut(l,S.height,S.depth,z,S.skew,S.width,v)}else typeof console!="undefined"&&console.warn("No character metrics "+("for '"+l+"' in style '"+c+"' and mode '"+f+"'")),E=new ut(l,0,0,0,0,0,v);if(p){E.maxFontSize=p.sizeMultiplier,p.style.isTight()&&E.classes.push("mtight");var P=p.getColor();P&&(E.style.color=P)}return E},ng=function(l,c,f,p){return p===void 0&&(p=[]),f.font==="boldsymbol"&&xa(l,"Main-Bold",c).metrics?Er(l,"Main-Bold",c,f,p.concat(["mathbf"])):l==="\\"||nt[c][l].font==="main"?Er(l,"Main-Regular",c,f,p):Er(l,"AMS-Regular",c,f,p.concat(["amsrm"]))},ig=function(l,c,f,p,v){return v!=="textord"&&xa(l,"Math-BoldItalic",c).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},og=function(l,c,f){var p=l.mode,v=l.text,x=["mord"],S=p==="math"||p==="text"&&c.font,E=S?c.font:c.fontFamily;if(v.charCodeAt(0)===55349){var z=rg(v,p),P=z[0],V=z[1];return Er(v,P,p,c,x.concat(V))}else if(E){var J,ee;if(E==="boldsymbol"){var Y=ig(v,p,c,x,f);J=Y.fontName,ee=[Y.fontClass]}else S?(J=Nc[E].fontName,ee=[E]):(J=wa(E,c.fontWeight,c.fontShape),ee=[E,c.fontWeight,c.fontShape]);if(xa(v,J,p).metrics)return Er(v,J,p,c,x.concat(ee));if(Sc.hasOwnProperty(v)&&J.substr(0,10)==="Typewriter"){for(var se=[],le=0;le<v.length;le++)se.push(Er(v[le],J,p,c,x.concat(ee)));return _c(se)}}if(f==="mathord")return Er(v,"Math-Italic",p,c,x.concat(["mathnormal"]));if(f==="textord"){var ve=nt[p][v]&&nt[p][v].font;if(ve==="ams"){var we=wa("amsrm",c.fontWeight,c.fontShape);return Er(v,we,p,c,x.concat("amsrm",c.fontWeight,c.fontShape))}else if(ve==="main"||!ve){var Ae=wa("textrm",c.fontWeight,c.fontShape);return Er(v,Ae,p,c,x.concat(c.fontWeight,c.fontShape))}else{var $e=wa(ve,c.fontWeight,c.fontShape);return Er(v,$e,p,c,x.concat($e,c.fontWeight,c.fontShape))}}else throw new Error("unexpected type: "+f+" in makeOrd")},ag=function(l,c){if(pe(l.classes)!==pe(c.classes)||l.skew!==c.skew||l.maxFontSize!==c.maxFontSize)return!1;if(l.classes.length===1){var f=l.classes[0];if(f==="mbin"||f==="mord")return!1}for(var p in l.style)if(l.style.hasOwnProperty(p)&&l.style[p]!==c.style[p])return!1;for(var v in c.style)if(c.style.hasOwnProperty(v)&&l.style[v]!==c.style[v])return!1;return!0},sg=function(l){for(var c=0;c<l.length-1;c++){var f=l[c],p=l[c+1];f instanceof ut&&p instanceof ut&&ag(f,p)&&(f.text+=p.text,f.height=Math.max(f.height,p.height),f.depth=Math.max(f.depth,p.depth),f.italic=p.italic,l.splice(c+1,1),c--)}return l},sl=function(l){for(var c=0,f=0,p=0,v=0;v<l.children.length;v++){var x=l.children[v];x.height>c&&(c=x.height),x.depth>f&&(f=x.depth),x.maxFontSize>p&&(p=x.maxFontSize)}l.height=c,l.depth=f,l.maxFontSize=p},Wt=function(l,c,f,p){var v=new at(l,c,f,p);return sl(v),v},Oc=function(l,c,f,p){return new at(l,c,f,p)},lg=function(l,c,f){var p=Wt([l],[],c);return p.height=Math.max(f||c.fontMetrics().defaultRuleThickness,c.minRuleThickness),p.style.borderBottomWidth=q(p.height),p.maxFontSize=1,p},ug=function(l,c,f,p){var v=new Ct(l,c,f,p);return sl(v),v},_c=function(l){var c=new Cr(l);return sl(c),c},cg=function(l,c){return l instanceof Cr?Wt([],[l],c):l},fg=function(l){if(l.positionType==="individualShift"){for(var c=l.children,f=[c[0]],p=-c[0].shift-c[0].elem.depth,v=p,x=1;x<c.length;x++){var S=-c[x].shift-v-c[x].elem.depth,E=S-(c[x-1].elem.height+c[x-1].elem.depth);v=v+S,f.push({type:"kern",size:E}),f.push(c[x])}return{children:f,depth:p}}var z;if(l.positionType==="top"){for(var P=l.positionData,V=0;V<l.children.length;V++){var J=l.children[V];P-=J.type==="kern"?J.size:J.elem.height+J.elem.depth}z=P}else if(l.positionType==="bottom")z=-l.positionData;else{var ee=l.children[0];if(ee.type!=="elem")throw new Error('First child must have type "elem".');if(l.positionType==="shift")z=-ee.elem.depth-l.positionData;else if(l.positionType==="firstBaseline")z=-ee.elem.depth;else throw new Error("Invalid positionType "+l.positionType+".")}return{children:l.children,depth:z}},hg=function(l,c){for(var f=fg(l),p=f.children,v=f.depth,x=0,S=0;S<p.length;S++){var E=p[S];if(E.type==="elem"){var z=E.elem;x=Math.max(x,z.maxFontSize,z.height)}}x+=2;var P=Wt(["pstrut"],[]);P.style.height=q(x);for(var V=[],J=v,ee=v,Y=v,se=0;se<p.length;se++){var le=p[se];if(le.type==="kern")Y+=le.size;else{var ve=le.elem,we=le.wrapperClasses||[],Ae=le.wrapperStyle||{},$e=Wt(we,[P,ve],void 0,Ae);$e.style.top=q(-x-Y-ve.depth),le.marginLeft&&($e.style.marginLeft=le.marginLeft),le.marginRight&&($e.style.marginRight=le.marginRight),V.push($e),Y+=ve.height+ve.depth}J=Math.min(J,Y),ee=Math.max(ee,Y)}var ze=Wt(["vlist"],V);ze.style.height=q(ee);var We;if(J<0){var Le=Wt([],[]),Ge=Wt(["vlist"],[Le]);Ge.style.height=q(-J);var st=Wt(["vlist-s"],[new ut("\u200B")]);We=[Wt(["vlist-r"],[ze,st]),Wt(["vlist-r"],[Ge])]}else We=[Wt(["vlist-r"],[ze])];var Xe=Wt(["vlist-t"],We);return We.length===2&&Xe.classes.push("vlist-t2"),Xe.height=ee,Xe.depth=-J,Xe},pg=function(l,c){var f=Wt(["mspace"],[],c),p=et(l,c);return f.style.marginRight=q(p),f},wa=function(l,c,f){var p="";switch(l){case"amsrm":p="AMS";break;case"textrm":p="Main";break;case"textsf":p="SansSerif";break;case"texttt":p="Typewriter";break;default:p=l}var v;return c==="textbf"&&f==="textit"?v="BoldItalic":c==="textbf"?v="Bold":c==="textit"?v="Italic":v="Regular",p+"-"+v},Nc={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Dc={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},dg=function(l,c){var f=Dc[l],p=f[0],v=f[1],x=f[2],S=new dr(p),E=new pr([S],{width:q(v),height:q(x),style:"width:"+q(v),viewBox:"0 0 "+1e3*v+" "+1e3*x,preserveAspectRatio:"xMinYMin"}),z=Oc(["overlay"],[E],c);return z.height=x,z.style.height=q(x),z.style.width=q(v),z},$={fontMap:Nc,makeSymbol:Er,mathsym:ng,makeSpan:Wt,makeSvgSpan:Oc,makeLineSpan:lg,makeAnchor:ug,makeFragment:_c,wrapFragment:cg,makeVList:hg,makeOrd:og,makeGlue:pg,staticSvg:dg,svgData:Dc,tryCombineChars:sg},it={number:3,unit:"mu"},Zn={number:4,unit:"mu"},on={number:5,unit:"mu"},mg={mord:{mop:it,mbin:Zn,mrel:on,minner:it},mop:{mord:it,mop:it,mrel:on,minner:it},mbin:{mord:Zn,mop:Zn,mopen:Zn,minner:Zn},mrel:{mord:on,mop:on,mopen:on,minner:on},mopen:{},mclose:{mop:it,mbin:Zn,mrel:on,minner:it},mpunct:{mord:it,mop:it,mrel:on,mopen:it,mclose:it,mpunct:it,minner:it},minner:{mord:it,mop:it,mbin:Zn,mrel:on,mopen:it,mpunct:it,minner:it}},vg={mord:{mop:it},mop:{mord:it,mop:it},mbin:{},mrel:{},mopen:{},mclose:{mop:it},mpunct:{},minner:{mop:it}},zc={},ka={},Sa={};function fe(b){for(var l=b.type,c=b.names,f=b.props,p=b.handler,v=b.htmlBuilder,x=b.mathmlBuilder,S={type:l,numArgs:f.numArgs,argTypes:f.argTypes,allowedInArgument:!!f.allowedInArgument,allowedInText:!!f.allowedInText,allowedInMath:f.allowedInMath===void 0?!0:f.allowedInMath,numOptionalArgs:f.numOptionalArgs||0,infix:!!f.infix,primitive:!!f.primitive,handler:p},E=0;E<c.length;++E)zc[c[E]]=S;l&&(v&&(ka[l]=v),x&&(Sa[l]=x))}function Qn(b){var l=b.type,c=b.htmlBuilder,f=b.mathmlBuilder;fe({type:l,names:[],props:{numArgs:0},handler:function(){throw new Error("Should never be called.")},htmlBuilder:c,mathmlBuilder:f})}var Aa=function(l){return l.type==="ordgroup"&&l.body.length===1?l.body[0]:l},ht=function(l){return l.type==="ordgroup"?l.body:[l]},an=$.makeSpan,gg=["leftmost","mbin","mopen","mrel","mop","mpunct"],yg=["rightmost","mrel","mclose","mpunct"],bg={display:ie.DISPLAY,text:ie.TEXT,script:ie.SCRIPT,scriptscript:ie.SCRIPTSCRIPT},xg={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},vt=function(l,c,f,p){p===void 0&&(p=[null,null]);for(var v=[],x=0;x<l.length;x++){var S=qe(l[x],c);if(S instanceof Cr){var E=S.children;v.push.apply(v,E)}else v.push(S)}if($.tryCombineChars(v),!f)return v;var z=c;if(l.length===1){var P=l[0];P.type==="sizing"?z=c.havingSize(P.size):P.type==="styling"&&(z=c.havingStyle(bg[P.style]))}var V=an([p[0]||"leftmost"],[],c),J=an([p[1]||"rightmost"],[],c),ee=f==="root";return Bc(v,function(Y,se){var le=se.classes[0],ve=Y.classes[0];le==="mbin"&&N.contains(yg,ve)?se.classes[0]="mord":ve==="mbin"&&N.contains(gg,le)&&(Y.classes[0]="mord")},{node:V},J,ee),Bc(v,function(Y,se){var le=ll(se),ve=ll(Y),we=le&&ve?Y.hasClass("mtight")?vg[le][ve]:mg[le][ve]:null;if(we)return $.makeGlue(we,z)},{node:V},J,ee),v},Bc=function b(l,c,f,p,v){p&&l.push(p);for(var x=0;x<l.length;x++){var S=l[x],E=Rc(S);if(E){b(E.children,c,f,null,v);continue}var z=!S.hasClass("mspace");if(z){var P=c(S,f.node);P&&(f.insertAfter?f.insertAfter(P):(l.unshift(P),x++))}z?f.node=S:v&&S.hasClass("newline")&&(f.node=an(["leftmost"])),f.insertAfter=function(V){return function(J){l.splice(V+1,0,J),x++}}(x)}p&&l.pop()},Rc=function(l){return l instanceof Cr||l instanceof Ct||l instanceof at&&l.hasClass("enclosing")?l:null},wg=function b(l,c){var f=Rc(l);if(f){var p=f.children;if(p.length){if(c==="right")return b(p[p.length-1],"right");if(c==="left")return b(p[0],"left")}}return l},ll=function(l,c){return l?(c&&(l=wg(l,c)),xg[l.classes[0]]||null):null},ho=function(l,c){var f=["nulldelimiter"].concat(l.baseSizingClasses());return an(c.concat(f))},qe=function(l,c,f){if(!l)return an();if(ka[l.type]){var p=ka[l.type](l,c);if(f&&c.size!==f.size){p=an(c.sizingClasses(f),[p],c);var v=c.sizeMultiplier/f.sizeMultiplier;p.height*=v,p.depth*=v}return p}else throw new o("Got group of unknown type: '"+l.type+"'")};function Ma(b,l){var c=an(["base"],b,l),f=an(["strut"]);return f.style.height=q(c.height+c.depth),c.depth&&(f.style.verticalAlign=q(-c.depth)),c.children.unshift(f),c}function ul(b,l){var c=null;b.length===1&&b[0].type==="tag"&&(c=b[0].tag,b=b[0].body);var f=vt(b,l,"root"),p;f.length===2&&f[1].hasClass("tag")&&(p=f.pop());for(var v=[],x=[],S=0;S<f.length;S++)if(x.push(f[S]),f[S].hasClass("mbin")||f[S].hasClass("mrel")||f[S].hasClass("allowbreak")){for(var E=!1;S<f.length-1&&f[S+1].hasClass("mspace")&&!f[S+1].hasClass("newline");)S++,x.push(f[S]),f[S].hasClass("nobreak")&&(E=!0);E||(v.push(Ma(x,l)),x=[])}else f[S].hasClass("newline")&&(x.pop(),x.length>0&&(v.push(Ma(x,l)),x=[]),v.push(f[S]));x.length>0&&v.push(Ma(x,l));var z;c?(z=Ma(vt(c,l,!0)),z.classes=["tag"],v.push(z)):p&&v.push(p);var P=an(["katex-html"],v);if(P.setAttribute("aria-hidden","true"),z){var V=z.children[0];V.style.height=q(P.height+P.depth),P.depth&&(V.style.verticalAlign=q(-P.depth))}return P}function Ic(b){return new Cr(b)}var mr=function(){function b(c,f,p){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=c,this.attributes={},this.children=f||[],this.classes=p||[]}var l=b.prototype;return l.setAttribute=function(f,p){this.attributes[f]=p},l.getAttribute=function(f){return this.attributes[f]},l.toNode=function(){var f=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var p in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,p)&&f.setAttribute(p,this.attributes[p]);this.classes.length>0&&(f.className=pe(this.classes));for(var v=0;v<this.children.length;v++)f.appendChild(this.children[v].toNode());return f},l.toMarkup=function(){var f="<"+this.type;for(var p in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,p)&&(f+=" "+p+'="',f+=N.escape(this.attributes[p]),f+='"');this.classes.length>0&&(f+=' class ="'+N.escape(pe(this.classes))+'"'),f+=">";for(var v=0;v<this.children.length;v++)f+=this.children[v].toMarkup();return f+="</"+this.type+">",f},l.toText=function(){return this.children.map(function(f){return f.toText()}).join("")},b}(),po=function(){function b(c){this.text=void 0,this.text=c}var l=b.prototype;return l.toNode=function(){return document.createTextNode(this.text)},l.toMarkup=function(){return N.escape(this.toText())},l.toText=function(){return this.text},b}(),kg=function(){function b(c){this.width=void 0,this.character=void 0,this.width=c,c>=.05555&&c<=.05556?this.character="\u200A":c>=.1666&&c<=.1667?this.character="\u2009":c>=.2222&&c<=.2223?this.character="\u2005":c>=.2777&&c<=.2778?this.character="\u2005\u200A":c>=-.05556&&c<=-.05555?this.character="\u200A\u2063":c>=-.1667&&c<=-.1666?this.character="\u2009\u2063":c>=-.2223&&c<=-.2222?this.character="\u205F\u2063":c>=-.2778&&c<=-.2777?this.character="\u2005\u2063":this.character=null}var l=b.prototype;return l.toNode=function(){if(this.character)return document.createTextNode(this.character);var f=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return f.setAttribute("width",q(this.width)),f},l.toMarkup=function(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+q(this.width)+'"/>'},l.toText=function(){return this.character?this.character:" "},b}(),ne={MathNode:mr,TextNode:po,SpaceNode:kg,newDocumentFragment:Ic},vr=function(l,c,f){return nt[c][l]&&nt[c][l].replace&&l.charCodeAt(0)!==55349&&!(Sc.hasOwnProperty(l)&&f&&(f.fontFamily&&f.fontFamily.substr(4,2)==="tt"||f.font&&f.font.substr(4,2)==="tt"))&&(l=nt[c][l].replace),new ne.TextNode(l)},cl=function(l){return l.length===1?l[0]:new ne.MathNode("mrow",l)},fl=function(l,c){if(c.fontFamily==="texttt")return"monospace";if(c.fontFamily==="textsf")return c.fontShape==="textit"&&c.fontWeight==="textbf"?"sans-serif-bold-italic":c.fontShape==="textit"?"sans-serif-italic":c.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(c.fontShape==="textit"&&c.fontWeight==="textbf")return"bold-italic";if(c.fontShape==="textit")return"italic";if(c.fontWeight==="textbf")return"bold";var f=c.font;if(!f||f==="mathnormal")return null;var p=l.mode;if(f==="mathit")return"italic";if(f==="boldsymbol")return l.type==="textord"?"bold":"bold-italic";if(f==="mathbf")return"bold";if(f==="mathbb")return"double-struck";if(f==="mathfrak")return"fraktur";if(f==="mathscr"||f==="mathcal")return"script";if(f==="mathsf")return"sans-serif";if(f==="mathtt")return"monospace";var v=l.text;if(N.contains(["\\imath","\\jmath"],v))return null;nt[p][v]&&nt[p][v].replace&&(v=nt[p][v].replace);var x=$.fontMap[f].fontName;return rn(v,x,p)?$.fontMap[f].variant:null},nr=function(l,c,f){if(l.length===1){var p=Ke(l[0],c);return f&&p instanceof mr&&p.type==="mo"&&(p.setAttribute("lspace","0em"),p.setAttribute("rspace","0em")),[p]}for(var v=[],x,S=0;S<l.length;S++){var E=Ke(l[S],c);if(E instanceof mr&&x instanceof mr){if(E.type==="mtext"&&x.type==="mtext"&&E.getAttribute("mathvariant")===x.getAttribute("mathvariant")){var z;(z=x.children).push.apply(z,E.children);continue}else if(E.type==="mn"&&x.type==="mn"){var P;(P=x.children).push.apply(P,E.children);continue}else if(E.type==="mi"&&E.children.length===1&&x.type==="mn"){var V=E.children[0];if(V instanceof po&&V.text==="."){var J;(J=x.children).push.apply(J,E.children);continue}}else if(x.type==="mi"&&x.children.length===1){var ee=x.children[0];if(ee instanceof po&&ee.text==="\u0338"&&(E.type==="mo"||E.type==="mi"||E.type==="mn")){var Y=E.children[0];Y instanceof po&&Y.text.length>0&&(Y.text=Y.text.slice(0,1)+"\u0338"+Y.text.slice(1),v.pop())}}}v.push(E),x=E}return v},Mn=function(l,c,f){return cl(nr(l,c,f))},Ke=function(l,c){if(!l)return new ne.MathNode("mrow");if(Sa[l.type]){var f=Sa[l.type](l,c);return f}else throw new o("Got group of unknown type: '"+l.type+"'")};function Fc(b,l,c,f,p){var v=nr(b,c),x;v.length===1&&v[0]instanceof mr&&N.contains(["mrow","mtable"],v[0].type)?x=v[0]:x=new ne.MathNode("mrow",v);var S=new ne.MathNode("annotation",[new ne.TextNode(l)]);S.setAttribute("encoding","application/x-tex");var E=new ne.MathNode("semantics",[x,S]),z=new ne.MathNode("math",[E]);z.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),f&&z.setAttribute("display","block");var P=p?"katex":"katex-mathml";return $.makeSpan([P],[z])}var Pc=function(l){return new el({style:l.displayMode?ie.DISPLAY:ie.TEXT,maxSize:l.maxSize,minRuleThickness:l.minRuleThickness})},Lc=function(l,c){if(c.displayMode){var f=["katex-display"];c.leqno&&f.push("leqno"),c.fleqn&&f.push("fleqn"),l=$.makeSpan(f,[l])}return l},Sg=function(l,c,f){var p=Pc(f),v;if(f.output==="mathml")return Fc(l,c,p,f.displayMode,!0);if(f.output==="html"){var x=ul(l,p);v=$.makeSpan(["katex"],[x])}else{var S=Fc(l,c,p,f.displayMode,!1),E=ul(l,p);v=$.makeSpan(["katex"],[S,E])}return Lc(v,f)},Ag=function(l,c,f){var p=Pc(f),v=ul(l,p),x=$.makeSpan(["katex"],[v]);return Lc(x,f)},Mg={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},Cg=function(l){var c=new ne.MathNode("mo",[new ne.TextNode(Mg[l.replace(/^\\/,"")])]);return c.setAttribute("stretchy","true"),c},Tg={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Eg=function(l){return l.type==="ordgroup"?l.body.length:1},Og=function(l,c){function f(){var E=4e5,z=l.label.substr(1);if(N.contains(["widehat","widecheck","widetilde","utilde"],z)){var P=l,V=Eg(P.base),J,ee,Y;if(V>5)z==="widehat"||z==="widecheck"?(J=420,E=2364,Y=.42,ee=z+"4"):(J=312,E=2340,Y=.34,ee="tilde4");else{var se=[1,1,2,2,3,3][V];z==="widehat"||z==="widecheck"?(E=[0,1062,2364,2364,2364][se],J=[0,239,300,360,420][se],Y=[0,.24,.3,.3,.36,.42][se],ee=z+se):(E=[0,600,1033,2339,2340][se],J=[0,260,286,306,312][se],Y=[0,.26,.286,.3,.306,.34][se],ee="tilde"+se)}var le=new dr(ee),ve=new pr([le],{width:"100%",height:q(Y),viewBox:"0 0 "+E+" "+J,preserveAspectRatio:"none"});return{span:$.makeSvgSpan([],[ve],c),minWidth:0,height:Y}}else{var we=[],Ae=Tg[z],$e=Ae[0],ze=Ae[1],We=Ae[2],Le=We/1e3,Ge=$e.length,st,Xe;if(Ge===1){var ir=Ae[3];st=["hide-tail"],Xe=[ir]}else if(Ge===2)st=["halfarrow-left","halfarrow-right"],Xe=["xMinYMin","xMaxYMin"];else if(Ge===3)st=["brace-left","brace-center","brace-right"],Xe=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+Ge+" children.");for(var or=0;or<Ge;or++){var En=new dr($e[or]),jr=new pr([En],{width:"400em",height:q(Le),viewBox:"0 0 "+E+" "+We,preserveAspectRatio:Xe[or]+" slice"}),ar=$.makeSvgSpan([st[or]],[jr],c);if(Ge===1)return{span:ar,minWidth:ze,height:Le};ar.style.height=q(Le),we.push(ar)}return{span:$.makeSpan(["stretchy"],we,c),minWidth:ze,height:Le}}}var p=f(),v=p.span,x=p.minWidth,S=p.height;return v.height=S,v.style.height=q(S),x>0&&(v.style.minWidth=q(x)),v},_g=function(l,c,f,p,v){var x,S=l.height+l.depth+f+p;if(/fbox|color|angl/.test(c)){if(x=$.makeSpan(["stretchy",c],[],v),c==="fbox"){var E=v.color&&v.getColor();E&&(x.style.borderColor=E)}}else{var z=[];/^[bx]cancel$/.test(c)&&z.push(new Fr({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(c)&&z.push(new Fr({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var P=new pr(z,{width:"100%",height:q(S)});x=$.makeSvgSpan([],[P],v)}return x.height=S,x.style.height=q(S),x},sn={encloseSpan:_g,mathMLnode:Cg,svgSpan:Og};function De(b,l){if(!b||b.type!==l)throw new Error("Expected node of type "+l+", but got "+(b?"node of type "+b.type:String(b)));return b}function hl(b){var l=Ca(b);if(!l)throw new Error("Expected node of symbol group type, but got "+(b?"node of type "+b.type:String(b)));return l}function Ca(b){return b&&(b.type==="atom"||tg.hasOwnProperty(b.type))?b:null}var pl=function(l,c){var f,p,v;l&&l.type==="supsub"?(p=De(l.base,"accent"),f=p.base,l.base=f,v=fo(qe(l,c)),l.base=p):(p=De(l,"accent"),f=p.base);var x=qe(f,c.havingCrampedStyle()),S=p.isShifty&&N.isCharacterBox(f),E=0;if(S){var z=N.getBaseElem(f),P=qe(z,c.havingCrampedStyle());E=pa(P).skew}var V=p.label==="\\c",J=V?x.height+x.depth:Math.min(x.height,c.fontMetrics().xHeight),ee;if(p.isStretchy)ee=sn.svgSpan(p,c),ee=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:x},{type:"elem",elem:ee,wrapperClasses:["svg-align"],wrapperStyle:E>0?{width:"calc(100% - "+q(2*E)+")",marginLeft:q(2*E)}:void 0}]},c);else{var Y,se;p.label==="\\vec"?(Y=$.staticSvg("vec",c),se=$.svgData.vec[1]):(Y=$.makeOrd({mode:p.mode,text:p.label},c,"textord"),Y=pa(Y),Y.italic=0,se=Y.width,V&&(J+=Y.depth)),ee=$.makeSpan(["accent-body"],[Y]);var le=p.label==="\\textcircled";le&&(ee.classes.push("accent-full"),J=x.height);var ve=E;le||(ve-=se/2),ee.style.left=q(ve),p.label==="\\textcircled"&&(ee.style.top=".2em"),ee=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:x},{type:"kern",size:-J},{type:"elem",elem:ee}]},c)}var we=$.makeSpan(["mord","accent"],[ee],c);return v?(v.children[0]=we,v.height=Math.max(we.height,v.height),v.classes[0]="mord",v):we},qc=function(l,c){var f=l.isStretchy?sn.mathMLnode(l.label):new ne.MathNode("mo",[vr(l.label,l.mode)]),p=new ne.MathNode("mover",[Ke(l.base,c),f]);return p.setAttribute("accent","true"),p},Ng=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(function(b){return"\\"+b}).join("|"));fe({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:function(l,c){var f=Aa(c[0]),p=!Ng.test(l.funcName),v=!p||l.funcName==="\\widehat"||l.funcName==="\\widetilde"||l.funcName==="\\widecheck";return{type:"accent",mode:l.parser.mode,label:l.funcName,isStretchy:p,isShifty:v,base:f}},htmlBuilder:pl,mathmlBuilder:qc}),fe({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:function(l,c){var f=c[0],p=l.parser.mode;return p==="math"&&(l.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+l.funcName+" works only in text mode"),p="text"),{type:"accent",mode:p,label:l.funcName,isStretchy:!1,isShifty:!0,base:f}},htmlBuilder:pl,mathmlBuilder:qc}),fe({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:function(l,c){var f=l.parser,p=l.funcName,v=c[0];return{type:"accentUnder",mode:f.mode,label:p,base:v}},htmlBuilder:function(l,c){var f=qe(l.base,c),p=sn.svgSpan(l,c),v=l.label==="\\utilde"?.12:0,x=$.makeVList({positionType:"top",positionData:f.height,children:[{type:"elem",elem:p,wrapperClasses:["svg-align"]},{type:"kern",size:v},{type:"elem",elem:f}]},c);return $.makeSpan(["mord","accentunder"],[x],c)},mathmlBuilder:function(l,c){var f=sn.mathMLnode(l.label),p=new ne.MathNode("munder",[Ke(l.base,c),f]);return p.setAttribute("accentunder","true"),p}});var Ta=function(l){var c=new ne.MathNode("mpadded",l?[l]:[]);return c.setAttribute("width","+0.6em"),c.setAttribute("lspace","0.3em"),c};fe({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler:function(l,c,f){var p=l.parser,v=l.funcName;return{type:"xArrow",mode:p.mode,label:v,body:c[0],below:f[0]}},htmlBuilder:function(l,c){var f=c.style,p=c.havingStyle(f.sup()),v=$.wrapFragment(qe(l.body,p,c),c),x=l.label.slice(0,2)==="\\x"?"x":"cd";v.classes.push(x+"-arrow-pad");var S;l.below&&(p=c.havingStyle(f.sub()),S=$.wrapFragment(qe(l.below,p,c),c),S.classes.push(x+"-arrow-pad"));var E=sn.svgSpan(l,c),z=-c.fontMetrics().axisHeight+.5*E.height,P=-c.fontMetrics().axisHeight-.5*E.height-.111;(v.depth>.25||l.label==="\\xleftequilibrium")&&(P-=v.depth);var V;if(S){var J=-c.fontMetrics().axisHeight+S.height+.5*E.height+.111;V=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:v,shift:P},{type:"elem",elem:E,shift:z},{type:"elem",elem:S,shift:J}]},c)}else V=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:v,shift:P},{type:"elem",elem:E,shift:z}]},c);return V.children[0].children[0].children[1].classes.push("svg-align"),$.makeSpan(["mrel","x-arrow"],[V],c)},mathmlBuilder:function(l,c){var f=sn.mathMLnode(l.label);f.setAttribute("minsize",l.label.charAt(0)==="x"?"1.75em":"3.0em");var p;if(l.body){var v=Ta(Ke(l.body,c));if(l.below){var x=Ta(Ke(l.below,c));p=new ne.MathNode("munderover",[f,x,v])}else p=new ne.MathNode("mover",[f,v])}else if(l.below){var S=Ta(Ke(l.below,c));p=new ne.MathNode("munder",[f,S])}else p=Ta(),p=new ne.MathNode("mover",[f,p]);return p}});var Dg={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Hc=function(){return{type:"styling",body:[],mode:"math",style:"display"}},jc=function(l){return l.type==="textord"&&l.text==="@"},zg=function(l,c){return(l.type==="mathord"||l.type==="atom")&&l.text===c};function Bg(b,l,c){var f=Dg[b];switch(f){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return c.callFunction(f,[l[0]],[l[1]]);case"\\uparrow":case"\\downarrow":{var p=c.callFunction("\\\\cdleft",[l[0]],[]),v={type:"atom",text:f,mode:"math",family:"rel"},x=c.callFunction("\\Big",[v],[]),S=c.callFunction("\\\\cdright",[l[1]],[]),E={type:"ordgroup",mode:"math",body:[p,x,S]};return c.callFunction("\\\\cdparent",[E],[])}case"\\\\cdlongequal":return c.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var z={type:"textord",text:"\\Vert",mode:"math"};return c.callFunction("\\Big",[z],[])}default:return{type:"textord",text:" ",mode:"math"}}}function Rg(b){var l=[];for(b.gullet.beginGroup(),b.gullet.macros.set("\\cr","\\\\\\relax"),b.gullet.beginGroup();;){l.push(b.parseExpression(!1,"\\\\")),b.gullet.endGroup(),b.gullet.beginGroup();var c=b.fetch().text;if(c==="&"||c==="\\\\")b.consume();else if(c==="\\end"){l[l.length-1].length===0&&l.pop();break}else throw new o("Expected \\\\ or \\cr or \\end",b.nextToken)}for(var f=[],p=[f],v=0;v<l.length;v++){for(var x=l[v],S=Hc(),E=0;E<x.length;E++)if(!jc(x[E]))S.body.push(x[E]);else{f.push(S),E+=1;var z=hl(x[E]).text,P=new Array(2);if(P[0]={type:"ordgroup",mode:"math",body:[]},P[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(z)>-1))if("<>AV".indexOf(z)>-1)for(var V=0;V<2;V++){for(var J=!0,ee=E+1;ee<x.length;ee++){if(zg(x[ee],z)){J=!1,E=ee;break}if(jc(x[ee]))throw new o("Missing a "+z+" character to complete a CD arrow.",x[ee]);P[V].body.push(x[ee])}if(J)throw new o("Missing a "+z+" character to complete a CD arrow.",x[E])}else throw new o('Expected one of "<>AV=|." after @',x[E]);var Y=Bg(z,P,b),se={type:"styling",body:[Y],mode:"math",style:"display"};f.push(se),S=Hc()}v%2===0?f.push(S):f.shift(),f=[],p.push(f)}b.gullet.endGroup(),b.gullet.endGroup();var le=new Array(p[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:p,arraystretch:1,addJot:!0,rowGaps:[null],cols:le,colSeparationType:"CD",hLinesBeforeRow:new Array(p.length+1).fill([])}}fe({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler:function(l,c){var f=l.parser,p=l.funcName;return{type:"cdlabel",mode:f.mode,side:p.slice(4),label:c[0]}},htmlBuilder:function(l,c){var f=c.havingStyle(c.style.sup()),p=$.wrapFragment(qe(l.label,f,c),c);return p.classes.push("cd-label-"+l.side),p.style.bottom=q(.8-p.depth),p.height=0,p.depth=0,p},mathmlBuilder:function(l,c){var f=new ne.MathNode("mrow",[Ke(l.label,c)]);return f=new ne.MathNode("mpadded",[f]),f.setAttribute("width","0"),l.side==="left"&&f.setAttribute("lspace","-1width"),f.setAttribute("voffset","0.7em"),f=new ne.MathNode("mstyle",[f]),f.setAttribute("displaystyle","false"),f.setAttribute("scriptlevel","1"),f}}),fe({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler:function(l,c){var f=l.parser;return{type:"cdlabelparent",mode:f.mode,fragment:c[0]}},htmlBuilder:function(l,c){var f=$.wrapFragment(qe(l.fragment,c),c);return f.classes.push("cd-vert-arrow"),f},mathmlBuilder:function(l,c){return new ne.MathNode("mrow",[Ke(l.fragment,c)])}}),fe({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler:function(l,c){for(var f=l.parser,p=De(c[0],"ordgroup"),v=p.body,x="",S=0;S<v.length;S++){var E=De(v[S],"textord");x+=E.text}var z=parseInt(x),P;if(isNaN(z))throw new o("\\@char has non-numeric argument "+x);if(z<0||z>=1114111)throw new o("\\@char with invalid code point "+x);return z<=65535?P=String.fromCharCode(z):(z-=65536,P=String.fromCharCode((z>>10)+55296,(z&1023)+56320)),{type:"textord",mode:f.mode,text:P}}});var Vc=function(l,c){var f=vt(l.body,c.withColor(l.color),!1);return $.makeFragment(f)},$c=function(l,c){var f=nr(l.body,c.withColor(l.color)),p=new ne.MathNode("mstyle",f);return p.setAttribute("mathcolor",l.color),p};fe({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler:function(l,c){var f=l.parser,p=De(c[0],"color-token").color,v=c[1];return{type:"color",mode:f.mode,color:p,body:ht(v)}},htmlBuilder:Vc,mathmlBuilder:$c}),fe({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler:function(l,c){var f=l.parser,p=l.breakOnTokenText,v=De(c[0],"color-token").color;f.gullet.macros.set("\\current@color",v);var x=f.parseExpression(!0,p);return{type:"color",mode:f.mode,color:v,body:x}},htmlBuilder:Vc,mathmlBuilder:$c}),fe({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler:function(l,c,f){var p=l.parser,v=f[0],x=!p.settings.displayMode||!p.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:p.mode,newLine:x,size:v&&De(v,"size").value}},htmlBuilder:function(l,c){var f=$.makeSpan(["mspace"],[],c);return l.newLine&&(f.classes.push("newline"),l.size&&(f.style.marginTop=q(et(l.size,c)))),f},mathmlBuilder:function(l,c){var f=new ne.MathNode("mspace");return l.newLine&&(f.setAttribute("linebreak","newline"),l.size&&f.setAttribute("height",q(et(l.size,c)))),f}});var dl={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Gc=function(l){var c=l.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(c))throw new o("Expected a control sequence",l);return c},Ig=function(l){var c=l.gullet.popToken();return c.text==="="&&(c=l.gullet.popToken(),c.text===" "&&(c=l.gullet.popToken())),c},Wc=function(l,c,f,p){var v=l.gullet.macros.get(f.text);v==null&&(f.noexpand=!0,v={tokens:[f],numArgs:0,unexpandable:!l.gullet.isExpandable(f.text)}),l.gullet.macros.set(c,v,p)};fe({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler:function(l){var c=l.parser,f=l.funcName;c.consumeSpaces();var p=c.fetch();if(dl[p.text])return(f==="\\global"||f==="\\\\globallong")&&(p.text=dl[p.text]),De(c.parseFunction(),"internal");throw new o("Invalid token after macro prefix",p)}}),fe({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(l){var c=l.parser,f=l.funcName,p=c.gullet.popToken(),v=p.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(v))throw new o("Expected a control sequence",p);for(var x=0,S,E=[[]];c.gullet.future().text!=="{";)if(p=c.gullet.popToken(),p.text==="#"){if(c.gullet.future().text==="{"){S=c.gullet.future(),E[x].push("{");break}if(p=c.gullet.popToken(),!/^[1-9]$/.test(p.text))throw new o('Invalid argument number "'+p.text+'"');if(parseInt(p.text)!==x+1)throw new o('Argument number "'+p.text+'" out of order');x++,E.push([])}else{if(p.text==="EOF")throw new o("Expected a macro definition");E[x].push(p.text)}var z=c.gullet.consumeArg(),P=z.tokens;return S&&P.unshift(S),(f==="\\edef"||f==="\\xdef")&&(P=c.gullet.expandTokens(P),P.reverse()),c.gullet.macros.set(v,{tokens:P,numArgs:x,delimiters:E},f===dl[f]),{type:"internal",mode:c.mode}}}),fe({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(l){var c=l.parser,f=l.funcName,p=Gc(c.gullet.popToken());c.gullet.consumeSpaces();var v=Ig(c);return Wc(c,p,v,f==="\\\\globallet"),{type:"internal",mode:c.mode}}}),fe({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(l){var c=l.parser,f=l.funcName,p=Gc(c.gullet.popToken()),v=c.gullet.popToken(),x=c.gullet.popToken();return Wc(c,p,x,f==="\\\\globalfuture"),c.gullet.pushToken(x),c.gullet.pushToken(v),{type:"internal",mode:c.mode}}});var mo=function(l,c,f){var p=nt.math[l]&&nt.math[l].replace,v=rn(p||l,c,f);if(!v)throw new Error("Unsupported symbol "+l+" and font size "+c+".");return v},ml=function(l,c,f,p){var v=f.havingBaseStyle(c),x=$.makeSpan(p.concat(v.sizingClasses(f)),[l],f),S=v.sizeMultiplier/f.sizeMultiplier;return x.height*=S,x.depth*=S,x.maxFontSize=v.sizeMultiplier,x},Uc=function(l,c,f){var p=c.havingBaseStyle(f),v=(1-c.sizeMultiplier/p.sizeMultiplier)*c.fontMetrics().axisHeight;l.classes.push("delimcenter"),l.style.top=q(v),l.height-=v,l.depth+=v},Fg=function(l,c,f,p,v,x){var S=$.makeSymbol(l,"Main-Regular",v,p),E=ml(S,c,p,x);return f&&Uc(E,p,c),E},Pg=function(l,c,f,p){return $.makeSymbol(l,"Size"+c+"-Regular",f,p)},Kc=function(l,c,f,p,v,x){var S=Pg(l,c,v,p),E=ml($.makeSpan(["delimsizing","size"+c],[S],p),ie.TEXT,p,x);return f&&Uc(E,p,ie.TEXT),E},vl=function(l,c,f){var p;c==="Size1-Regular"?p="delim-size1":p="delim-size4";var v=$.makeSpan(["delimsizinginner",p],[$.makeSpan([],[$.makeSymbol(l,c,f)])]);return{type:"elem",elem:v}},gl=function(l,c,f){var p=It["Size4-Regular"][l.charCodeAt(0)]?It["Size4-Regular"][l.charCodeAt(0)][4]:It["Size1-Regular"][l.charCodeAt(0)][4],v=new dr("inner",ki(l,Math.round(1e3*c))),x=new pr([v],{width:q(p),height:q(c),style:"width:"+q(p),viewBox:"0 0 "+1e3*p+" "+Math.round(1e3*c),preserveAspectRatio:"xMinYMin"}),S=$.makeSvgSpan([],[x],f);return S.height=c,S.style.height=q(c),S.style.width=q(p),{type:"elem",elem:S}},yl=.008,Ea={type:"kern",size:-1*yl},Lg=["|","\\lvert","\\rvert","\\vert"],qg=["\\|","\\lVert","\\rVert","\\Vert"],Jc=function(l,c,f,p,v,x){var S,E,z,P;S=z=P=l,E=null;var V="Size1-Regular";l==="\\uparrow"?z=P="\u23D0":l==="\\Uparrow"?z=P="\u2016":l==="\\downarrow"?S=z="\u23D0":l==="\\Downarrow"?S=z="\u2016":l==="\\updownarrow"?(S="\\uparrow",z="\u23D0",P="\\downarrow"):l==="\\Updownarrow"?(S="\\Uparrow",z="\u2016",P="\\Downarrow"):N.contains(Lg,l)?z="\u2223":N.contains(qg,l)?z="\u2225":l==="["||l==="\\lbrack"?(S="\u23A1",z="\u23A2",P="\u23A3",V="Size4-Regular"):l==="]"||l==="\\rbrack"?(S="\u23A4",z="\u23A5",P="\u23A6",V="Size4-Regular"):l==="\\lfloor"||l==="\u230A"?(z=S="\u23A2",P="\u23A3",V="Size4-Regular"):l==="\\lceil"||l==="\u2308"?(S="\u23A1",z=P="\u23A2",V="Size4-Regular"):l==="\\rfloor"||l==="\u230B"?(z=S="\u23A5",P="\u23A6",V="Size4-Regular"):l==="\\rceil"||l==="\u2309"?(S="\u23A4",z=P="\u23A5",V="Size4-Regular"):l==="("||l==="\\lparen"?(S="\u239B",z="\u239C",P="\u239D",V="Size4-Regular"):l===")"||l==="\\rparen"?(S="\u239E",z="\u239F",P="\u23A0",V="Size4-Regular"):l==="\\{"||l==="\\lbrace"?(S="\u23A7",E="\u23A8",P="\u23A9",z="\u23AA",V="Size4-Regular"):l==="\\}"||l==="\\rbrace"?(S="\u23AB",E="\u23AC",P="\u23AD",z="\u23AA",V="Size4-Regular"):l==="\\lgroup"||l==="\u27EE"?(S="\u23A7",P="\u23A9",z="\u23AA",V="Size4-Regular"):l==="\\rgroup"||l==="\u27EF"?(S="\u23AB",P="\u23AD",z="\u23AA",V="Size4-Regular"):l==="\\lmoustache"||l==="\u23B0"?(S="\u23A7",P="\u23AD",z="\u23AA",V="Size4-Regular"):(l==="\\rmoustache"||l==="\u23B1")&&(S="\u23AB",P="\u23A9",z="\u23AA",V="Size4-Regular");var J=mo(S,V,v),ee=J.height+J.depth,Y=mo(z,V,v),se=Y.height+Y.depth,le=mo(P,V,v),ve=le.height+le.depth,we=0,Ae=1;if(E!==null){var $e=mo(E,V,v);we=$e.height+$e.depth,Ae=2}var ze=ee+ve+we,We=Math.max(0,Math.ceil((c-ze)/(Ae*se))),Le=ze+We*Ae*se,Ge=p.fontMetrics().axisHeight;f&&(Ge*=p.sizeMultiplier);var st=Le/2-Ge,Xe=[];if(Xe.push(vl(P,V,v)),Xe.push(Ea),E===null){var ir=Le-ee-ve+2*yl;Xe.push(gl(z,ir,p))}else{var or=(Le-ee-ve-we)/2+2*yl;Xe.push(gl(z,or,p)),Xe.push(Ea),Xe.push(vl(E,V,v)),Xe.push(Ea),Xe.push(gl(z,or,p))}Xe.push(Ea),Xe.push(vl(S,V,v));var En=p.havingBaseStyle(ie.TEXT),jr=$.makeVList({positionType:"bottom",positionData:st,children:Xe},En);return ml($.makeSpan(["delimsizing","mult"],[jr],En),ie.TEXT,p,x)},bl=80,xl=.08,wl=function(l,c,f,p,v){var x=wi(l,p,f),S=new dr(l,x),E=new pr([S],{width:"400em",height:q(c),viewBox:"0 0 400000 "+f,preserveAspectRatio:"xMinYMin slice"});return $.makeSvgSpan(["hide-tail"],[E],v)},Hg=function(l,c){var f=c.havingBaseSizing(),p=Qc("\\surd",l*f.sizeMultiplier,Zc,f),v=f.sizeMultiplier,x=Math.max(0,c.minRuleThickness-c.fontMetrics().sqrtRuleThickness),S,E=0,z=0,P=0,V;return p.type==="small"?(P=1e3+1e3*x+bl,l<1?v=1:l<1.4&&(v=.7),E=(1+x+xl)/v,z=(1+x)/v,S=wl("sqrtMain",E,P,x,c),S.style.minWidth="0.853em",V=.833/v):p.type==="large"?(P=(1e3+bl)*vo[p.size],z=(vo[p.size]+x)/v,E=(vo[p.size]+x+xl)/v,S=wl("sqrtSize"+p.size,E,P,x,c),S.style.minWidth="1.02em",V=1/v):(E=l+x+xl,z=l+x,P=Math.floor(1e3*l+x)+bl,S=wl("sqrtTall",E,P,x,c),S.style.minWidth="0.742em",V=1.056),S.height=z,S.style.height=q(E),{span:S,advanceWidth:V,ruleWidth:(c.fontMetrics().sqrtRuleThickness+x)*v}},Xc=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],jg=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],Yc=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],vo=[0,1.2,1.8,2.4,3],Vg=function(l,c,f,p,v){if(l==="<"||l==="\\lt"||l==="\u27E8"?l="\\langle":(l===">"||l==="\\gt"||l==="\u27E9")&&(l="\\rangle"),N.contains(Xc,l)||N.contains(Yc,l))return Kc(l,c,!1,f,p,v);if(N.contains(jg,l))return Jc(l,vo[c],!1,f,p,v);throw new o("Illegal delimiter: '"+l+"'")},$g=[{type:"small",style:ie.SCRIPTSCRIPT},{type:"small",style:ie.SCRIPT},{type:"small",style:ie.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],Gg=[{type:"small",style:ie.SCRIPTSCRIPT},{type:"small",style:ie.SCRIPT},{type:"small",style:ie.TEXT},{type:"stack"}],Zc=[{type:"small",style:ie.SCRIPTSCRIPT},{type:"small",style:ie.SCRIPT},{type:"small",style:ie.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],Wg=function(l){if(l.type==="small")return"Main-Regular";if(l.type==="large")return"Size"+l.size+"-Regular";if(l.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+l.type+"' here.")},Qc=function(l,c,f,p){for(var v=Math.min(2,3-p.style.size),x=v;x<f.length&&f[x].type!=="stack";x++){var S=mo(l,Wg(f[x]),"math"),E=S.height+S.depth;if(f[x].type==="small"){var z=p.havingBaseStyle(f[x].style);E*=z.sizeMultiplier}if(E>c)return f[x]}return f[f.length-1]},ef=function(l,c,f,p,v,x){l==="<"||l==="\\lt"||l==="\u27E8"?l="\\langle":(l===">"||l==="\\gt"||l==="\u27E9")&&(l="\\rangle");var S;N.contains(Yc,l)?S=$g:N.contains(Xc,l)?S=Zc:S=Gg;var E=Qc(l,c,S,p);return E.type==="small"?Fg(l,E.style,f,p,v,x):E.type==="large"?Kc(l,E.size,f,p,v,x):Jc(l,c,f,p,v,x)},Ug=function(l,c,f,p,v,x){var S=p.fontMetrics().axisHeight*p.sizeMultiplier,E=901,z=5/p.fontMetrics().ptPerEm,P=Math.max(c-S,f+S),V=Math.max(P/500*E,2*P-z);return ef(l,V,!0,p,v,x)},ln={sqrtImage:Hg,sizedDelim:Vg,sizeToMaxHeight:vo,customSizedDelim:ef,leftRightDelim:Ug},tf={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},Kg=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Oa(b,l){var c=Ca(b);if(c&&N.contains(Kg,c.text))return c;throw c?new o("Invalid delimiter '"+c.text+"' after '"+l.funcName+"'",b):new o("Invalid delimiter type '"+b.type+"'",b)}fe({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:function(l,c){var f=Oa(c[0],l);return{type:"delimsizing",mode:l.parser.mode,size:tf[l.funcName].size,mclass:tf[l.funcName].mclass,delim:f.text}},htmlBuilder:function(l,c){return l.delim==="."?$.makeSpan([l.mclass]):ln.sizedDelim(l.delim,l.size,c,l.mode,[l.mclass])},mathmlBuilder:function(l){var c=[];l.delim!=="."&&c.push(vr(l.delim,l.mode));var f=new ne.MathNode("mo",c);l.mclass==="mopen"||l.mclass==="mclose"?f.setAttribute("fence","true"):f.setAttribute("fence","false"),f.setAttribute("stretchy","true");var p=q(ln.sizeToMaxHeight[l.size]);return f.setAttribute("minsize",p),f.setAttribute("maxsize",p),f}});function rf(b){if(!b.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}fe({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:function(l,c){var f=l.parser.gullet.macros.get("\\current@color");if(f&&typeof f!="string")throw new o("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:l.parser.mode,delim:Oa(c[0],l).text,color:f}}}),fe({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:function(l,c){var f=Oa(c[0],l),p=l.parser;++p.leftrightDepth;var v=p.parseExpression(!1);--p.leftrightDepth,p.expect("\\right",!1);var x=De(p.parseFunction(),"leftright-right");return{type:"leftright",mode:p.mode,body:v,left:f.text,right:x.delim,rightColor:x.color}},htmlBuilder:function(l,c){rf(l);for(var f=vt(l.body,c,!0,["mopen","mclose"]),p=0,v=0,x=!1,S=0;S<f.length;S++)f[S].isMiddle?x=!0:(p=Math.max(f[S].height,p),v=Math.max(f[S].depth,v));p*=c.sizeMultiplier,v*=c.sizeMultiplier;var E;if(l.left==="."?E=ho(c,["mopen"]):E=ln.leftRightDelim(l.left,p,v,c,l.mode,["mopen"]),f.unshift(E),x)for(var z=1;z<f.length;z++){var P=f[z],V=P.isMiddle;V&&(f[z]=ln.leftRightDelim(V.delim,p,v,V.options,l.mode,[]))}var J;if(l.right===".")J=ho(c,["mclose"]);else{var ee=l.rightColor?c.withColor(l.rightColor):c;J=ln.leftRightDelim(l.right,p,v,ee,l.mode,["mclose"])}return f.push(J),$.makeSpan(["minner"],f,c)},mathmlBuilder:function(l,c){rf(l);var f=nr(l.body,c);if(l.left!=="."){var p=new ne.MathNode("mo",[vr(l.left,l.mode)]);p.setAttribute("fence","true"),f.unshift(p)}if(l.right!=="."){var v=new ne.MathNode("mo",[vr(l.right,l.mode)]);v.setAttribute("fence","true"),l.rightColor&&v.setAttribute("mathcolor",l.rightColor),f.push(v)}return cl(f)}}),fe({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:function(l,c){var f=Oa(c[0],l);if(!l.parser.leftrightDepth)throw new o("\\middle without preceding \\left",f);return{type:"middle",mode:l.parser.mode,delim:f.text}},htmlBuilder:function(l,c){var f;if(l.delim===".")f=ho(c,[]);else{f=ln.sizedDelim(l.delim,1,c,l.mode,[]);var p={delim:l.delim,options:c};f.isMiddle=p}return f},mathmlBuilder:function(l,c){var f=l.delim==="\\vert"||l.delim==="|"?vr("|","text"):vr(l.delim,l.mode),p=new ne.MathNode("mo",[f]);return p.setAttribute("fence","true"),p.setAttribute("lspace","0.05em"),p.setAttribute("rspace","0.05em"),p}});var kl=function(l,c){var f=$.wrapFragment(qe(l.body,c),c),p=l.label.substr(1),v=c.sizeMultiplier,x,S=0,E=N.isCharacterBox(l.body);if(p==="sout")x=$.makeSpan(["stretchy","sout"]),x.height=c.fontMetrics().defaultRuleThickness/v,S=-.5*c.fontMetrics().xHeight;else if(p==="phase"){var z=et({number:.6,unit:"pt"},c),P=et({number:.35,unit:"ex"},c),V=c.havingBaseSizing();v=v/V.sizeMultiplier;var J=f.height+f.depth+z+P;f.style.paddingLeft=q(J/2+z);var ee=Math.floor(1e3*J*v),Y=wn(ee),se=new pr([new dr("phase",Y)],{width:"400em",height:q(ee/1e3),viewBox:"0 0 400000 "+ee,preserveAspectRatio:"xMinYMin slice"});x=$.makeSvgSpan(["hide-tail"],[se],c),x.style.height=q(J),S=f.depth+z+P}else{/cancel/.test(p)?E||f.classes.push("cancel-pad"):p==="angl"?f.classes.push("anglpad"):f.classes.push("boxpad");var le=0,ve=0,we=0;/box/.test(p)?(we=Math.max(c.fontMetrics().fboxrule,c.minRuleThickness),le=c.fontMetrics().fboxsep+(p==="colorbox"?0:we),ve=le):p==="angl"?(we=Math.max(c.fontMetrics().defaultRuleThickness,c.minRuleThickness),le=4*we,ve=Math.max(0,.25-f.depth)):(le=E?.2:0,ve=le),x=sn.encloseSpan(f,p,le,ve,c),/fbox|boxed|fcolorbox/.test(p)?(x.style.borderStyle="solid",x.style.borderWidth=q(we)):p==="angl"&&we!==.049&&(x.style.borderTopWidth=q(we),x.style.borderRightWidth=q(we)),S=f.depth+ve,l.backgroundColor&&(x.style.backgroundColor=l.backgroundColor,l.borderColor&&(x.style.borderColor=l.borderColor))}var Ae;if(l.backgroundColor)Ae=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:x,shift:S},{type:"elem",elem:f,shift:0}]},c);else{var $e=/cancel|phase/.test(p)?["svg-align"]:[];Ae=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:f,shift:0},{type:"elem",elem:x,shift:S,wrapperClasses:$e}]},c)}return/cancel/.test(p)&&(Ae.height=f.height,Ae.depth=f.depth),/cancel/.test(p)&&!E?$.makeSpan(["mord","cancel-lap"],[Ae],c):$.makeSpan(["mord"],[Ae],c)},Sl=function(l,c){var f=0,p=new ne.MathNode(l.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ke(l.body,c)]);switch(l.label){case"\\cancel":p.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":p.setAttribute("notation","downdiagonalstrike");break;case"\\phase":p.setAttribute("notation","phasorangle");break;case"\\sout":p.setAttribute("notation","horizontalstrike");break;case"\\fbox":p.setAttribute("notation","box");break;case"\\angl":p.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(f=c.fontMetrics().fboxsep*c.fontMetrics().ptPerEm,p.setAttribute("width","+"+2*f+"pt"),p.setAttribute("height","+"+2*f+"pt"),p.setAttribute("lspace",f+"pt"),p.setAttribute("voffset",f+"pt"),l.label==="\\fcolorbox"){var v=Math.max(c.fontMetrics().fboxrule,c.minRuleThickness);p.setAttribute("style","border: "+v+"em solid "+String(l.borderColor))}break;case"\\xcancel":p.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return l.backgroundColor&&p.setAttribute("mathbackground",l.backgroundColor),p};fe({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler:function(l,c,f){var p=l.parser,v=l.funcName,x=De(c[0],"color-token").color,S=c[1];return{type:"enclose",mode:p.mode,label:v,backgroundColor:x,body:S}},htmlBuilder:kl,mathmlBuilder:Sl}),fe({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler:function(l,c,f){var p=l.parser,v=l.funcName,x=De(c[0],"color-token").color,S=De(c[1],"color-token").color,E=c[2];return{type:"enclose",mode:p.mode,label:v,backgroundColor:S,borderColor:x,body:E}},htmlBuilder:kl,mathmlBuilder:Sl}),fe({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler:function(l,c){var f=l.parser;return{type:"enclose",mode:f.mode,label:"\\fbox",body:c[0]}}}),fe({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler:function(l,c){var f=l.parser,p=l.funcName,v=c[0];return{type:"enclose",mode:f.mode,label:p,body:v}},htmlBuilder:kl,mathmlBuilder:Sl}),fe({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler:function(l,c){var f=l.parser;return{type:"enclose",mode:f.mode,label:"\\angl",body:c[0]}}});var nf={};function Pr(b){for(var l=b.type,c=b.names,f=b.props,p=b.handler,v=b.htmlBuilder,x=b.mathmlBuilder,S={type:l,numArgs:f.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:p},E=0;E<c.length;++E)nf[c[E]]=S;v&&(ka[l]=v),x&&(Sa[l]=x)}var of={};function _(b,l){of[b]=l}var Or=function(){function b(l,c,f){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=l,this.start=c,this.end=f}return b.range=function(c,f){return f?!c||!c.loc||!f.loc||c.loc.lexer!==f.loc.lexer?null:new b(c.loc.lexer,c.loc.start,f.loc.end):c&&c.loc},b}(),Lr=function(){function b(c,f){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=c,this.loc=f}var l=b.prototype;return l.range=function(f,p){return new b(p,Or.range(this,f))},b}();function af(b){var l=[];b.consumeSpaces();for(var c=b.fetch().text;c==="\\hline"||c==="\\hdashline";)b.consume(),l.push(c==="\\hdashline"),b.consumeSpaces(),c=b.fetch().text;return l}var _a=function(l){var c=l.parser.settings;if(!c.displayMode)throw new o("{"+l.envName+"} can be used only in display mode.")};function Al(b){if(b.indexOf("ed")===-1)return b.indexOf("*")===-1}function Cn(b,l,c){var f=l.hskipBeforeAndAfter,p=l.addJot,v=l.cols,x=l.arraystretch,S=l.colSeparationType,E=l.autoTag,z=l.singleRow,P=l.emptySingleRow,V=l.maxNumCols,J=l.leqno;if(b.gullet.beginGroup(),z||b.gullet.macros.set("\\cr","\\\\\\relax"),!x){var ee=b.gullet.expandMacroAsText("\\arraystretch");if(ee==null)x=1;else if(x=parseFloat(ee),!x||x<0)throw new o("Invalid \\arraystretch: "+ee)}b.gullet.beginGroup();var Y=[],se=[Y],le=[],ve=[],we=E!=null?[]:void 0;function Ae(){E&&b.gullet.macros.set("\\@eqnsw","1",!0)}function $e(){we&&(b.gullet.macros.get("\\df@tag")?(we.push(b.subparse([new Lr("\\df@tag")])),b.gullet.macros.set("\\df@tag",void 0,!0)):we.push(Boolean(E)&&b.gullet.macros.get("\\@eqnsw")==="1"))}for(Ae(),ve.push(af(b));;){var ze=b.parseExpression(!1,z?"\\end":"\\\\");b.gullet.endGroup(),b.gullet.beginGroup(),ze={type:"ordgroup",mode:b.mode,body:ze},c&&(ze={type:"styling",mode:b.mode,style:c,body:[ze]}),Y.push(ze);var We=b.fetch().text;if(We==="&"){if(V&&Y.length===V){if(z||S)throw new o("Too many tab characters: &",b.nextToken);b.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}b.consume()}else if(We==="\\end"){$e(),Y.length===1&&ze.type==="styling"&&ze.body[0].body.length===0&&(se.length>1||!P)&&se.pop(),ve.length<se.length+1&&ve.push([]);break}else if(We==="\\\\"){b.consume();var Le=void 0;b.gullet.future().text!==" "&&(Le=b.parseSizeGroup(!0)),le.push(Le?Le.value:null),$e(),ve.push(af(b)),Y=[],se.push(Y),Ae()}else throw new o("Expected & or \\\\ or \\cr or \\end",b.nextToken)}return b.gullet.endGroup(),b.gullet.endGroup(),{type:"array",mode:b.mode,addJot:p,arraystretch:x,body:se,cols:v,rowGaps:le,hskipBeforeAndAfter:f,hLinesBeforeRow:ve,colSeparationType:S,tags:we,leqno:J}}function Ml(b){return b.substr(0,1)==="d"?"display":"text"}var qr=function(l,c){var f,p,v=l.body.length,x=l.hLinesBeforeRow,S=0,E=new Array(v),z=[],P=Math.max(c.fontMetrics().arrayRuleWidth,c.minRuleThickness),V=1/c.fontMetrics().ptPerEm,J=5*V;if(l.colSeparationType&&l.colSeparationType==="small"){var ee=c.havingStyle(ie.SCRIPT).sizeMultiplier;J=.2778*(ee/c.sizeMultiplier)}var Y=l.colSeparationType==="CD"?et({number:3,unit:"ex"},c):12*V,se=3*V,le=l.arraystretch*Y,ve=.7*le,we=.3*le,Ae=0;function $e(za){for(var Ba=0;Ba<za.length;++Ba)Ba>0&&(Ae+=.25),z.push({pos:Ae,isDashed:za[Ba]})}for($e(x[0]),f=0;f<l.body.length;++f){var ze=l.body[f],We=ve,Le=we;S<ze.length&&(S=ze.length);var Ge=new Array(ze.length);for(p=0;p<ze.length;++p){var st=qe(ze[p],c);Le<st.depth&&(Le=st.depth),We<st.height&&(We=st.height),Ge[p]=st}var Xe=l.rowGaps[f],ir=0;Xe&&(ir=et(Xe,c),ir>0&&(ir+=we,Le<ir&&(Le=ir),ir=0)),l.addJot&&(Le+=se),Ge.height=We,Ge.depth=Le,Ae+=We,Ge.pos=Ae,Ae+=Le+ir,E[f]=Ge,$e(x[f+1])}var or=Ae/2+c.fontMetrics().axisHeight,En=l.cols||[],jr=[],ar,Ti,Pl=[];if(l.tags&&l.tags.some(function(za){return za}))for(f=0;f<v;++f){var Ll=E[f],k4=Ll.pos-or,ql=l.tags[f],Ei=void 0;ql===!0?Ei=$.makeSpan(["eqn-num"],[],c):ql===!1?Ei=$.makeSpan([],[],c):Ei=$.makeSpan([],vt(ql,c,!0),c),Ei.depth=Ll.depth,Ei.height=Ll.height,Pl.push({type:"elem",elem:Ei,shift:k4})}for(p=0,Ti=0;p<S||Ti<En.length;++p,++Ti){for(var un=En[Ti]||{},Hf=!0;un.type==="separator";){if(Hf||(ar=$.makeSpan(["arraycolsep"],[]),ar.style.width=q(c.fontMetrics().doubleRuleSep),jr.push(ar)),un.separator==="|"||un.separator===":"){var S4=un.separator==="|"?"solid":"dashed",Oi=$.makeSpan(["vertical-separator"],[],c);Oi.style.height=q(Ae),Oi.style.borderRightWidth=q(P),Oi.style.borderRightStyle=S4,Oi.style.margin="0 "+q(-P/2);var jf=Ae-or;jf&&(Oi.style.verticalAlign=q(-jf)),jr.push(Oi)}else throw new o("Invalid separator type: "+un.separator);Ti++,un=En[Ti]||{},Hf=!1}if(!(p>=S)){var _i=void 0;(p>0||l.hskipBeforeAndAfter)&&(_i=N.deflt(un.pregap,J),_i!==0&&(ar=$.makeSpan(["arraycolsep"],[]),ar.style.width=q(_i),jr.push(ar)));var Ni=[];for(f=0;f<v;++f){var Na=E[f],Da=Na[p];if(!!Da){var A4=Na.pos-or;Da.depth=Na.depth,Da.height=Na.height,Ni.push({type:"elem",elem:Da,shift:A4})}}Ni=$.makeVList({positionType:"individualShift",children:Ni},c),Ni=$.makeSpan(["col-align-"+(un.align||"c")],[Ni]),jr.push(Ni),(p<S-1||l.hskipBeforeAndAfter)&&(_i=N.deflt(un.postgap,J),_i!==0&&(ar=$.makeSpan(["arraycolsep"],[]),ar.style.width=q(_i),jr.push(ar)))}}if(E=$.makeSpan(["mtable"],jr),z.length>0){for(var M4=$.makeLineSpan("hline",c,P),C4=$.makeLineSpan("hdashline",c,P),Hl=[{type:"elem",elem:E,shift:0}];z.length>0;){var Vf=z.pop(),$f=Vf.pos-or;Vf.isDashed?Hl.push({type:"elem",elem:C4,shift:$f}):Hl.push({type:"elem",elem:M4,shift:$f})}E=$.makeVList({positionType:"individualShift",children:Hl},c)}if(Pl.length===0)return $.makeSpan(["mord"],[E],c);var jl=$.makeVList({positionType:"individualShift",children:Pl},c);return jl=$.makeSpan(["tag"],[jl],c),$.makeFragment([E,jl])},Jg={c:"center ",l:"left ",r:"right "},Hr=function(l,c){for(var f=[],p=new ne.MathNode("mtd",[],["mtr-glue"]),v=new ne.MathNode("mtd",[],["mml-eqn-num"]),x=0;x<l.body.length;x++){for(var S=l.body[x],E=[],z=0;z<S.length;z++)E.push(new ne.MathNode("mtd",[Ke(S[z],c)]));l.tags&&l.tags[x]&&(E.unshift(p),E.push(p),l.leqno?E.unshift(v):E.push(v)),f.push(new ne.MathNode("mtr",E))}var P=new ne.MathNode("mtable",f),V=l.arraystretch===.5?.1:.16+l.arraystretch-1+(l.addJot?.09:0);P.setAttribute("rowspacing",q(V));var J="",ee="";if(l.cols&&l.cols.length>0){var Y=l.cols,se="",le=!1,ve=0,we=Y.length;Y[0].type==="separator"&&(J+="top ",ve=1),Y[Y.length-1].type==="separator"&&(J+="bottom ",we-=1);for(var Ae=ve;Ae<we;Ae++)Y[Ae].type==="align"?(ee+=Jg[Y[Ae].align],le&&(se+="none "),le=!0):Y[Ae].type==="separator"&&le&&(se+=Y[Ae].separator==="|"?"solid ":"dashed ",le=!1);P.setAttribute("columnalign",ee.trim()),/[sd]/.test(se)&&P.setAttribute("columnlines",se.trim())}if(l.colSeparationType==="align"){for(var $e=l.cols||[],ze="",We=1;We<$e.length;We++)ze+=We%2?"0em ":"1em ";P.setAttribute("columnspacing",ze.trim())}else l.colSeparationType==="alignat"||l.colSeparationType==="gather"?P.setAttribute("columnspacing","0em"):l.colSeparationType==="small"?P.setAttribute("columnspacing","0.2778em"):l.colSeparationType==="CD"?P.setAttribute("columnspacing","0.5em"):P.setAttribute("columnspacing","1em");var Le="",Ge=l.hLinesBeforeRow;J+=Ge[0].length>0?"left ":"",J+=Ge[Ge.length-1].length>0?"right ":"";for(var st=1;st<Ge.length-1;st++)Le+=Ge[st].length===0?"none ":Ge[st][0]?"dashed ":"solid ";return/[sd]/.test(Le)&&P.setAttribute("rowlines",Le.trim()),J!==""&&(P=new ne.MathNode("menclose",[P]),P.setAttribute("notation",J.trim())),l.arraystretch&&l.arraystretch<1&&(P=new ne.MathNode("mstyle",[P]),P.setAttribute("scriptlevel","1")),P},sf=function(l,c){l.envName.indexOf("ed")===-1&&_a(l);var f=[],p=l.envName.indexOf("at")>-1?"alignat":"align",v=l.envName==="split",x=Cn(l.parser,{cols:f,addJot:!0,autoTag:v?void 0:Al(l.envName),emptySingleRow:!0,colSeparationType:p,maxNumCols:v?2:void 0,leqno:l.parser.settings.leqno},"display"),S,E=0,z={type:"ordgroup",mode:l.mode,body:[]};if(c[0]&&c[0].type==="ordgroup"){for(var P="",V=0;V<c[0].body.length;V++){var J=De(c[0].body[V],"textord");P+=J.text}S=Number(P),E=S*2}var ee=!E;x.body.forEach(function(ve){for(var we=1;we<ve.length;we+=2){var Ae=De(ve[we],"styling"),$e=De(Ae.body[0],"ordgroup");$e.body.unshift(z)}if(ee)E<ve.length&&(E=ve.length);else{var ze=ve.length/2;if(S<ze)throw new o("Too many math in a row: "+("expected "+S+", but got "+ze),ve[0])}});for(var Y=0;Y<E;++Y){var se="r",le=0;Y%2===1?se="l":Y>0&&ee&&(le=1),f[Y]={type:"align",align:se,pregap:le,postgap:0}}return x.colSeparationType=ee?"align":"alignat",x};Pr({type:"array",names:["array","darray"],props:{numArgs:1},handler:function(l,c){var f=Ca(c[0]),p=f?[c[0]]:De(c[0],"ordgroup").body,v=p.map(function(S){var E=hl(S),z=E.text;if("lcr".indexOf(z)!==-1)return{type:"align",align:z};if(z==="|")return{type:"separator",separator:"|"};if(z===":")return{type:"separator",separator:":"};throw new o("Unknown column alignment: "+z,S)}),x={cols:v,hskipBeforeAndAfter:!0,maxNumCols:v.length};return Cn(l.parser,x,Ml(l.envName))},htmlBuilder:qr,mathmlBuilder:Hr}),Pr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler:function(l){var c={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[l.envName.replace("*","")],f="c",p={hskipBeforeAndAfter:!1,cols:[{type:"align",align:f}]};if(l.envName.charAt(l.envName.length-1)==="*"){var v=l.parser;if(v.consumeSpaces(),v.fetch().text==="["){if(v.consume(),v.consumeSpaces(),f=v.fetch().text,"lcr".indexOf(f)===-1)throw new o("Expected l or c or r",v.nextToken);v.consume(),v.consumeSpaces(),v.expect("]"),v.consume(),p.cols=[{type:"align",align:f}]}}var x=Cn(l.parser,p,Ml(l.envName)),S=Math.max.apply(Math,[0].concat(x.body.map(function(E){return E.length})));return x.cols=new Array(S).fill({type:"align",align:f}),c?{type:"leftright",mode:l.mode,body:[x],left:c[0],right:c[1],rightColor:void 0}:x},htmlBuilder:qr,mathmlBuilder:Hr}),Pr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler:function(l){var c={arraystretch:.5},f=Cn(l.parser,c,"script");return f.colSeparationType="small",f},htmlBuilder:qr,mathmlBuilder:Hr}),Pr({type:"array",names:["subarray"],props:{numArgs:1},handler:function(l,c){var f=Ca(c[0]),p=f?[c[0]]:De(c[0],"ordgroup").body,v=p.map(function(S){var E=hl(S),z=E.text;if("lc".indexOf(z)!==-1)return{type:"align",align:z};throw new o("Unknown column alignment: "+z,S)});if(v.length>1)throw new o("{subarray} can contain only one column");var x={cols:v,hskipBeforeAndAfter:!1,arraystretch:.5};if(x=Cn(l.parser,x,"script"),x.body.length>0&&x.body[0].length>1)throw new o("{subarray} can contain only one column");return x},htmlBuilder:qr,mathmlBuilder:Hr}),Pr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler:function(l){var c={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},f=Cn(l.parser,c,Ml(l.envName));return{type:"leftright",mode:l.mode,body:[f],left:l.envName.indexOf("r")>-1?".":"\\{",right:l.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:qr,mathmlBuilder:Hr}),Pr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:sf,htmlBuilder:qr,mathmlBuilder:Hr}),Pr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler:function(l){N.contains(["gather","gather*"],l.envName)&&_a(l);var c={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Al(l.envName),emptySingleRow:!0,leqno:l.parser.settings.leqno};return Cn(l.parser,c,"display")},htmlBuilder:qr,mathmlBuilder:Hr}),Pr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:sf,htmlBuilder:qr,mathmlBuilder:Hr}),Pr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler:function(l){_a(l);var c={autoTag:Al(l.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:l.parser.settings.leqno};return Cn(l.parser,c,"display")},htmlBuilder:qr,mathmlBuilder:Hr}),Pr({type:"array",names:["CD"],props:{numArgs:0},handler:function(l){return _a(l),Rg(l.parser)},htmlBuilder:qr,mathmlBuilder:Hr}),_("\\nonumber","\\gdef\\@eqnsw{0}"),_("\\notag","\\nonumber"),fe({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler:function(l,c){throw new o(l.funcName+" valid only within array environment")}});var Xg=nf,lf=Xg;fe({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler:function(l,c){var f=l.parser,p=l.funcName,v=c[0];if(v.type!=="ordgroup")throw new o("Invalid environment name",v);for(var x="",S=0;S<v.body.length;++S)x+=De(v.body[S],"textord").text;if(p==="\\begin"){if(!lf.hasOwnProperty(x))throw new o("No such environment: "+x,v);var E=lf[x],z=f.parseArguments("\\begin{"+x+"}",E),P=z.args,V=z.optArgs,J={mode:f.mode,envName:x,parser:f},ee=E.handler(J,P,V);f.expect("\\end",!1);var Y=f.nextToken,se=De(f.parseFunction(),"environment");if(se.name!==x)throw new o("Mismatch: \\begin{"+x+"} matched by \\end{"+se.name+"}",Y);return ee}return{type:"environment",mode:f.mode,name:x,nameGroup:v}}});var Yg=$.makeSpan;function uf(b,l){var c=vt(b.body,l,!0);return Yg([b.mclass],c,l)}function cf(b,l){var c,f=nr(b.body,l);return b.mclass==="minner"?c=new ne.MathNode("mpadded",f):b.mclass==="mord"?b.isCharacterBox?(c=f[0],c.type="mi"):c=new ne.MathNode("mi",f):(b.isCharacterBox?(c=f[0],c.type="mo"):c=new ne.MathNode("mo",f),b.mclass==="mbin"?(c.attributes.lspace="0.22em",c.attributes.rspace="0.22em"):b.mclass==="mpunct"?(c.attributes.lspace="0em",c.attributes.rspace="0.17em"):b.mclass==="mopen"||b.mclass==="mclose"?(c.attributes.lspace="0em",c.attributes.rspace="0em"):b.mclass==="minner"&&(c.attributes.lspace="0.0556em",c.attributes.width="+0.1111em")),c}fe({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler:function(l,c){var f=l.parser,p=l.funcName,v=c[0];return{type:"mclass",mode:f.mode,mclass:"m"+p.substr(5),body:ht(v),isCharacterBox:N.isCharacterBox(v)}},htmlBuilder:uf,mathmlBuilder:cf});var Cl=function(l){var c=l.type==="ordgroup"&&l.body.length?l.body[0]:l;return c.type==="atom"&&(c.family==="bin"||c.family==="rel")?"m"+c.family:"mord"};fe({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler:function(l,c){var f=l.parser;return{type:"mclass",mode:f.mode,mclass:Cl(c[0]),body:ht(c[1]),isCharacterBox:N.isCharacterBox(c[1])}}}),fe({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler:function(l,c){var f=l.parser,p=l.funcName,v=c[1],x=c[0],S;p!=="\\stackrel"?S=Cl(v):S="mrel";var E={type:"op",mode:v.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:p!=="\\stackrel",body:ht(v)},z={type:"supsub",mode:x.mode,base:E,sup:p==="\\underset"?null:x,sub:p==="\\underset"?x:null};return{type:"mclass",mode:f.mode,mclass:S,body:[z],isCharacterBox:N.isCharacterBox(z)}},htmlBuilder:uf,mathmlBuilder:cf});var ff=function(l,c){var f=l.font,p=c.withFont(f);return qe(l.body,p)},hf=function(l,c){var f=l.font,p=c.withFont(f);return Ke(l.body,p)},pf={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};fe({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:function(l,c){var f=l.parser,p=l.funcName,v=Aa(c[0]),x=p;return x in pf&&(x=pf[x]),{type:"font",mode:f.mode,font:x.slice(1),body:v}},htmlBuilder:ff,mathmlBuilder:hf}),fe({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:function(l,c){var f=l.parser,p=c[0],v=N.isCharacterBox(p);return{type:"mclass",mode:f.mode,mclass:Cl(p),body:[{type:"font",mode:f.mode,font:"boldsymbol",body:p}],isCharacterBox:v}}}),fe({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:function(l,c){var f=l.parser,p=l.funcName,v=l.breakOnTokenText,x=f.mode,S=f.parseExpression(!0,v),E="math"+p.slice(1);return{type:"font",mode:x,font:E,body:{type:"ordgroup",mode:f.mode,body:S}}},htmlBuilder:ff,mathmlBuilder:hf});var df=function(l,c){var f=c;return l==="display"?f=f.id>=ie.SCRIPT.id?f.text():ie.DISPLAY:l==="text"&&f.size===ie.DISPLAY.size?f=ie.TEXT:l==="script"?f=ie.SCRIPT:l==="scriptscript"&&(f=ie.SCRIPTSCRIPT),f},Tl=function(l,c){var f=df(l.size,c.style),p=f.fracNum(),v=f.fracDen(),x;x=c.havingStyle(p);var S=qe(l.numer,x,c);if(l.continued){var E=8.5/c.fontMetrics().ptPerEm,z=3.5/c.fontMetrics().ptPerEm;S.height=S.height<E?E:S.height,S.depth=S.depth<z?z:S.depth}x=c.havingStyle(v);var P=qe(l.denom,x,c),V,J,ee;l.hasBarLine?(l.barSize?(J=et(l.barSize,c),V=$.makeLineSpan("frac-line",c,J)):V=$.makeLineSpan("frac-line",c),J=V.height,ee=V.height):(V=null,J=0,ee=c.fontMetrics().defaultRuleThickness);var Y,se,le;f.size===ie.DISPLAY.size||l.size==="display"?(Y=c.fontMetrics().num1,J>0?se=3*ee:se=7*ee,le=c.fontMetrics().denom1):(J>0?(Y=c.fontMetrics().num2,se=ee):(Y=c.fontMetrics().num3,se=3*ee),le=c.fontMetrics().denom2);var ve;if(V){var Ae=c.fontMetrics().axisHeight;Y-S.depth-(Ae+.5*J)<se&&(Y+=se-(Y-S.depth-(Ae+.5*J))),Ae-.5*J-(P.height-le)<se&&(le+=se-(Ae-.5*J-(P.height-le)));var $e=-(Ae-.5*J);ve=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:P,shift:le},{type:"elem",elem:V,shift:$e},{type:"elem",elem:S,shift:-Y}]},c)}else{var we=Y-S.depth-(P.height-le);we<se&&(Y+=.5*(se-we),le+=.5*(se-we)),ve=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:P,shift:le},{type:"elem",elem:S,shift:-Y}]},c)}x=c.havingStyle(f),ve.height*=x.sizeMultiplier/c.sizeMultiplier,ve.depth*=x.sizeMultiplier/c.sizeMultiplier;var ze;f.size===ie.DISPLAY.size?ze=c.fontMetrics().delim1:f.size===ie.SCRIPTSCRIPT.size?ze=c.havingStyle(ie.SCRIPT).fontMetrics().delim2:ze=c.fontMetrics().delim2;var We,Le;return l.leftDelim==null?We=ho(c,["mopen"]):We=ln.customSizedDelim(l.leftDelim,ze,!0,c.havingStyle(f),l.mode,["mopen"]),l.continued?Le=$.makeSpan([]):l.rightDelim==null?Le=ho(c,["mclose"]):Le=ln.customSizedDelim(l.rightDelim,ze,!0,c.havingStyle(f),l.mode,["mclose"]),$.makeSpan(["mord"].concat(x.sizingClasses(c)),[We,$.makeSpan(["mfrac"],[ve]),Le],c)},El=function(l,c){var f=new ne.MathNode("mfrac",[Ke(l.numer,c),Ke(l.denom,c)]);if(!l.hasBarLine)f.setAttribute("linethickness","0px");else if(l.barSize){var p=et(l.barSize,c);f.setAttribute("linethickness",q(p))}var v=df(l.size,c.style);if(v.size!==c.style.size){f=new ne.MathNode("mstyle",[f]);var x=v.size===ie.DISPLAY.size?"true":"false";f.setAttribute("displaystyle",x),f.setAttribute("scriptlevel","0")}if(l.leftDelim!=null||l.rightDelim!=null){var S=[];if(l.leftDelim!=null){var E=new ne.MathNode("mo",[new ne.TextNode(l.leftDelim.replace("\\",""))]);E.setAttribute("fence","true"),S.push(E)}if(S.push(f),l.rightDelim!=null){var z=new ne.MathNode("mo",[new ne.TextNode(l.rightDelim.replace("\\",""))]);z.setAttribute("fence","true"),S.push(z)}return cl(S)}return f};fe({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:function(l,c){var f=l.parser,p=l.funcName,v=c[0],x=c[1],S,E=null,z=null,P="auto";switch(p){case"\\dfrac":case"\\frac":case"\\tfrac":S=!0;break;case"\\\\atopfrac":S=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":S=!1,E="(",z=")";break;case"\\\\bracefrac":S=!1,E="\\{",z="\\}";break;case"\\\\brackfrac":S=!1,E="[",z="]";break;default:throw new Error("Unrecognized genfrac command")}switch(p){case"\\dfrac":case"\\dbinom":P="display";break;case"\\tfrac":case"\\tbinom":P="text";break}return{type:"genfrac",mode:f.mode,continued:!1,numer:v,denom:x,hasBarLine:S,leftDelim:E,rightDelim:z,size:P,barSize:null}},htmlBuilder:Tl,mathmlBuilder:El}),fe({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:function(l,c){var f=l.parser;l.funcName;var p=c[0],v=c[1];return{type:"genfrac",mode:f.mode,continued:!0,numer:p,denom:v,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),fe({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler:function(l){var c=l.parser,f=l.funcName,p=l.token,v;switch(f){case"\\over":v="\\frac";break;case"\\choose":v="\\binom";break;case"\\atop":v="\\\\atopfrac";break;case"\\brace":v="\\\\bracefrac";break;case"\\brack":v="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:c.mode,replaceWith:v,token:p}}});var mf=["display","text","script","scriptscript"],vf=function(l){var c=null;return l.length>0&&(c=l,c=c==="."?null:c),c};fe({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler:function(l,c){var f=l.parser,p=c[4],v=c[5],x=Aa(c[0]),S=x.type==="atom"&&x.family==="open"?vf(x.text):null,E=Aa(c[1]),z=E.type==="atom"&&E.family==="close"?vf(E.text):null,P=De(c[2],"size"),V,J=null;P.isBlank?V=!0:(J=P.value,V=J.number>0);var ee="auto",Y=c[3];if(Y.type==="ordgroup"){if(Y.body.length>0){var se=De(Y.body[0],"textord");ee=mf[Number(se.text)]}}else Y=De(Y,"textord"),ee=mf[Number(Y.text)];return{type:"genfrac",mode:f.mode,numer:p,denom:v,continued:!1,hasBarLine:V,barSize:J,leftDelim:S,rightDelim:z,size:ee}},htmlBuilder:Tl,mathmlBuilder:El}),fe({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler:function(l,c){var f=l.parser;l.funcName;var p=l.token;return{type:"infix",mode:f.mode,replaceWith:"\\\\abovefrac",size:De(c[0],"size").value,token:p}}}),fe({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:function(l,c){var f=l.parser;l.funcName;var p=c[0],v=C(De(c[1],"infix").size),x=c[2],S=v.number>0;return{type:"genfrac",mode:f.mode,numer:p,denom:x,continued:!1,hasBarLine:S,barSize:v,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Tl,mathmlBuilder:El});var gf=function(l,c){var f=c.style,p,v;l.type==="supsub"?(p=l.sup?qe(l.sup,c.havingStyle(f.sup()),c):qe(l.sub,c.havingStyle(f.sub()),c),v=De(l.base,"horizBrace")):v=De(l,"horizBrace");var x=qe(v.base,c.havingBaseStyle(ie.DISPLAY)),S=sn.svgSpan(v,c),E;if(v.isOver?(E=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:x},{type:"kern",size:.1},{type:"elem",elem:S}]},c),E.children[0].children[0].children[1].classes.push("svg-align")):(E=$.makeVList({positionType:"bottom",positionData:x.depth+.1+S.height,children:[{type:"elem",elem:S},{type:"kern",size:.1},{type:"elem",elem:x}]},c),E.children[0].children[0].children[0].classes.push("svg-align")),p){var z=$.makeSpan(["mord",v.isOver?"mover":"munder"],[E],c);v.isOver?E=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:z},{type:"kern",size:.2},{type:"elem",elem:p}]},c):E=$.makeVList({positionType:"bottom",positionData:z.depth+.2+p.height+p.depth,children:[{type:"elem",elem:p},{type:"kern",size:.2},{type:"elem",elem:z}]},c)}return $.makeSpan(["mord",v.isOver?"mover":"munder"],[E],c)},Zg=function(l,c){var f=sn.mathMLnode(l.label);return new ne.MathNode(l.isOver?"mover":"munder",[Ke(l.base,c),f])};fe({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler:function(l,c){var f=l.parser,p=l.funcName;return{type:"horizBrace",mode:f.mode,label:p,isOver:/^\\over/.test(p),base:c[0]}},htmlBuilder:gf,mathmlBuilder:Zg}),fe({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:function(l,c){var f=l.parser,p=c[1],v=De(c[0],"url").url;return f.settings.isTrusted({command:"\\href",url:v})?{type:"href",mode:f.mode,href:v,body:ht(p)}:f.formatUnsupportedCmd("\\href")},htmlBuilder:function(l,c){var f=vt(l.body,c,!1);return $.makeAnchor(l.href,[],f,c)},mathmlBuilder:function(l,c){var f=Mn(l.body,c);return f instanceof mr||(f=new mr("mrow",[f])),f.setAttribute("href",l.href),f}}),fe({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:function(l,c){var f=l.parser,p=De(c[0],"url").url;if(!f.settings.isTrusted({command:"\\url",url:p}))return f.formatUnsupportedCmd("\\url");for(var v=[],x=0;x<p.length;x++){var S=p[x];S==="~"&&(S="\\textasciitilde"),v.push({type:"textord",mode:"text",text:S})}var E={type:"text",mode:f.mode,font:"\\texttt",body:v};return{type:"href",mode:f.mode,href:p,body:ht(E)}}}),fe({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler:function(l,c){var f=l.parser;return{type:"hbox",mode:f.mode,body:ht(c[0])}},htmlBuilder:function(l,c){var f=vt(l.body,c,!1);return $.makeFragment(f)},mathmlBuilder:function(l,c){return new ne.MathNode("mrow",nr(l.body,c))}}),fe({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:function(l,c){var f=l.parser,p=l.funcName;l.token;var v=De(c[0],"raw").string,x=c[1];f.settings.strict&&f.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var S,E={};switch(p){case"\\htmlClass":E.class=v,S={command:"\\htmlClass",class:v};break;case"\\htmlId":E.id=v,S={command:"\\htmlId",id:v};break;case"\\htmlStyle":E.style=v,S={command:"\\htmlStyle",style:v};break;case"\\htmlData":{for(var z=v.split(","),P=0;P<z.length;P++){var V=z[P].split("=");if(V.length!==2)throw new o("Error parsing key-value for \\htmlData");E["data-"+V[0].trim()]=V[1].trim()}S={command:"\\htmlData",attributes:E};break}default:throw new Error("Unrecognized html command")}return f.settings.isTrusted(S)?{type:"html",mode:f.mode,attributes:E,body:ht(x)}:f.formatUnsupportedCmd(p)},htmlBuilder:function(l,c){var f=vt(l.body,c,!1),p=["enclosing"];l.attributes.class&&p.push.apply(p,l.attributes.class.trim().split(/\s+/));var v=$.makeSpan(p,f,c);for(var x in l.attributes)x!=="class"&&l.attributes.hasOwnProperty(x)&&v.setAttribute(x,l.attributes[x]);return v},mathmlBuilder:function(l,c){return Mn(l.body,c)}}),fe({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:function(l,c){var f=l.parser;return{type:"htmlmathml",mode:f.mode,html:ht(c[0]),mathml:ht(c[1])}},htmlBuilder:function(l,c){var f=vt(l.html,c,!1);return $.makeFragment(f)},mathmlBuilder:function(l,c){return Mn(l.mathml,c)}});var Ol=function(l){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(l))return{number:+l,unit:"bp"};var c=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(l);if(!c)throw new o("Invalid size: '"+l+"' in \\includegraphics");var f={number:+(c[1]+c[2]),unit:c[3]};if(!fa(f))throw new o("Invalid unit: '"+f.unit+"' in \\includegraphics.");return f};fe({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:function(l,c,f){var p=l.parser,v={number:0,unit:"em"},x={number:.9,unit:"em"},S={number:0,unit:"em"},E="";if(f[0])for(var z=De(f[0],"raw").string,P=z.split(","),V=0;V<P.length;V++){var J=P[V].split("=");if(J.length===2){var ee=J[1].trim();switch(J[0].trim()){case"alt":E=ee;break;case"width":v=Ol(ee);break;case"height":x=Ol(ee);break;case"totalheight":S=Ol(ee);break;default:throw new o("Invalid key: '"+J[0]+"' in \\includegraphics.")}}}var Y=De(c[0],"url").url;return E===""&&(E=Y,E=E.replace(/^.*[\\/]/,""),E=E.substring(0,E.lastIndexOf("."))),p.settings.isTrusted({command:"\\includegraphics",url:Y})?{type:"includegraphics",mode:p.mode,alt:E,width:v,height:x,totalheight:S,src:Y}:p.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:function(l,c){var f=et(l.height,c),p=0;l.totalheight.number>0&&(p=et(l.totalheight,c)-f);var v=0;l.width.number>0&&(v=et(l.width,c));var x={height:q(f+p)};v>0&&(x.width=q(v)),p>0&&(x.verticalAlign=q(-p));var S=new Sn(l.src,l.alt,x);return S.height=f,S.depth=p,S},mathmlBuilder:function(l,c){var f=new ne.MathNode("mglyph",[]);f.setAttribute("alt",l.alt);var p=et(l.height,c),v=0;if(l.totalheight.number>0&&(v=et(l.totalheight,c)-p,f.setAttribute("valign",q(-v))),f.setAttribute("height",q(p+v)),l.width.number>0){var x=et(l.width,c);f.setAttribute("width",q(x))}return f.setAttribute("src",l.src),f}}),fe({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler:function(l,c){var f=l.parser,p=l.funcName,v=De(c[0],"size");if(f.settings.strict){var x=p[1]==="m",S=v.value.unit==="mu";x?(S||f.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+p+" supports only mu units, "+("not "+v.value.unit+" units")),f.mode!=="math"&&f.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+p+" works only in math mode")):S&&f.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+p+" doesn't support mu units")}return{type:"kern",mode:f.mode,dimension:v.value}},htmlBuilder:function(l,c){return $.makeGlue(l.dimension,c)},mathmlBuilder:function(l,c){var f=et(l.dimension,c);return new ne.SpaceNode(f)}}),fe({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:function(l,c){var f=l.parser,p=l.funcName,v=c[0];return{type:"lap",mode:f.mode,alignment:p.slice(5),body:v}},htmlBuilder:function(l,c){var f;l.alignment==="clap"?(f=$.makeSpan([],[qe(l.body,c)]),f=$.makeSpan(["inner"],[f],c)):f=$.makeSpan(["inner"],[qe(l.body,c)]);var p=$.makeSpan(["fix"],[]),v=$.makeSpan([l.alignment],[f,p],c),x=$.makeSpan(["strut"]);return x.style.height=q(v.height+v.depth),v.depth&&(x.style.verticalAlign=q(-v.depth)),v.children.unshift(x),v=$.makeSpan(["thinbox"],[v],c),$.makeSpan(["mord","vbox"],[v],c)},mathmlBuilder:function(l,c){var f=new ne.MathNode("mpadded",[Ke(l.body,c)]);if(l.alignment!=="rlap"){var p=l.alignment==="llap"?"-1":"-0.5";f.setAttribute("lspace",p+"width")}return f.setAttribute("width","0px"),f}}),fe({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(l,c){var f=l.funcName,p=l.parser,v=p.mode;p.switchMode("math");var x=f==="\\("?"\\)":"$",S=p.parseExpression(!1,x);return p.expect(x),p.switchMode(v),{type:"styling",mode:p.mode,style:"text",body:S}}}),fe({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler:function(l,c){throw new o("Mismatched "+l.funcName)}});var yf=function(l,c){switch(c.style.size){case ie.DISPLAY.size:return l.display;case ie.TEXT.size:return l.text;case ie.SCRIPT.size:return l.script;case ie.SCRIPTSCRIPT.size:return l.scriptscript;default:return l.text}};fe({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:function(l,c){var f=l.parser;return{type:"mathchoice",mode:f.mode,display:ht(c[0]),text:ht(c[1]),script:ht(c[2]),scriptscript:ht(c[3])}},htmlBuilder:function(l,c){var f=yf(l,c),p=vt(f,c,!1);return $.makeFragment(p)},mathmlBuilder:function(l,c){var f=yf(l,c);return Mn(f,c)}});var bf=function(l,c,f,p,v,x,S){l=$.makeSpan([],[l]);var E=f&&N.isCharacterBox(f),z,P;if(c){var V=qe(c,p.havingStyle(v.sup()),p);P={elem:V,kern:Math.max(p.fontMetrics().bigOpSpacing1,p.fontMetrics().bigOpSpacing3-V.depth)}}if(f){var J=qe(f,p.havingStyle(v.sub()),p);z={elem:J,kern:Math.max(p.fontMetrics().bigOpSpacing2,p.fontMetrics().bigOpSpacing4-J.height)}}var ee;if(P&&z){var Y=p.fontMetrics().bigOpSpacing5+z.elem.height+z.elem.depth+z.kern+l.depth+S;ee=$.makeVList({positionType:"bottom",positionData:Y,children:[{type:"kern",size:p.fontMetrics().bigOpSpacing5},{type:"elem",elem:z.elem,marginLeft:q(-x)},{type:"kern",size:z.kern},{type:"elem",elem:l},{type:"kern",size:P.kern},{type:"elem",elem:P.elem,marginLeft:q(x)},{type:"kern",size:p.fontMetrics().bigOpSpacing5}]},p)}else if(z){var se=l.height-S;ee=$.makeVList({positionType:"top",positionData:se,children:[{type:"kern",size:p.fontMetrics().bigOpSpacing5},{type:"elem",elem:z.elem,marginLeft:q(-x)},{type:"kern",size:z.kern},{type:"elem",elem:l}]},p)}else if(P){var le=l.depth+S;ee=$.makeVList({positionType:"bottom",positionData:le,children:[{type:"elem",elem:l},{type:"kern",size:P.kern},{type:"elem",elem:P.elem,marginLeft:q(x)},{type:"kern",size:p.fontMetrics().bigOpSpacing5}]},p)}else return l;var ve=[ee];if(z&&x!==0&&!E){var we=$.makeSpan(["mspace"],[],p);we.style.marginRight=q(x),ve.unshift(we)}return $.makeSpan(["mop","op-limits"],ve,p)},xf=["\\smallint"],Ci=function(l,c){var f,p,v=!1,x;l.type==="supsub"?(f=l.sup,p=l.sub,x=De(l.base,"op"),v=!0):x=De(l,"op");var S=c.style,E=!1;S.size===ie.DISPLAY.size&&x.symbol&&!N.contains(xf,x.name)&&(E=!0);var z;if(x.symbol){var P=E?"Size2-Regular":"Size1-Regular",V="";if((x.name==="\\oiint"||x.name==="\\oiiint")&&(V=x.name.substr(1),x.name=V==="oiint"?"\\iint":"\\iiint"),z=$.makeSymbol(x.name,P,"math",c,["mop","op-symbol",E?"large-op":"small-op"]),V.length>0){var J=z.italic,ee=$.staticSvg(V+"Size"+(E?"2":"1"),c);z=$.makeVList({positionType:"individualShift",children:[{type:"elem",elem:z,shift:0},{type:"elem",elem:ee,shift:E?.08:0}]},c),x.name="\\"+V,z.classes.unshift("mop"),z.italic=J}}else if(x.body){var Y=vt(x.body,c,!0);Y.length===1&&Y[0]instanceof ut?(z=Y[0],z.classes[0]="mop"):z=$.makeSpan(["mop"],Y,c)}else{for(var se=[],le=1;le<x.name.length;le++)se.push($.mathsym(x.name[le],x.mode,c));z=$.makeSpan(["mop"],se,c)}var ve=0,we=0;return(z instanceof ut||x.name==="\\oiint"||x.name==="\\oiiint")&&!x.suppressBaseShift&&(ve=(z.height-z.depth)/2-c.fontMetrics().axisHeight,we=z.italic),v?bf(z,f,p,c,S,we,ve):(ve&&(z.style.position="relative",z.style.top=q(ve)),z)},go=function(l,c){var f;if(l.symbol)f=new mr("mo",[vr(l.name,l.mode)]),N.contains(xf,l.name)&&f.setAttribute("largeop","false");else if(l.body)f=new mr("mo",nr(l.body,c));else{f=new mr("mi",[new po(l.name.slice(1))]);var p=new mr("mo",[vr("\u2061","text")]);l.parentIsSupSub?f=new mr("mrow",[f,p]):f=Ic([f,p])}return f},Qg={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"};fe({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:function(l,c){var f=l.parser,p=l.funcName,v=p;return v.length===1&&(v=Qg[v]),{type:"op",mode:f.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:v}},htmlBuilder:Ci,mathmlBuilder:go}),fe({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:function(l,c){var f=l.parser,p=c[0];return{type:"op",mode:f.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ht(p)}},htmlBuilder:Ci,mathmlBuilder:go});var e4={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"};fe({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler:function(l){var c=l.parser,f=l.funcName;return{type:"op",mode:c.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:f}},htmlBuilder:Ci,mathmlBuilder:go}),fe({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler:function(l){var c=l.parser,f=l.funcName;return{type:"op",mode:c.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:f}},htmlBuilder:Ci,mathmlBuilder:go}),fe({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler:function(l){var c=l.parser,f=l.funcName,p=f;return p.length===1&&(p=e4[p]),{type:"op",mode:c.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:p}},htmlBuilder:Ci,mathmlBuilder:go});var wf=function(l,c){var f,p,v=!1,x;l.type==="supsub"?(f=l.sup,p=l.sub,x=De(l.base,"operatorname"),v=!0):x=De(l,"operatorname");var S;if(x.body.length>0){for(var E=x.body.map(function(J){var ee=J.text;return typeof ee=="string"?{type:"textord",mode:J.mode,text:ee}:J}),z=vt(E,c.withFont("mathrm"),!0),P=0;P<z.length;P++){var V=z[P];V instanceof ut&&(V.text=V.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}S=$.makeSpan(["mop"],z,c)}else S=$.makeSpan(["mop"],[],c);return v?bf(S,f,p,c,c.style,0,0):S},t4=function(l,c){for(var f=nr(l.body,c.withFont("mathrm")),p=!0,v=0;v<f.length;v++){var x=f[v];if(!(x instanceof ne.SpaceNode))if(x instanceof ne.MathNode)switch(x.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var S=x.children[0];x.children.length===1&&S instanceof ne.TextNode?S.text=S.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):p=!1;break}default:p=!1}else p=!1}if(p){var E=f.map(function(V){return V.toText()}).join("");f=[new ne.TextNode(E)]}var z=new ne.MathNode("mi",f);z.setAttribute("mathvariant","normal");var P=new ne.MathNode("mo",[vr("\u2061","text")]);return l.parentIsSupSub?new ne.MathNode("mrow",[z,P]):ne.newDocumentFragment([z,P])};fe({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:function(l,c){var f=l.parser,p=l.funcName,v=c[0];return{type:"operatorname",mode:f.mode,body:ht(v),alwaysHandleSupSub:p==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:wf,mathmlBuilder:t4}),_("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),Qn({type:"ordgroup",htmlBuilder:function(l,c){return l.semisimple?$.makeFragment(vt(l.body,c,!1)):$.makeSpan(["mord"],vt(l.body,c,!0),c)},mathmlBuilder:function(l,c){return Mn(l.body,c,!0)}}),fe({type:"overline",names:["\\overline"],props:{numArgs:1},handler:function(l,c){var f=l.parser,p=c[0];return{type:"overline",mode:f.mode,body:p}},htmlBuilder:function(l,c){var f=qe(l.body,c.havingCrampedStyle()),p=$.makeLineSpan("overline-line",c),v=c.fontMetrics().defaultRuleThickness,x=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:f},{type:"kern",size:3*v},{type:"elem",elem:p},{type:"kern",size:v}]},c);return $.makeSpan(["mord","overline"],[x],c)},mathmlBuilder:function(l,c){var f=new ne.MathNode("mo",[new ne.TextNode("\u203E")]);f.setAttribute("stretchy","true");var p=new ne.MathNode("mover",[Ke(l.body,c),f]);return p.setAttribute("accent","true"),p}}),fe({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:function(l,c){var f=l.parser,p=c[0];return{type:"phantom",mode:f.mode,body:ht(p)}},htmlBuilder:function(l,c){var f=vt(l.body,c.withPhantom(),!1);return $.makeFragment(f)},mathmlBuilder:function(l,c){var f=nr(l.body,c);return new ne.MathNode("mphantom",f)}}),fe({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:function(l,c){var f=l.parser,p=c[0];return{type:"hphantom",mode:f.mode,body:p}},htmlBuilder:function(l,c){var f=$.makeSpan([],[qe(l.body,c.withPhantom())]);if(f.height=0,f.depth=0,f.children)for(var p=0;p<f.children.length;p++)f.children[p].height=0,f.children[p].depth=0;return f=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:f}]},c),$.makeSpan(["mord"],[f],c)},mathmlBuilder:function(l,c){var f=nr(ht(l.body),c),p=new ne.MathNode("mphantom",f),v=new ne.MathNode("mpadded",[p]);return v.setAttribute("height","0px"),v.setAttribute("depth","0px"),v}}),fe({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:function(l,c){var f=l.parser,p=c[0];return{type:"vphantom",mode:f.mode,body:p}},htmlBuilder:function(l,c){var f=$.makeSpan(["inner"],[qe(l.body,c.withPhantom())]),p=$.makeSpan(["fix"],[]);return $.makeSpan(["mord","rlap"],[f,p],c)},mathmlBuilder:function(l,c){var f=nr(ht(l.body),c),p=new ne.MathNode("mphantom",f),v=new ne.MathNode("mpadded",[p]);return v.setAttribute("width","0px"),v}}),fe({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler:function(l,c){var f=l.parser,p=De(c[0],"size").value,v=c[1];return{type:"raisebox",mode:f.mode,dy:p,body:v}},htmlBuilder:function(l,c){var f=qe(l.body,c),p=et(l.dy,c);return $.makeVList({positionType:"shift",positionData:-p,children:[{type:"elem",elem:f}]},c)},mathmlBuilder:function(l,c){var f=new ne.MathNode("mpadded",[Ke(l.body,c)]),p=l.dy.number+l.dy.unit;return f.setAttribute("voffset",p),f}}),fe({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler:function(l){var c=l.parser;return{type:"internal",mode:c.mode}}}),fe({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler:function(l,c,f){var p=l.parser,v=f[0],x=De(c[0],"size"),S=De(c[1],"size");return{type:"rule",mode:p.mode,shift:v&&De(v,"size").value,width:x.value,height:S.value}},htmlBuilder:function(l,c){var f=$.makeSpan(["mord","rule"],[],c),p=et(l.width,c),v=et(l.height,c),x=l.shift?et(l.shift,c):0;return f.style.borderRightWidth=q(p),f.style.borderTopWidth=q(v),f.style.bottom=q(x),f.width=p,f.height=v+x,f.depth=-x,f.maxFontSize=v*1.125*c.sizeMultiplier,f},mathmlBuilder:function(l,c){var f=et(l.width,c),p=et(l.height,c),v=l.shift?et(l.shift,c):0,x=c.color&&c.getColor()||"black",S=new ne.MathNode("mspace");S.setAttribute("mathbackground",x),S.setAttribute("width",q(f)),S.setAttribute("height",q(p));var E=new ne.MathNode("mpadded",[S]);return v>=0?E.setAttribute("height",q(v)):(E.setAttribute("height",q(v)),E.setAttribute("depth",q(-v))),E.setAttribute("voffset",q(v)),E}});function kf(b,l,c){for(var f=vt(b,l,!1),p=l.sizeMultiplier/c.sizeMultiplier,v=0;v<f.length;v++){var x=f[v].classes.indexOf("sizing");x<0?Array.prototype.push.apply(f[v].classes,l.sizingClasses(c)):f[v].classes[x+1]==="reset-size"+l.size&&(f[v].classes[x+1]="reset-size"+c.size),f[v].height*=p,f[v].depth*=p}return $.makeFragment(f)}var Sf=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],r4=function(l,c){var f=c.havingSize(l.size);return kf(l.body,f,c)};fe({type:"sizing",names:Sf,props:{numArgs:0,allowedInText:!0},handler:function(l,c){var f=l.breakOnTokenText,p=l.funcName,v=l.parser,x=v.parseExpression(!1,f);return{type:"sizing",mode:v.mode,size:Sf.indexOf(p)+1,body:x}},htmlBuilder:r4,mathmlBuilder:function(l,c){var f=c.havingSize(l.size),p=nr(l.body,f),v=new ne.MathNode("mstyle",p);return v.setAttribute("mathsize",q(f.sizeMultiplier)),v}}),fe({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:function(l,c,f){var p=l.parser,v=!1,x=!1,S=f[0]&&De(f[0],"ordgroup");if(S)for(var E="",z=0;z<S.body.length;++z){var P=S.body[z];if(E=P.text,E==="t")v=!0;else if(E==="b")x=!0;else{v=!1,x=!1;break}}else v=!0,x=!0;var V=c[0];return{type:"smash",mode:p.mode,body:V,smashHeight:v,smashDepth:x}},htmlBuilder:function(l,c){var f=$.makeSpan([],[qe(l.body,c)]);if(!l.smashHeight&&!l.smashDepth)return f;if(l.smashHeight&&(f.height=0,f.children))for(var p=0;p<f.children.length;p++)f.children[p].height=0;if(l.smashDepth&&(f.depth=0,f.children))for(var v=0;v<f.children.length;v++)f.children[v].depth=0;var x=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:f}]},c);return $.makeSpan(["mord"],[x],c)},mathmlBuilder:function(l,c){var f=new ne.MathNode("mpadded",[Ke(l.body,c)]);return l.smashHeight&&f.setAttribute("height","0px"),l.smashDepth&&f.setAttribute("depth","0px"),f}}),fe({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler:function(l,c,f){var p=l.parser,v=f[0],x=c[0];return{type:"sqrt",mode:p.mode,body:x,index:v}},htmlBuilder:function(l,c){var f=qe(l.body,c.havingCrampedStyle());f.height===0&&(f.height=c.fontMetrics().xHeight),f=$.wrapFragment(f,c);var p=c.fontMetrics(),v=p.defaultRuleThickness,x=v;c.style.id<ie.TEXT.id&&(x=c.fontMetrics().xHeight);var S=v+x/4,E=f.height+f.depth+S+v,z=ln.sqrtImage(E,c),P=z.span,V=z.ruleWidth,J=z.advanceWidth,ee=P.height-V;ee>f.height+f.depth+S&&(S=(S+ee-f.height-f.depth)/2);var Y=P.height-f.height-S-V;f.style.paddingLeft=q(J);var se=$.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:f,wrapperClasses:["svg-align"]},{type:"kern",size:-(f.height+Y)},{type:"elem",elem:P},{type:"kern",size:V}]},c);if(l.index){var le=c.havingStyle(ie.SCRIPTSCRIPT),ve=qe(l.index,le,c),we=.6*(se.height-se.depth),Ae=$.makeVList({positionType:"shift",positionData:-we,children:[{type:"elem",elem:ve}]},c),$e=$.makeSpan(["root"],[Ae]);return $.makeSpan(["mord","sqrt"],[$e,se],c)}else return $.makeSpan(["mord","sqrt"],[se],c)},mathmlBuilder:function(l,c){var f=l.body,p=l.index;return p?new ne.MathNode("mroot",[Ke(f,c),Ke(p,c)]):new ne.MathNode("msqrt",[Ke(f,c)])}});var Af={display:ie.DISPLAY,text:ie.TEXT,script:ie.SCRIPT,scriptscript:ie.SCRIPTSCRIPT};fe({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler:function(l,c){var f=l.breakOnTokenText,p=l.funcName,v=l.parser,x=v.parseExpression(!0,f),S=p.slice(1,p.length-5);return{type:"styling",mode:v.mode,style:S,body:x}},htmlBuilder:function(l,c){var f=Af[l.style],p=c.havingStyle(f).withFont("");return kf(l.body,p,c)},mathmlBuilder:function(l,c){var f=Af[l.style],p=c.havingStyle(f),v=nr(l.body,p),x=new ne.MathNode("mstyle",v),S={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},E=S[l.style];return x.setAttribute("scriptlevel",E[0]),x.setAttribute("displaystyle",E[1]),x}});var n4=function(l,c){var f=l.base;if(f)if(f.type==="op"){var p=f.limits&&(c.style.size===ie.DISPLAY.size||f.alwaysHandleSupSub);return p?Ci:null}else if(f.type==="operatorname"){var v=f.alwaysHandleSupSub&&(c.style.size===ie.DISPLAY.size||f.limits);return v?wf:null}else{if(f.type==="accent")return N.isCharacterBox(f.base)?pl:null;if(f.type==="horizBrace"){var x=!l.sub;return x===f.isOver?gf:null}else return null}else return null};Qn({type:"supsub",htmlBuilder:function(l,c){var f=n4(l,c);if(f)return f(l,c);var p=l.base,v=l.sup,x=l.sub,S=qe(p,c),E,z,P=c.fontMetrics(),V=0,J=0,ee=p&&N.isCharacterBox(p);if(v){var Y=c.havingStyle(c.style.sup());E=qe(v,Y,c),ee||(V=S.height-Y.fontMetrics().supDrop*Y.sizeMultiplier/c.sizeMultiplier)}if(x){var se=c.havingStyle(c.style.sub());z=qe(x,se,c),ee||(J=S.depth+se.fontMetrics().subDrop*se.sizeMultiplier/c.sizeMultiplier)}var le;c.style===ie.DISPLAY?le=P.sup1:c.style.cramped?le=P.sup3:le=P.sup2;var ve=c.sizeMultiplier,we=q(.5/P.ptPerEm/ve),Ae=null;if(z){var $e=l.base&&l.base.type==="op"&&l.base.name&&(l.base.name==="\\oiint"||l.base.name==="\\oiiint");(S instanceof ut||$e)&&(Ae=q(-S.italic))}var ze;if(E&&z){V=Math.max(V,le,E.depth+.25*P.xHeight),J=Math.max(J,P.sub2);var We=P.defaultRuleThickness,Le=4*We;if(V-E.depth-(z.height-J)<Le){J=Le-(V-E.depth)+z.height;var Ge=.8*P.xHeight-(V-E.depth);Ge>0&&(V+=Ge,J-=Ge)}var st=[{type:"elem",elem:z,shift:J,marginRight:we,marginLeft:Ae},{type:"elem",elem:E,shift:-V,marginRight:we}];ze=$.makeVList({positionType:"individualShift",children:st},c)}else if(z){J=Math.max(J,P.sub1,z.height-.8*P.xHeight);var Xe=[{type:"elem",elem:z,marginLeft:Ae,marginRight:we}];ze=$.makeVList({positionType:"shift",positionData:J,children:Xe},c)}else if(E)V=Math.max(V,le,E.depth+.25*P.xHeight),ze=$.makeVList({positionType:"shift",positionData:-V,children:[{type:"elem",elem:E,marginRight:we}]},c);else throw new Error("supsub must have either sup or sub.");var ir=ll(S,"right")||"mord";return $.makeSpan([ir],[S,$.makeSpan(["msupsub"],[ze])],c)},mathmlBuilder:function(l,c){var f=!1,p,v;l.base&&l.base.type==="horizBrace"&&(v=!!l.sup,v===l.base.isOver&&(f=!0,p=l.base.isOver)),l.base&&(l.base.type==="op"||l.base.type==="operatorname")&&(l.base.parentIsSupSub=!0);var x=[Ke(l.base,c)];l.sub&&x.push(Ke(l.sub,c)),l.sup&&x.push(Ke(l.sup,c));var S;if(f)S=p?"mover":"munder";else if(l.sub)if(l.sup){var P=l.base;P&&P.type==="op"&&P.limits&&c.style===ie.DISPLAY||P&&P.type==="operatorname"&&P.alwaysHandleSupSub&&(c.style===ie.DISPLAY||P.limits)?S="munderover":S="msubsup"}else{var z=l.base;z&&z.type==="op"&&z.limits&&(c.style===ie.DISPLAY||z.alwaysHandleSupSub)||z&&z.type==="operatorname"&&z.alwaysHandleSupSub&&(z.limits||c.style===ie.DISPLAY)?S="munder":S="msub"}else{var E=l.base;E&&E.type==="op"&&E.limits&&(c.style===ie.DISPLAY||E.alwaysHandleSupSub)||E&&E.type==="operatorname"&&E.alwaysHandleSupSub&&(E.limits||c.style===ie.DISPLAY)?S="mover":S="msup"}return new ne.MathNode(S,x)}}),Qn({type:"atom",htmlBuilder:function(l,c){return $.mathsym(l.text,l.mode,c,["m"+l.family])},mathmlBuilder:function(l,c){var f=new ne.MathNode("mo",[vr(l.text,l.mode)]);if(l.family==="bin"){var p=fl(l,c);p==="bold-italic"&&f.setAttribute("mathvariant",p)}else l.family==="punct"?f.setAttribute("separator","true"):(l.family==="open"||l.family==="close")&&f.setAttribute("stretchy","false");return f}});var Mf={mi:"italic",mn:"normal",mtext:"normal"};Qn({type:"mathord",htmlBuilder:function(l,c){return $.makeOrd(l,c,"mathord")},mathmlBuilder:function(l,c){var f=new ne.MathNode("mi",[vr(l.text,l.mode,c)]),p=fl(l,c)||"italic";return p!==Mf[f.type]&&f.setAttribute("mathvariant",p),f}}),Qn({type:"textord",htmlBuilder:function(l,c){return $.makeOrd(l,c,"textord")},mathmlBuilder:function(l,c){var f=vr(l.text,l.mode,c),p=fl(l,c)||"normal",v;return l.mode==="text"?v=new ne.MathNode("mtext",[f]):/[0-9]/.test(l.text)?v=new ne.MathNode("mn",[f]):l.text==="\\prime"?v=new ne.MathNode("mo",[f]):v=new ne.MathNode("mi",[f]),p!==Mf[v.type]&&v.setAttribute("mathvariant",p),v}});var _l={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Nl={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Qn({type:"spacing",htmlBuilder:function(l,c){if(Nl.hasOwnProperty(l.text)){var f=Nl[l.text].className||"";if(l.mode==="text"){var p=$.makeOrd(l,c,"textord");return p.classes.push(f),p}else return $.makeSpan(["mspace",f],[$.mathsym(l.text,l.mode,c)],c)}else{if(_l.hasOwnProperty(l.text))return $.makeSpan(["mspace",_l[l.text]],[],c);throw new o('Unknown type of space "'+l.text+'"')}},mathmlBuilder:function(l,c){var f;if(Nl.hasOwnProperty(l.text))f=new ne.MathNode("mtext",[new ne.TextNode("\xA0")]);else{if(_l.hasOwnProperty(l.text))return new ne.MathNode("mspace");throw new o('Unknown type of space "'+l.text+'"')}return f}});var Cf=function(){var l=new ne.MathNode("mtd",[]);return l.setAttribute("width","50%"),l};Qn({type:"tag",mathmlBuilder:function(l,c){var f=new ne.MathNode("mtable",[new ne.MathNode("mtr",[Cf(),new ne.MathNode("mtd",[Mn(l.body,c)]),Cf(),new ne.MathNode("mtd",[Mn(l.tag,c)])])]);return f.setAttribute("width","100%"),f}});var Tf={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Ef={"\\textbf":"textbf","\\textmd":"textmd"},i4={"\\textit":"textit","\\textup":"textup"},Of=function(l,c){var f=l.font;return f?Tf[f]?c.withTextFontFamily(Tf[f]):Ef[f]?c.withTextFontWeight(Ef[f]):c.withTextFontShape(i4[f]):c};fe({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler:function(l,c){var f=l.parser,p=l.funcName,v=c[0];return{type:"text",mode:f.mode,body:ht(v),font:p}},htmlBuilder:function(l,c){var f=Of(l,c),p=vt(l.body,f,!0);return $.makeSpan(["mord","text"],p,f)},mathmlBuilder:function(l,c){var f=Of(l,c);return Mn(l.body,f)}}),fe({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler:function(l,c){var f=l.parser;return{type:"underline",mode:f.mode,body:c[0]}},htmlBuilder:function(l,c){var f=qe(l.body,c),p=$.makeLineSpan("underline-line",c),v=c.fontMetrics().defaultRuleThickness,x=$.makeVList({positionType:"top",positionData:f.height,children:[{type:"kern",size:v},{type:"elem",elem:p},{type:"kern",size:3*v},{type:"elem",elem:f}]},c);return $.makeSpan(["mord","underline"],[x],c)},mathmlBuilder:function(l,c){var f=new ne.MathNode("mo",[new ne.TextNode("\u203E")]);f.setAttribute("stretchy","true");var p=new ne.MathNode("munder",[Ke(l.body,c),f]);return p.setAttribute("accentunder","true"),p}}),fe({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler:function(l,c){var f=l.parser;return{type:"vcenter",mode:f.mode,body:c[0]}},htmlBuilder:function(l,c){var f=qe(l.body,c),p=c.fontMetrics().axisHeight,v=.5*(f.height-p-(f.depth+p));return $.makeVList({positionType:"shift",positionData:v,children:[{type:"elem",elem:f}]},c)},mathmlBuilder:function(l,c){return new ne.MathNode("mpadded",[Ke(l.body,c)],["vcenter"])}}),fe({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler:function(l,c,f){throw new o("\\verb ended by end of line instead of matching delimiter")},htmlBuilder:function(l,c){for(var f=_f(l),p=[],v=c.havingStyle(c.style.text()),x=0;x<f.length;x++){var S=f[x];S==="~"&&(S="\\textasciitilde"),p.push($.makeSymbol(S,"Typewriter-Regular",l.mode,v,["mord","texttt"]))}return $.makeSpan(["mord","text"].concat(v.sizingClasses(c)),$.tryCombineChars(p),v)},mathmlBuilder:function(l,c){var f=new ne.TextNode(_f(l)),p=new ne.MathNode("mtext",[f]);return p.setAttribute("mathvariant","monospace"),p}});var _f=function(l){return l.body.replace(/ /g,l.star?"\u2423":"\xA0")},o4=zc,Tn=o4,Nf=`[ \r
	]`,a4="\\\\[a-zA-Z@]+",s4="\\\\[^\uD800-\uDFFF]",l4="("+a4+")"+Nf+"*",u4=`\\\\(
|[ \r	]+
?)[ \r	]*`,Dl="[\u0300-\u036F]",c4=new RegExp(Dl+"+$"),f4="("+Nf+"+)|"+(u4+"|")+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]"+(Dl+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Dl+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+l4)+("|"+s4+")"),Df=function(){function b(c,f){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=c,this.settings=f,this.tokenRegex=new RegExp(f4,"g"),this.catcodes={"%":14,"~":13}}var l=b.prototype;return l.setCatcode=function(f,p){this.catcodes[f]=p},l.lex=function(){var f=this.input,p=this.tokenRegex.lastIndex;if(p===f.length)return new Lr("EOF",new Or(this,p,p));var v=this.tokenRegex.exec(f);if(v===null||v.index!==p)throw new o("Unexpected character: '"+f[p]+"'",new Lr(f[p],new Or(this,p,p+1)));var x=v[6]||v[3]||(v[2]?"\\ ":" ");if(this.catcodes[x]===14){var S=f.indexOf(`
`,this.tokenRegex.lastIndex);return S===-1?(this.tokenRegex.lastIndex=f.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=S+1,this.lex()}return new Lr(x,new Or(this,p,this.tokenRegex.lastIndex))},b}(),h4=function(){function b(c,f){c===void 0&&(c={}),f===void 0&&(f={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=f,this.builtins=c,this.undefStack=[]}var l=b.prototype;return l.beginGroup=function(){this.undefStack.push({})},l.endGroup=function(){if(this.undefStack.length===0)throw new o("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var f=this.undefStack.pop();for(var p in f)f.hasOwnProperty(p)&&(f[p]==null?delete this.current[p]:this.current[p]=f[p])},l.endGroups=function(){for(;this.undefStack.length>0;)this.endGroup()},l.has=function(f){return this.current.hasOwnProperty(f)||this.builtins.hasOwnProperty(f)},l.get=function(f){return this.current.hasOwnProperty(f)?this.current[f]:this.builtins[f]},l.set=function(f,p,v){if(v===void 0&&(v=!1),v){for(var x=0;x<this.undefStack.length;x++)delete this.undefStack[x][f];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][f]=p)}else{var S=this.undefStack[this.undefStack.length-1];S&&!S.hasOwnProperty(f)&&(S[f]=this.current[f])}p==null?delete this.current[f]:this.current[f]=p},b}(),p4=of,d4=p4;_("\\noexpand",function(b){var l=b.popToken();return b.isExpandable(l.text)&&(l.noexpand=!0,l.treatAsRelax=!0),{tokens:[l],numArgs:0}}),_("\\expandafter",function(b){var l=b.popToken();return b.expandOnce(!0),{tokens:[l],numArgs:0}}),_("\\@firstoftwo",function(b){var l=b.consumeArgs(2);return{tokens:l[0],numArgs:0}}),_("\\@secondoftwo",function(b){var l=b.consumeArgs(2);return{tokens:l[1],numArgs:0}}),_("\\@ifnextchar",function(b){var l=b.consumeArgs(3);b.consumeSpaces();var c=b.future();return l[0].length===1&&l[0][0].text===c.text?{tokens:l[1],numArgs:0}:{tokens:l[2],numArgs:0}}),_("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),_("\\TextOrMath",function(b){var l=b.consumeArgs(2);return b.mode==="text"?{tokens:l[0],numArgs:0}:{tokens:l[1],numArgs:0}});var zf={"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};_("\\char",function(b){var l=b.popToken(),c,f="";if(l.text==="'")c=8,l=b.popToken();else if(l.text==='"')c=16,l=b.popToken();else if(l.text==="`")if(l=b.popToken(),l.text[0]==="\\")f=l.text.charCodeAt(1);else{if(l.text==="EOF")throw new o("\\char` missing argument");f=l.text.charCodeAt(0)}else c=10;if(c){if(f=zf[l.text],f==null||f>=c)throw new o("Invalid base-"+c+" digit "+l.text);for(var p;(p=zf[b.future().text])!=null&&p<c;)f*=c,f+=p,b.popToken()}return"\\@char{"+f+"}"});var zl=function(l,c,f){var p=l.consumeArg().tokens;if(p.length!==1)throw new o("\\newcommand's first argument must be a macro name");var v=p[0].text,x=l.isDefined(v);if(x&&!c)throw new o("\\newcommand{"+v+"} attempting to redefine "+(v+"; use \\renewcommand"));if(!x&&!f)throw new o("\\renewcommand{"+v+"} when command "+v+" does not yet exist; use \\newcommand");var S=0;if(p=l.consumeArg().tokens,p.length===1&&p[0].text==="["){for(var E="",z=l.expandNextToken();z.text!=="]"&&z.text!=="EOF";)E+=z.text,z=l.expandNextToken();if(!E.match(/^\s*[0-9]+\s*$/))throw new o("Invalid number of arguments: "+E);S=parseInt(E),p=l.consumeArg().tokens}return l.macros.set(v,{tokens:p,numArgs:S}),""};_("\\newcommand",function(b){return zl(b,!1,!0)}),_("\\renewcommand",function(b){return zl(b,!0,!1)}),_("\\providecommand",function(b){return zl(b,!0,!0)}),_("\\message",function(b){var l=b.consumeArgs(1)[0];return console.log(l.reverse().map(function(c){return c.text}).join("")),""}),_("\\errmessage",function(b){var l=b.consumeArgs(1)[0];return console.error(l.reverse().map(function(c){return c.text}).join("")),""}),_("\\show",function(b){var l=b.popToken(),c=l.text;return console.log(l,b.macros.get(c),Tn[c],nt.math[c],nt.text[c]),""}),_("\\bgroup","{"),_("\\egroup","}"),_("~","\\nobreakspace"),_("\\lq","`"),_("\\rq","'"),_("\\aa","\\r a"),_("\\AA","\\r A"),_("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}"),_("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),_("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}"),_("\u212C","\\mathscr{B}"),_("\u2130","\\mathscr{E}"),_("\u2131","\\mathscr{F}"),_("\u210B","\\mathscr{H}"),_("\u2110","\\mathscr{I}"),_("\u2112","\\mathscr{L}"),_("\u2133","\\mathscr{M}"),_("\u211B","\\mathscr{R}"),_("\u212D","\\mathfrak{C}"),_("\u210C","\\mathfrak{H}"),_("\u2128","\\mathfrak{Z}"),_("\\Bbbk","\\Bbb{k}"),_("\xB7","\\cdotp"),_("\\llap","\\mathllap{\\textrm{#1}}"),_("\\rlap","\\mathrlap{\\textrm{#1}}"),_("\\clap","\\mathclap{\\textrm{#1}}"),_("\\mathstrut","\\vphantom{(}"),_("\\underbar","\\underline{\\text{#1}}"),_("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),_("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}"),_("\\ne","\\neq"),_("\u2260","\\neq"),_("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}"),_("\u2209","\\notin"),_("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}"),_("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}"),_("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}"),_("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225B}}"),_("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225D}}"),_("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225E}}"),_("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}"),_("\u27C2","\\perp"),_("\u203C","\\mathclose{!\\mkern-0.8mu!}"),_("\u220C","\\notni"),_("\u231C","\\ulcorner"),_("\u231D","\\urcorner"),_("\u231E","\\llcorner"),_("\u231F","\\lrcorner"),_("\xA9","\\copyright"),_("\xAE","\\textregistered"),_("\uFE0F","\\textregistered"),_("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),_("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),_("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),_("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),_("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}"),_("\u22EE","\\vdots"),_("\\varGamma","\\mathit{\\Gamma}"),_("\\varDelta","\\mathit{\\Delta}"),_("\\varTheta","\\mathit{\\Theta}"),_("\\varLambda","\\mathit{\\Lambda}"),_("\\varXi","\\mathit{\\Xi}"),_("\\varPi","\\mathit{\\Pi}"),_("\\varSigma","\\mathit{\\Sigma}"),_("\\varUpsilon","\\mathit{\\Upsilon}"),_("\\varPhi","\\mathit{\\Phi}"),_("\\varPsi","\\mathit{\\Psi}"),_("\\varOmega","\\mathit{\\Omega}"),_("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),_("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),_("\\boxed","\\fbox{$\\displaystyle{#1}$}"),_("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),_("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),_("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var Bf={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};_("\\dots",function(b){var l="\\dotso",c=b.expandAfterFuture().text;return c in Bf?l=Bf[c]:(c.substr(0,4)==="\\not"||c in nt.math&&N.contains(["bin","rel"],nt.math[c].group))&&(l="\\dotsb"),l});var Bl={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};_("\\dotso",function(b){var l=b.future().text;return l in Bl?"\\ldots\\,":"\\ldots"}),_("\\dotsc",function(b){var l=b.future().text;return l in Bl&&l!==","?"\\ldots\\,":"\\ldots"}),_("\\cdots",function(b){var l=b.future().text;return l in Bl?"\\@cdots\\,":"\\@cdots"}),_("\\dotsb","\\cdots"),_("\\dotsm","\\cdots"),_("\\dotsi","\\!\\cdots"),_("\\dotsx","\\ldots\\,"),_("\\DOTSI","\\relax"),_("\\DOTSB","\\relax"),_("\\DOTSX","\\relax"),_("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),_("\\,","\\tmspace+{3mu}{.1667em}"),_("\\thinspace","\\,"),_("\\>","\\mskip{4mu}"),_("\\:","\\tmspace+{4mu}{.2222em}"),_("\\medspace","\\:"),_("\\;","\\tmspace+{5mu}{.2777em}"),_("\\thickspace","\\;"),_("\\!","\\tmspace-{3mu}{.1667em}"),_("\\negthinspace","\\!"),_("\\negmedspace","\\tmspace-{4mu}{.2222em}"),_("\\negthickspace","\\tmspace-{5mu}{.277em}"),_("\\enspace","\\kern.5em "),_("\\enskip","\\hskip.5em\\relax"),_("\\quad","\\hskip1em\\relax"),_("\\qquad","\\hskip2em\\relax"),_("\\tag","\\@ifstar\\tag@literal\\tag@paren"),_("\\tag@paren","\\tag@literal{({#1})}"),_("\\tag@literal",function(b){if(b.macros.get("\\df@tag"))throw new o("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),_("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),_("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),_("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),_("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),_("\\pmb","\\html@mathml{\\@binrel{#1}{\\mathrlap{#1}\\kern0.5px#1}}{\\mathbf{#1}}"),_("\\newline","\\\\\\relax"),_("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var Rf=q(It["Main-Regular"]["T".charCodeAt(0)][1]-.7*It["Main-Regular"]["A".charCodeAt(0)][1]);_("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+Rf+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),_("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+Rf+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),_("\\hspace","\\@ifstar\\@hspacer\\@hspace"),_("\\@hspace","\\hskip #1\\relax"),_("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),_("\\ordinarycolon",":"),_("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),_("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),_("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),_("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),_("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),_("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),_("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),_("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),_("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),_("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),_("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),_("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),_("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),_("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),_("\u2237","\\dblcolon"),_("\u2239","\\eqcolon"),_("\u2254","\\coloneqq"),_("\u2255","\\eqqcolon"),_("\u2A74","\\Coloneqq"),_("\\ratio","\\vcentcolon"),_("\\coloncolon","\\dblcolon"),_("\\colonequals","\\coloneqq"),_("\\coloncolonequals","\\Coloneqq"),_("\\equalscolon","\\eqqcolon"),_("\\equalscoloncolon","\\Eqqcolon"),_("\\colonminus","\\coloneq"),_("\\coloncolonminus","\\Coloneq"),_("\\minuscolon","\\eqcolon"),_("\\minuscoloncolon","\\Eqcolon"),_("\\coloncolonapprox","\\Colonapprox"),_("\\coloncolonsim","\\Colonsim"),_("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),_("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),_("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),_("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),_("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}"),_("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),_("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),_("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),_("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),_("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),_("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),_("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),_("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),_("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}"),_("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}"),_("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}"),_("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}"),_("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}"),_("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}"),_("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}"),_("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}"),_("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}"),_("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}"),_("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}"),_("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}"),_("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}"),_("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}"),_("\\imath","\\html@mathml{\\@imath}{\u0131}"),_("\\jmath","\\html@mathml{\\@jmath}{\u0237}"),_("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27E6}}"),_("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27E7}}"),_("\u27E6","\\llbracket"),_("\u27E7","\\rrbracket"),_("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}"),_("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}"),_("\u2983","\\lBrace"),_("\u2984","\\rBrace"),_("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29B5}}"),_("\u29B5","\\minuso"),_("\\darr","\\downarrow"),_("\\dArr","\\Downarrow"),_("\\Darr","\\Downarrow"),_("\\lang","\\langle"),_("\\rang","\\rangle"),_("\\uarr","\\uparrow"),_("\\uArr","\\Uparrow"),_("\\Uarr","\\Uparrow"),_("\\N","\\mathbb{N}"),_("\\R","\\mathbb{R}"),_("\\Z","\\mathbb{Z}"),_("\\alef","\\aleph"),_("\\alefsym","\\aleph"),_("\\Alpha","\\mathrm{A}"),_("\\Beta","\\mathrm{B}"),_("\\bull","\\bullet"),_("\\Chi","\\mathrm{X}"),_("\\clubs","\\clubsuit"),_("\\cnums","\\mathbb{C}"),_("\\Complex","\\mathbb{C}"),_("\\Dagger","\\ddagger"),_("\\diamonds","\\diamondsuit"),_("\\empty","\\emptyset"),_("\\Epsilon","\\mathrm{E}"),_("\\Eta","\\mathrm{H}"),_("\\exist","\\exists"),_("\\harr","\\leftrightarrow"),_("\\hArr","\\Leftrightarrow"),_("\\Harr","\\Leftrightarrow"),_("\\hearts","\\heartsuit"),_("\\image","\\Im"),_("\\infin","\\infty"),_("\\Iota","\\mathrm{I}"),_("\\isin","\\in"),_("\\Kappa","\\mathrm{K}"),_("\\larr","\\leftarrow"),_("\\lArr","\\Leftarrow"),_("\\Larr","\\Leftarrow"),_("\\lrarr","\\leftrightarrow"),_("\\lrArr","\\Leftrightarrow"),_("\\Lrarr","\\Leftrightarrow"),_("\\Mu","\\mathrm{M}"),_("\\natnums","\\mathbb{N}"),_("\\Nu","\\mathrm{N}"),_("\\Omicron","\\mathrm{O}"),_("\\plusmn","\\pm"),_("\\rarr","\\rightarrow"),_("\\rArr","\\Rightarrow"),_("\\Rarr","\\Rightarrow"),_("\\real","\\Re"),_("\\reals","\\mathbb{R}"),_("\\Reals","\\mathbb{R}"),_("\\Rho","\\mathrm{P}"),_("\\sdot","\\cdot"),_("\\sect","\\S"),_("\\spades","\\spadesuit"),_("\\sub","\\subset"),_("\\sube","\\subseteq"),_("\\supe","\\supseteq"),_("\\Tau","\\mathrm{T}"),_("\\thetasym","\\vartheta"),_("\\weierp","\\wp"),_("\\Zeta","\\mathrm{Z}"),_("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),_("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),_("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),_("\\bra","\\mathinner{\\langle{#1}|}"),_("\\ket","\\mathinner{|{#1}\\rangle}"),_("\\braket","\\mathinner{\\langle{#1}\\rangle}"),_("\\Bra","\\left\\langle#1\\right|"),_("\\Ket","\\left|#1\\right\\rangle"),_("\\angln","{\\angl n}"),_("\\blue","\\textcolor{##6495ed}{#1}"),_("\\orange","\\textcolor{##ffa500}{#1}"),_("\\pink","\\textcolor{##ff00af}{#1}"),_("\\red","\\textcolor{##df0030}{#1}"),_("\\green","\\textcolor{##28ae7b}{#1}"),_("\\gray","\\textcolor{gray}{#1}"),_("\\purple","\\textcolor{##9d38bd}{#1}"),_("\\blueA","\\textcolor{##ccfaff}{#1}"),_("\\blueB","\\textcolor{##80f6ff}{#1}"),_("\\blueC","\\textcolor{##63d9ea}{#1}"),_("\\blueD","\\textcolor{##11accd}{#1}"),_("\\blueE","\\textcolor{##0c7f99}{#1}"),_("\\tealA","\\textcolor{##94fff5}{#1}"),_("\\tealB","\\textcolor{##26edd5}{#1}"),_("\\tealC","\\textcolor{##01d1c1}{#1}"),_("\\tealD","\\textcolor{##01a995}{#1}"),_("\\tealE","\\textcolor{##208170}{#1}"),_("\\greenA","\\textcolor{##b6ffb0}{#1}"),_("\\greenB","\\textcolor{##8af281}{#1}"),_("\\greenC","\\textcolor{##74cf70}{#1}"),_("\\greenD","\\textcolor{##1fab54}{#1}"),_("\\greenE","\\textcolor{##0d923f}{#1}"),_("\\goldA","\\textcolor{##ffd0a9}{#1}"),_("\\goldB","\\textcolor{##ffbb71}{#1}"),_("\\goldC","\\textcolor{##ff9c39}{#1}"),_("\\goldD","\\textcolor{##e07d10}{#1}"),_("\\goldE","\\textcolor{##a75a05}{#1}"),_("\\redA","\\textcolor{##fca9a9}{#1}"),_("\\redB","\\textcolor{##ff8482}{#1}"),_("\\redC","\\textcolor{##f9685d}{#1}"),_("\\redD","\\textcolor{##e84d39}{#1}"),_("\\redE","\\textcolor{##bc2612}{#1}"),_("\\maroonA","\\textcolor{##ffbde0}{#1}"),_("\\maroonB","\\textcolor{##ff92c6}{#1}"),_("\\maroonC","\\textcolor{##ed5fa6}{#1}"),_("\\maroonD","\\textcolor{##ca337c}{#1}"),_("\\maroonE","\\textcolor{##9e034e}{#1}"),_("\\purpleA","\\textcolor{##ddd7ff}{#1}"),_("\\purpleB","\\textcolor{##c6b9fc}{#1}"),_("\\purpleC","\\textcolor{##aa87ff}{#1}"),_("\\purpleD","\\textcolor{##7854ab}{#1}"),_("\\purpleE","\\textcolor{##543b78}{#1}"),_("\\mintA","\\textcolor{##f5f9e8}{#1}"),_("\\mintB","\\textcolor{##edf2df}{#1}"),_("\\mintC","\\textcolor{##e0e5cc}{#1}"),_("\\grayA","\\textcolor{##f6f7f7}{#1}"),_("\\grayB","\\textcolor{##f0f1f2}{#1}"),_("\\grayC","\\textcolor{##e3e5e6}{#1}"),_("\\grayD","\\textcolor{##d6d8da}{#1}"),_("\\grayE","\\textcolor{##babec2}{#1}"),_("\\grayF","\\textcolor{##888d93}{#1}"),_("\\grayG","\\textcolor{##626569}{#1}"),_("\\grayH","\\textcolor{##3b3e40}{#1}"),_("\\grayI","\\textcolor{##21242c}{#1}"),_("\\kaBlue","\\textcolor{##314453}{#1}"),_("\\kaGreen","\\textcolor{##71B307}{#1}");var If={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0},m4=function(){function b(c,f,p){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=f,this.expansionCount=0,this.feed(c),this.macros=new h4(d4,f.macros),this.mode=p,this.stack=[]}var l=b.prototype;return l.feed=function(f){this.lexer=new Df(f,this.settings)},l.switchMode=function(f){this.mode=f},l.beginGroup=function(){this.macros.beginGroup()},l.endGroup=function(){this.macros.endGroup()},l.endGroups=function(){this.macros.endGroups()},l.future=function(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]},l.popToken=function(){return this.future(),this.stack.pop()},l.pushToken=function(f){this.stack.push(f)},l.pushTokens=function(f){var p;(p=this.stack).push.apply(p,f)},l.scanArgument=function(f){var p,v,x;if(f){if(this.consumeSpaces(),this.future().text!=="[")return null;p=this.popToken();var S=this.consumeArg(["]"]);x=S.tokens,v=S.end}else{var E=this.consumeArg();x=E.tokens,p=E.start,v=E.end}return this.pushToken(new Lr("EOF",v.loc)),this.pushTokens(x),p.range(v,"")},l.consumeSpaces=function(){for(;;){var f=this.future();if(f.text===" ")this.stack.pop();else break}},l.consumeArg=function(f){var p=[],v=f&&f.length>0;v||this.consumeSpaces();var x=this.future(),S,E=0,z=0;do{if(S=this.popToken(),p.push(S),S.text==="{")++E;else if(S.text==="}"){if(--E,E===-1)throw new o("Extra }",S)}else if(S.text==="EOF")throw new o("Unexpected end of input in a macro argument, expected '"+(f&&v?f[z]:"}")+"'",S);if(f&&v)if((E===0||E===1&&f[z]==="{")&&S.text===f[z]){if(++z,z===f.length){p.splice(-z,z);break}}else z=0}while(E!==0||v);return x.text==="{"&&p[p.length-1].text==="}"&&(p.pop(),p.shift()),p.reverse(),{tokens:p,start:x,end:S}},l.consumeArgs=function(f,p){if(p){if(p.length!==f+1)throw new o("The length of delimiters doesn't match the number of args!");for(var v=p[0],x=0;x<v.length;x++){var S=this.popToken();if(v[x]!==S.text)throw new o("Use of the macro doesn't match its definition",S)}}for(var E=[],z=0;z<f;z++)E.push(this.consumeArg(p&&p[z+1]).tokens);return E},l.expandOnce=function(f){var p=this.popToken(),v=p.text,x=p.noexpand?null:this._getExpansion(v);if(x==null||f&&x.unexpandable){if(f&&x==null&&v[0]==="\\"&&!this.isDefined(v))throw new o("Undefined control sequence: "+v);return this.pushToken(p),p}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new o("Too many expansions: infinite loop or need to increase maxExpand setting");var S=x.tokens,E=this.consumeArgs(x.numArgs,x.delimiters);if(x.numArgs){S=S.slice();for(var z=S.length-1;z>=0;--z){var P=S[z];if(P.text==="#"){if(z===0)throw new o("Incomplete placeholder at end of macro body",P);if(P=S[--z],P.text==="#")S.splice(z+1,1);else if(/^[1-9]$/.test(P.text)){var V;(V=S).splice.apply(V,[z,2].concat(E[+P.text-1]))}else throw new o("Not a valid argument number",P)}}}return this.pushTokens(S),S},l.expandAfterFuture=function(){return this.expandOnce(),this.future()},l.expandNextToken=function(){for(;;){var f=this.expandOnce();if(f instanceof Lr)return f.treatAsRelax&&(f.text="\\relax"),this.stack.pop()}throw new Error},l.expandMacro=function(f){return this.macros.has(f)?this.expandTokens([new Lr(f)]):void 0},l.expandTokens=function(f){var p=[],v=this.stack.length;for(this.pushTokens(f);this.stack.length>v;){var x=this.expandOnce(!0);x instanceof Lr&&(x.treatAsRelax&&(x.noexpand=!1,x.treatAsRelax=!1),p.push(this.stack.pop()))}return p},l.expandMacroAsText=function(f){var p=this.expandMacro(f);return p&&p.map(function(v){return v.text}).join("")},l._getExpansion=function(f){var p=this.macros.get(f);if(p==null)return p;if(f.length===1){var v=this.lexer.catcodes[f];if(v!=null&&v!==13)return}var x=typeof p=="function"?p(this):p;if(typeof x=="string"){var S=0;if(x.indexOf("#")!==-1)for(var E=x.replace(/##/g,"");E.indexOf("#"+(S+1))!==-1;)++S;for(var z=new Df(x,this.settings),P=[],V=z.lex();V.text!=="EOF";)P.push(V),V=z.lex();P.reverse();var J={tokens:P,numArgs:S};return J}return x},l.isDefined=function(f){return this.macros.has(f)||Tn.hasOwnProperty(f)||nt.math.hasOwnProperty(f)||nt.text.hasOwnProperty(f)||If.hasOwnProperty(f)},l.isExpandable=function(f){var p=this.macros.get(f);return p!=null?typeof p=="string"||typeof p=="function"||!p.unexpandable:Tn.hasOwnProperty(f)&&!Tn[f].primitive},b}(),Rl={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},Ff={\u00E1:"a\u0301",\u00E0:"a\u0300",\u00E4:"a\u0308",\u01DF:"a\u0308\u0304",\u00E3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1EAF:"a\u0306\u0301",\u1EB1:"a\u0306\u0300",\u1EB5:"a\u0306\u0303",\u01CE:"a\u030C",\u00E2:"a\u0302",\u1EA5:"a\u0302\u0301",\u1EA7:"a\u0302\u0300",\u1EAB:"a\u0302\u0303",\u0227:"a\u0307",\u01E1:"a\u0307\u0304",\u00E5:"a\u030A",\u01FB:"a\u030A\u0301",\u1E03:"b\u0307",\u0107:"c\u0301",\u1E09:"c\u0327\u0301",\u010D:"c\u030C",\u0109:"c\u0302",\u010B:"c\u0307",\u00E7:"c\u0327",\u010F:"d\u030C",\u1E0B:"d\u0307",\u1E11:"d\u0327",\u00E9:"e\u0301",\u00E8:"e\u0300",\u00EB:"e\u0308",\u1EBD:"e\u0303",\u0113:"e\u0304",\u1E17:"e\u0304\u0301",\u1E15:"e\u0304\u0300",\u0115:"e\u0306",\u1E1D:"e\u0327\u0306",\u011B:"e\u030C",\u00EA:"e\u0302",\u1EBF:"e\u0302\u0301",\u1EC1:"e\u0302\u0300",\u1EC5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1E1F:"f\u0307",\u01F5:"g\u0301",\u1E21:"g\u0304",\u011F:"g\u0306",\u01E7:"g\u030C",\u011D:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1E27:"h\u0308",\u021F:"h\u030C",\u0125:"h\u0302",\u1E23:"h\u0307",\u1E29:"h\u0327",\u00ED:"i\u0301",\u00EC:"i\u0300",\u00EF:"i\u0308",\u1E2F:"i\u0308\u0301",\u0129:"i\u0303",\u012B:"i\u0304",\u012D:"i\u0306",\u01D0:"i\u030C",\u00EE:"i\u0302",\u01F0:"j\u030C",\u0135:"j\u0302",\u1E31:"k\u0301",\u01E9:"k\u030C",\u0137:"k\u0327",\u013A:"l\u0301",\u013E:"l\u030C",\u013C:"l\u0327",\u1E3F:"m\u0301",\u1E41:"m\u0307",\u0144:"n\u0301",\u01F9:"n\u0300",\u00F1:"n\u0303",\u0148:"n\u030C",\u1E45:"n\u0307",\u0146:"n\u0327",\u00F3:"o\u0301",\u00F2:"o\u0300",\u00F6:"o\u0308",\u022B:"o\u0308\u0304",\u00F5:"o\u0303",\u1E4D:"o\u0303\u0301",\u1E4F:"o\u0303\u0308",\u022D:"o\u0303\u0304",\u014D:"o\u0304",\u1E53:"o\u0304\u0301",\u1E51:"o\u0304\u0300",\u014F:"o\u0306",\u01D2:"o\u030C",\u00F4:"o\u0302",\u1ED1:"o\u0302\u0301",\u1ED3:"o\u0302\u0300",\u1ED7:"o\u0302\u0303",\u022F:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030B",\u1E55:"p\u0301",\u1E57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030C",\u1E59:"r\u0307",\u0157:"r\u0327",\u015B:"s\u0301",\u1E65:"s\u0301\u0307",\u0161:"s\u030C",\u1E67:"s\u030C\u0307",\u015D:"s\u0302",\u1E61:"s\u0307",\u015F:"s\u0327",\u1E97:"t\u0308",\u0165:"t\u030C",\u1E6B:"t\u0307",\u0163:"t\u0327",\u00FA:"u\u0301",\u00F9:"u\u0300",\u00FC:"u\u0308",\u01D8:"u\u0308\u0301",\u01DC:"u\u0308\u0300",\u01D6:"u\u0308\u0304",\u01DA:"u\u0308\u030C",\u0169:"u\u0303",\u1E79:"u\u0303\u0301",\u016B:"u\u0304",\u1E7B:"u\u0304\u0308",\u016D:"u\u0306",\u01D4:"u\u030C",\u00FB:"u\u0302",\u016F:"u\u030A",\u0171:"u\u030B",\u1E7D:"v\u0303",\u1E83:"w\u0301",\u1E81:"w\u0300",\u1E85:"w\u0308",\u0175:"w\u0302",\u1E87:"w\u0307",\u1E98:"w\u030A",\u1E8D:"x\u0308",\u1E8B:"x\u0307",\u00FD:"y\u0301",\u1EF3:"y\u0300",\u00FF:"y\u0308",\u1EF9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1E8F:"y\u0307",\u1E99:"y\u030A",\u017A:"z\u0301",\u017E:"z\u030C",\u1E91:"z\u0302",\u017C:"z\u0307",\u00C1:"A\u0301",\u00C0:"A\u0300",\u00C4:"A\u0308",\u01DE:"A\u0308\u0304",\u00C3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1EAE:"A\u0306\u0301",\u1EB0:"A\u0306\u0300",\u1EB4:"A\u0306\u0303",\u01CD:"A\u030C",\u00C2:"A\u0302",\u1EA4:"A\u0302\u0301",\u1EA6:"A\u0302\u0300",\u1EAA:"A\u0302\u0303",\u0226:"A\u0307",\u01E0:"A\u0307\u0304",\u00C5:"A\u030A",\u01FA:"A\u030A\u0301",\u1E02:"B\u0307",\u0106:"C\u0301",\u1E08:"C\u0327\u0301",\u010C:"C\u030C",\u0108:"C\u0302",\u010A:"C\u0307",\u00C7:"C\u0327",\u010E:"D\u030C",\u1E0A:"D\u0307",\u1E10:"D\u0327",\u00C9:"E\u0301",\u00C8:"E\u0300",\u00CB:"E\u0308",\u1EBC:"E\u0303",\u0112:"E\u0304",\u1E16:"E\u0304\u0301",\u1E14:"E\u0304\u0300",\u0114:"E\u0306",\u1E1C:"E\u0327\u0306",\u011A:"E\u030C",\u00CA:"E\u0302",\u1EBE:"E\u0302\u0301",\u1EC0:"E\u0302\u0300",\u1EC4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1E1E:"F\u0307",\u01F4:"G\u0301",\u1E20:"G\u0304",\u011E:"G\u0306",\u01E6:"G\u030C",\u011C:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1E26:"H\u0308",\u021E:"H\u030C",\u0124:"H\u0302",\u1E22:"H\u0307",\u1E28:"H\u0327",\u00CD:"I\u0301",\u00CC:"I\u0300",\u00CF:"I\u0308",\u1E2E:"I\u0308\u0301",\u0128:"I\u0303",\u012A:"I\u0304",\u012C:"I\u0306",\u01CF:"I\u030C",\u00CE:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1E30:"K\u0301",\u01E8:"K\u030C",\u0136:"K\u0327",\u0139:"L\u0301",\u013D:"L\u030C",\u013B:"L\u0327",\u1E3E:"M\u0301",\u1E40:"M\u0307",\u0143:"N\u0301",\u01F8:"N\u0300",\u00D1:"N\u0303",\u0147:"N\u030C",\u1E44:"N\u0307",\u0145:"N\u0327",\u00D3:"O\u0301",\u00D2:"O\u0300",\u00D6:"O\u0308",\u022A:"O\u0308\u0304",\u00D5:"O\u0303",\u1E4C:"O\u0303\u0301",\u1E4E:"O\u0303\u0308",\u022C:"O\u0303\u0304",\u014C:"O\u0304",\u1E52:"O\u0304\u0301",\u1E50:"O\u0304\u0300",\u014E:"O\u0306",\u01D1:"O\u030C",\u00D4:"O\u0302",\u1ED0:"O\u0302\u0301",\u1ED2:"O\u0302\u0300",\u1ED6:"O\u0302\u0303",\u022E:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030B",\u1E54:"P\u0301",\u1E56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030C",\u1E58:"R\u0307",\u0156:"R\u0327",\u015A:"S\u0301",\u1E64:"S\u0301\u0307",\u0160:"S\u030C",\u1E66:"S\u030C\u0307",\u015C:"S\u0302",\u1E60:"S\u0307",\u015E:"S\u0327",\u0164:"T\u030C",\u1E6A:"T\u0307",\u0162:"T\u0327",\u00DA:"U\u0301",\u00D9:"U\u0300",\u00DC:"U\u0308",\u01D7:"U\u0308\u0301",\u01DB:"U\u0308\u0300",\u01D5:"U\u0308\u0304",\u01D9:"U\u0308\u030C",\u0168:"U\u0303",\u1E78:"U\u0303\u0301",\u016A:"U\u0304",\u1E7A:"U\u0304\u0308",\u016C:"U\u0306",\u01D3:"U\u030C",\u00DB:"U\u0302",\u016E:"U\u030A",\u0170:"U\u030B",\u1E7C:"V\u0303",\u1E82:"W\u0301",\u1E80:"W\u0300",\u1E84:"W\u0308",\u0174:"W\u0302",\u1E86:"W\u0307",\u1E8C:"X\u0308",\u1E8A:"X\u0307",\u00DD:"Y\u0301",\u1EF2:"Y\u0300",\u0178:"Y\u0308",\u1EF8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1E8E:"Y\u0307",\u0179:"Z\u0301",\u017D:"Z\u030C",\u1E90:"Z\u0302",\u017B:"Z\u0307",\u03AC:"\u03B1\u0301",\u1F70:"\u03B1\u0300",\u1FB1:"\u03B1\u0304",\u1FB0:"\u03B1\u0306",\u03AD:"\u03B5\u0301",\u1F72:"\u03B5\u0300",\u03AE:"\u03B7\u0301",\u1F74:"\u03B7\u0300",\u03AF:"\u03B9\u0301",\u1F76:"\u03B9\u0300",\u03CA:"\u03B9\u0308",\u0390:"\u03B9\u0308\u0301",\u1FD2:"\u03B9\u0308\u0300",\u1FD1:"\u03B9\u0304",\u1FD0:"\u03B9\u0306",\u03CC:"\u03BF\u0301",\u1F78:"\u03BF\u0300",\u03CD:"\u03C5\u0301",\u1F7A:"\u03C5\u0300",\u03CB:"\u03C5\u0308",\u03B0:"\u03C5\u0308\u0301",\u1FE2:"\u03C5\u0308\u0300",\u1FE1:"\u03C5\u0304",\u1FE0:"\u03C5\u0306",\u03CE:"\u03C9\u0301",\u1F7C:"\u03C9\u0300",\u038E:"\u03A5\u0301",\u1FEA:"\u03A5\u0300",\u03AB:"\u03A5\u0308",\u1FE9:"\u03A5\u0304",\u1FE8:"\u03A5\u0306",\u038F:"\u03A9\u0301",\u1FFA:"\u03A9\u0300"},Pf=function(){function b(c,f){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new m4(c,f,this.mode),this.settings=f,this.leftrightDepth=0}var l=b.prototype;return l.expect=function(f,p){if(p===void 0&&(p=!0),this.fetch().text!==f)throw new o("Expected '"+f+"', got '"+this.fetch().text+"'",this.fetch());p&&this.consume()},l.consume=function(){this.nextToken=null},l.fetch=function(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken},l.switchMode=function(f){this.mode=f,this.gullet.switchMode(f)},l.parse=function(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var f=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),f}finally{this.gullet.endGroups()}},l.subparse=function(f){var p=this.nextToken;this.consume(),this.gullet.pushToken(new Lr("}")),this.gullet.pushTokens(f);var v=this.parseExpression(!1);return this.expect("}"),this.nextToken=p,v},l.parseExpression=function(f,p){for(var v=[];;){this.mode==="math"&&this.consumeSpaces();var x=this.fetch();if(b.endOfExpression.indexOf(x.text)!==-1||p&&x.text===p||f&&Tn[x.text]&&Tn[x.text].infix)break;var S=this.parseAtom(p);if(S){if(S.type==="internal")continue}else break;v.push(S)}return this.mode==="text"&&this.formLigatures(v),this.handleInfixNodes(v)},l.handleInfixNodes=function(f){for(var p=-1,v,x=0;x<f.length;x++)if(f[x].type==="infix"){if(p!==-1)throw new o("only one infix operator per group",f[x].token);p=x,v=f[x].replaceWith}if(p!==-1&&v){var S,E,z=f.slice(0,p),P=f.slice(p+1);z.length===1&&z[0].type==="ordgroup"?S=z[0]:S={type:"ordgroup",mode:this.mode,body:z},P.length===1&&P[0].type==="ordgroup"?E=P[0]:E={type:"ordgroup",mode:this.mode,body:P};var V;return v==="\\\\abovefrac"?V=this.callFunction(v,[S,f[p],E],[]):V=this.callFunction(v,[S,E],[]),[V]}else return f},l.handleSupSubscript=function(f){var p=this.fetch(),v=p.text;this.consume(),this.consumeSpaces();var x=this.parseGroup(f);if(!x)throw new o("Expected group after '"+v+"'",p);return x},l.formatUnsupportedCmd=function(f){for(var p=[],v=0;v<f.length;v++)p.push({type:"textord",mode:"text",text:f[v]});var x={type:"text",mode:this.mode,body:p},S={type:"color",mode:this.mode,color:this.settings.errorColor,body:[x]};return S},l.parseAtom=function(f){var p=this.parseGroup("atom",f);if(this.mode==="text")return p;for(var v,x;;){this.consumeSpaces();var S=this.fetch();if(S.text==="\\limits"||S.text==="\\nolimits"){if(p&&p.type==="op"){var E=S.text==="\\limits";p.limits=E,p.alwaysHandleSupSub=!0}else if(p&&p.type==="operatorname")p.alwaysHandleSupSub&&(p.limits=S.text==="\\limits");else throw new o("Limit controls must follow a math operator",S);this.consume()}else if(S.text==="^"){if(v)throw new o("Double superscript",S);v=this.handleSupSubscript("superscript")}else if(S.text==="_"){if(x)throw new o("Double subscript",S);x=this.handleSupSubscript("subscript")}else if(S.text==="'"){if(v)throw new o("Double superscript",S);var z={type:"textord",mode:this.mode,text:"\\prime"},P=[z];for(this.consume();this.fetch().text==="'";)P.push(z),this.consume();this.fetch().text==="^"&&P.push(this.handleSupSubscript("superscript")),v={type:"ordgroup",mode:this.mode,body:P}}else break}return v||x?{type:"supsub",mode:this.mode,base:p,sup:v,sub:x}:p},l.parseFunction=function(f,p){var v=this.fetch(),x=v.text,S=Tn[x];if(!S)return null;if(this.consume(),p&&p!=="atom"&&!S.allowedInArgument)throw new o("Got function '"+x+"' with no arguments"+(p?" as "+p:""),v);if(this.mode==="text"&&!S.allowedInText)throw new o("Can't use function '"+x+"' in text mode",v);if(this.mode==="math"&&S.allowedInMath===!1)throw new o("Can't use function '"+x+"' in math mode",v);var E=this.parseArguments(x,S),z=E.args,P=E.optArgs;return this.callFunction(x,z,P,v,f)},l.callFunction=function(f,p,v,x,S){var E={funcName:f,parser:this,token:x,breakOnTokenText:S},z=Tn[f];if(z&&z.handler)return z.handler(E,p,v);throw new o("No function handler for "+f)},l.parseArguments=function(f,p){var v=p.numArgs+p.numOptionalArgs;if(v===0)return{args:[],optArgs:[]};for(var x=[],S=[],E=0;E<v;E++){var z=p.argTypes&&p.argTypes[E],P=E<p.numOptionalArgs;(p.primitive&&z==null||p.type==="sqrt"&&E===1&&S[0]==null)&&(z="primitive");var V=this.parseGroupOfType("argument to '"+f+"'",z,P);if(P)S.push(V);else if(V!=null)x.push(V);else throw new o("Null argument, please report this as a bug")}return{args:x,optArgs:S}},l.parseGroupOfType=function(f,p,v){switch(p){case"color":return this.parseColorGroup(v);case"size":return this.parseSizeGroup(v);case"url":return this.parseUrlGroup(v);case"math":case"text":return this.parseArgumentGroup(v,p);case"hbox":{var x=this.parseArgumentGroup(v,"text");return x!=null?{type:"styling",mode:x.mode,body:[x],style:"text"}:null}case"raw":{var S=this.parseStringGroup("raw",v);return S!=null?{type:"raw",mode:"text",string:S.text}:null}case"primitive":{if(v)throw new o("A primitive argument cannot be optional");var E=this.parseGroup(f);if(E==null)throw new o("Expected group as "+f,this.fetch());return E}case"original":case null:case void 0:return this.parseArgumentGroup(v);default:throw new o("Unknown group type as "+f,this.fetch())}},l.consumeSpaces=function(){for(;this.fetch().text===" ";)this.consume()},l.parseStringGroup=function(f,p){var v=this.gullet.scanArgument(p);if(v==null)return null;for(var x="",S;(S=this.fetch()).text!=="EOF";)x+=S.text,this.consume();return this.consume(),v.text=x,v},l.parseRegexGroup=function(f,p){for(var v=this.fetch(),x=v,S="",E;(E=this.fetch()).text!=="EOF"&&f.test(S+E.text);)x=E,S+=x.text,this.consume();if(S==="")throw new o("Invalid "+p+": '"+v.text+"'",v);return v.range(x,S)},l.parseColorGroup=function(f){var p=this.parseStringGroup("color",f);if(p==null)return null;var v=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(p.text);if(!v)throw new o("Invalid color: '"+p.text+"'",p);var x=v[0];return/^[0-9a-f]{6}$/i.test(x)&&(x="#"+x),{type:"color-token",mode:this.mode,color:x}},l.parseSizeGroup=function(f){var p,v=!1;if(this.gullet.consumeSpaces(),!f&&this.gullet.future().text!=="{"?p=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):p=this.parseStringGroup("size",f),!p)return null;!f&&p.text.length===0&&(p.text="0pt",v=!0);var x=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(p.text);if(!x)throw new o("Invalid size: '"+p.text+"'",p);var S={number:+(x[1]+x[2]),unit:x[3]};if(!fa(S))throw new o("Invalid unit: '"+S.unit+"'",p);return{type:"size",mode:this.mode,value:S,isBlank:v}},l.parseUrlGroup=function(f){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var p=this.parseStringGroup("url",f);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),p==null)return null;var v=p.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:v}},l.parseArgumentGroup=function(f,p){var v=this.gullet.scanArgument(f);if(v==null)return null;var x=this.mode;p&&this.switchMode(p),this.gullet.beginGroup();var S=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var E={type:"ordgroup",mode:this.mode,loc:v.loc,body:S};return p&&this.switchMode(x),E},l.parseGroup=function(f,p){var v=this.fetch(),x=v.text,S;if(x==="{"||x==="\\begingroup"){this.consume();var E=x==="{"?"}":"\\endgroup";this.gullet.beginGroup();var z=this.parseExpression(!1,E),P=this.fetch();this.expect(E),this.gullet.endGroup(),S={type:"ordgroup",mode:this.mode,loc:Or.range(v,P),body:z,semisimple:x==="\\begingroup"||void 0}}else if(S=this.parseFunction(p,f)||this.parseSymbol(),S==null&&x[0]==="\\"&&!If.hasOwnProperty(x)){if(this.settings.throwOnError)throw new o("Undefined control sequence: "+x,v);S=this.formatUnsupportedCmd(x),this.consume()}return S},l.formLigatures=function(f){for(var p=f.length-1,v=0;v<p;++v){var x=f[v],S=x.text;S==="-"&&f[v+1].text==="-"&&(v+1<p&&f[v+2].text==="-"?(f.splice(v,3,{type:"textord",mode:"text",loc:Or.range(x,f[v+2]),text:"---"}),p-=2):(f.splice(v,2,{type:"textord",mode:"text",loc:Or.range(x,f[v+1]),text:"--"}),p-=1)),(S==="'"||S==="`")&&f[v+1].text===S&&(f.splice(v,2,{type:"textord",mode:"text",loc:Or.range(x,f[v+1]),text:S+S}),p-=1)}},l.parseSymbol=function(){var f=this.fetch(),p=f.text;if(/^\\verb[^a-zA-Z]/.test(p)){this.consume();var v=p.slice(5),x=v.charAt(0)==="*";if(x&&(v=v.slice(1)),v.length<2||v.charAt(0)!==v.slice(-1))throw new o(`\\verb assertion failed --
                    please report what input caused this bug`);return v=v.slice(1,-1),{type:"verb",mode:"text",body:v,star:x}}Ff.hasOwnProperty(p[0])&&!nt[this.mode][p[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+p[0]+'" used in math mode',f),p=Ff[p[0]]+p.substr(1));var S=c4.exec(p);S&&(p=p.substring(0,S.index),p==="i"?p="\u0131":p==="j"&&(p="\u0237"));var E;if(nt[this.mode][p]){this.settings.strict&&this.mode==="math"&&ol.indexOf(p)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+p[0]+'" used in math mode',f);var z=nt[this.mode][p].group,P=Or.range(f),V;if(Ai.hasOwnProperty(z)){var J=z;V={type:"atom",mode:this.mode,family:J,loc:P,text:p}}else V={type:z,mode:this.mode,loc:P,text:p};E=V}else if(p.charCodeAt(0)>=128)this.settings.strict&&(He(p.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+p[0]+'" used in math mode',f):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+p[0]+'"'+(" ("+p.charCodeAt(0)+")"),f)),E={type:"textord",mode:"text",loc:Or.range(f),text:p};else return null;if(this.consume(),S)for(var ee=0;ee<S[0].length;ee++){var Y=S[0][ee];if(!Rl[Y])throw new o("Unknown accent ' "+Y+"'",f);var se=Rl[Y][this.mode]||Rl[Y].text;if(!se)throw new o("Accent "+Y+" unsupported in "+this.mode+" mode",f);E={type:"accent",mode:this.mode,loc:Or.range(f),label:se,isStretchy:!1,isShifty:!0,base:E}}return E},b}();Pf.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var v4=function(l,c){if(!(typeof l=="string"||l instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var f=new Pf(l,c);delete f.gullet.macros.current["\\df@tag"];var p=f.parse();if(delete f.gullet.macros.current["\\current@color"],delete f.gullet.macros.current["\\color"],f.gullet.macros.get("\\df@tag")){if(!c.displayMode)throw new o("\\tag works only in display equations");p=[{type:"tag",mode:"text",body:p,tag:f.subparse([new Lr("\\df@tag")])}]}return p},Il=v4,Lf=function(l,c,f){c.textContent="";var p=Fl(l,f).toNode();c.appendChild(p)};typeof document!="undefined"&&document.compatMode!=="CSS1Compat"&&(typeof console!="undefined"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),Lf=function(){throw new o("KaTeX doesn't work in quirks mode.")});var g4=function(l,c){var f=Fl(l,c).toMarkup();return f},y4=function(l,c){var f=new O(c);return Il(l,f)},qf=function(l,c,f){if(f.throwOnError||!(l instanceof o))throw l;var p=$.makeSpan(["katex-error"],[new ut(c)]);return p.setAttribute("title",l.toString()),p.setAttribute("style","color:"+f.errorColor),p},Fl=function(l,c){var f=new O(c);try{var p=Il(l,f);return Sg(p,l,f)}catch(v){return qf(v,l,f)}},b4=function(l,c){var f=new O(c);try{var p=Il(l,f);return Ag(p,l,f)}catch(v){return qf(v,l,f)}},x4={version:"0.15.3",render:Lf,renderToString:g4,ParseError:o,SETTINGS_SCHEMA:T,__parse:y4,__renderToDomTree:Fl,__renderToHTMLTree:b4,__setFontMetrics:Ir,__defineSymbol:g,__defineMacro:_,__domTree:{Span:at,Anchor:Ct,SymbolNode:ut,SvgNode:pr,PathNode:dr,LineNode:Fr}},w4=x4;return n=n.default,n}()})})(j1);const wA=(e,t)=>{const r="\\",n="$",o=(t||{}).delimiter||n;if(o.length!==1)throw new Error("invalid delimiter");const a=j1.exports,s=(d,m)=>a.renderToString(d,{displayMode:m,throwOnError:!1}),u=(d,m,y)=>{let k=!1,A=d.bMarks[m]+d.tShift[m],C=d.eMarks[m];if(A+1>C)return!1;const D=d.src.charAt(A);if(D!==o)return!1;let N=A;A=d.skipChars(A,D);let T=A-N;if(T!==2)return!1;let I=m;for(;++I,!(I>=y||(A=N=d.bMarks[I]+d.tShift[I],C=d.eMarks[I],A<C&&d.tShift[I]<d.blkIndent));)if(d.src.charAt(A)===o&&!(d.tShift[I]-d.blkIndent>=4)&&(A=d.skipChars(A,D),!(A-N<T)&&(A=d.skipSpaces(A),!(A<C)))){k=!0;break}T=d.tShift[m],d.line=I+(k?1:0);const O=d.getLines(m+1,I,T,!0).replace(/[ \n]+/g," ").trim();return d.tokens.push({type:"katex",params:null,content:O,lines:[m,d.line],level:d.level,block:!0}),!0},h=(d,m)=>{const y=d.pos,k=d.posMax;let A=y;if(d.src.charAt(A)!==o)return!1;for(++A;A<k&&d.src.charAt(A)===o;)++A;const C=d.src.slice(y,A);if(C.length>2)return!1;const D=A;let N=0;for(;A<k;){const T=d.src.charAt(A);if(T==="{"&&(A==0||d.src.charAt(A-1)!=r))N+=1;else if(T==="}"&&(A==0||d.src.charAt(A-1)!=r)){if(N-=1,N<0)return!1}else if(T===o&&N===0){const I=A;let O=A+1;for(;O<k&&d.src.charAt(O)===o;)++O;if(O-I===C.length){if(!m){const H=d.src.slice(D,I).replace(/[ \n]+/g," ").trim();d.push({type:"katex",content:H,block:C.length>1,level:d.level})}return d.pos=O,!0}}A+=1}return m||(d.pending+=C),d.pos+=C.length,!0};e.inline.ruler.push("katex",h,t),e.block.ruler.push("katex",u,t),e.renderer.rules.katex=(d,m)=>s(d[m].content,d[m].block),e.renderer.rules.katex.delimiter=o};var kA=wA,V1={exports:{}};(function(e){var t=typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var r=function(n){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,a={},s={manual:n.Prism&&n.Prism.manual,disableWorkerMessageHandler:n.Prism&&n.Prism.disableWorkerMessageHandler,util:{encode:function T(I){return I instanceof u?new u(I.type,T(I.content),I.alias):Array.isArray(I)?I.map(T):I.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(T){return Object.prototype.toString.call(T).slice(8,-1)},objId:function(T){return T.__id||Object.defineProperty(T,"__id",{value:++o}),T.__id},clone:function T(I,O){O=O||{};var H,L;switch(s.util.type(I)){case"Object":if(L=s.util.objId(I),O[L])return O[L];H={},O[L]=H;for(var G in I)I.hasOwnProperty(G)&&(H[G]=T(I[G],O));return H;case"Array":return L=s.util.objId(I),O[L]?O[L]:(H=[],O[L]=H,I.forEach(function(Z,K){H[K]=T(Z,O)}),H);default:return I}},getLanguage:function(T){for(;T;){var I=i.exec(T.className);if(I)return I[1].toLowerCase();T=T.parentElement}return"none"},setLanguage:function(T,I){T.className=T.className.replace(RegExp(i,"gi"),""),T.classList.add("language-"+I)},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(H){var T=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(H.stack)||[])[1];if(T){var I=document.getElementsByTagName("script");for(var O in I)if(I[O].src==T)return I[O]}return null}},isActive:function(T,I,O){for(var H="no-"+I;T;){var L=T.classList;if(L.contains(I))return!0;if(L.contains(H))return!1;T=T.parentElement}return!!O}},languages:{plain:a,plaintext:a,text:a,txt:a,extend:function(T,I){var O=s.util.clone(s.languages[T]);for(var H in I)O[H]=I[H];return O},insertBefore:function(T,I,O,H){H=H||s.languages;var L=H[T],G={};for(var Z in L)if(L.hasOwnProperty(Z)){if(Z==I)for(var K in O)O.hasOwnProperty(K)&&(G[K]=O[K]);O.hasOwnProperty(Z)||(G[Z]=L[Z])}var oe=H[T];return H[T]=G,s.languages.DFS(s.languages,function(he,me){me===oe&&he!=T&&(this[he]=G)}),G},DFS:function T(I,O,H,L){L=L||{};var G=s.util.objId;for(var Z in I)if(I.hasOwnProperty(Z)){O.call(I,Z,I[Z],H||Z);var K=I[Z],oe=s.util.type(K);oe==="Object"&&!L[G(K)]?(L[G(K)]=!0,T(K,O,null,L)):oe==="Array"&&!L[G(K)]&&(L[G(K)]=!0,T(K,O,Z,L))}}},plugins:{},highlightAll:function(T,I){s.highlightAllUnder(document,T,I)},highlightAllUnder:function(T,I,O){var H={callback:O,container:T,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};s.hooks.run("before-highlightall",H),H.elements=Array.prototype.slice.apply(H.container.querySelectorAll(H.selector)),s.hooks.run("before-all-elements-highlight",H);for(var L=0,G;G=H.elements[L++];)s.highlightElement(G,I===!0,H.callback)},highlightElement:function(T,I,O){var H=s.util.getLanguage(T),L=s.languages[H];s.util.setLanguage(T,H);var G=T.parentElement;G&&G.nodeName.toLowerCase()==="pre"&&s.util.setLanguage(G,H);var Z=T.textContent,K={element:T,language:H,grammar:L,code:Z};function oe(me){K.highlightedCode=me,s.hooks.run("before-insert",K),K.element.innerHTML=K.highlightedCode,s.hooks.run("after-highlight",K),s.hooks.run("complete",K),O&&O.call(K.element)}if(s.hooks.run("before-sanity-check",K),G=K.element.parentElement,G&&G.nodeName.toLowerCase()==="pre"&&!G.hasAttribute("tabindex")&&G.setAttribute("tabindex","0"),!K.code){s.hooks.run("complete",K),O&&O.call(K.element);return}if(s.hooks.run("before-highlight",K),!K.grammar){oe(s.util.encode(K.code));return}if(I&&n.Worker){var he=new Worker(s.filename);he.onmessage=function(me){oe(me.data)},he.postMessage(JSON.stringify({language:K.language,code:K.code,immediateClose:!0}))}else oe(s.highlight(K.code,K.grammar,K.language))},highlight:function(T,I,O){var H={code:T,grammar:I,language:O};if(s.hooks.run("before-tokenize",H),!H.grammar)throw new Error('The language "'+H.language+'" has no grammar.');return H.tokens=s.tokenize(H.code,H.grammar),s.hooks.run("after-tokenize",H),u.stringify(s.util.encode(H.tokens),H.language)},tokenize:function(T,I){var O=I.rest;if(O){for(var H in O)I[H]=O[H];delete I.rest}var L=new m;return y(L,L.head,T),d(T,L,I,L.head,0),A(L)},hooks:{all:{},add:function(T,I){var O=s.hooks.all;O[T]=O[T]||[],O[T].push(I)},run:function(T,I){var O=s.hooks.all[T];if(!(!O||!O.length))for(var H=0,L;L=O[H++];)L(I)}},Token:u};n.Prism=s;function u(T,I,O,H){this.type=T,this.content=I,this.alias=O,this.length=(H||"").length|0}u.stringify=function T(I,O){if(typeof I=="string")return I;if(Array.isArray(I)){var H="";return I.forEach(function(oe){H+=T(oe,O)}),H}var L={type:I.type,content:T(I.content,O),tag:"span",classes:["token",I.type],attributes:{},language:O},G=I.alias;G&&(Array.isArray(G)?Array.prototype.push.apply(L.classes,G):L.classes.push(G)),s.hooks.run("wrap",L);var Z="";for(var K in L.attributes)Z+=" "+K+'="'+(L.attributes[K]||"").replace(/"/g,"&quot;")+'"';return"<"+L.tag+' class="'+L.classes.join(" ")+'"'+Z+">"+L.content+"</"+L.tag+">"};function h(T,I,O,H){T.lastIndex=I;var L=T.exec(O);if(L&&H&&L[1]){var G=L[1].length;L.index+=G,L[0]=L[0].slice(G)}return L}function d(T,I,O,H,L,G){for(var Z in O)if(!(!O.hasOwnProperty(Z)||!O[Z])){var K=O[Z];K=Array.isArray(K)?K:[K];for(var oe=0;oe<K.length;++oe){if(G&&G.cause==Z+","+oe)return;var he=K[oe],me=he.inside,ge=!!he.lookbehind,B=!!he.greedy,U=he.alias;if(B&&!he.pattern.global){var W=he.pattern.toString().match(/[imsuy]*$/)[0];he.pattern=RegExp(he.pattern.source,W+"g")}for(var ce=he.pattern||he,ae=H.next,xe=L;ae!==I.tail&&!(G&&xe>=G.reach);xe+=ae.value.length,ae=ae.next){var Se=ae.value;if(I.length>T.length)return;if(!(Se instanceof u)){var ie=1,Te;if(B){if(Te=h(ce,xe,T,ge),!Te||Te.index>=T.length)break;var Ve=Te.index,ot=Te.index+Te[0].length,Ne=xe;for(Ne+=ae.value.length;Ve>=Ne;)ae=ae.next,Ne+=ae.value.length;if(Ne-=ae.value.length,xe=Ne,ae.value instanceof u)continue;for(var He=ae;He!==I.tail&&(Ne<ot||typeof He.value=="string");He=He.next)ie++,Ne+=He.value.length;ie--,Se=T.slice(xe,Ne),Te.index-=xe}else if(Te=h(ce,0,Se,ge),!Te)continue;var Ve=Te.index,Ze=Te[0],Qe=Se.slice(0,Ve),Rt=Se.slice(Ve+Ze.length),$t=xe+Se.length;G&&$t>G.reach&&(G.reach=$t);var tr=ae.prev;Qe&&(tr=y(I,tr,Qe),xe+=Qe.length),k(I,tr,ie);var wn=new u(Z,me?s.tokenize(Ze,me):Ze,U,Ze);if(ae=y(I,tr,wn),Rt&&y(I,ae,Rt),ie>1){var Mr={cause:Z+","+oe,reach:$t};d(T,I,O,ae.prev,xe,Mr),G&&Mr.reach>G.reach&&(G.reach=Mr.reach)}}}}}}function m(){var T={value:null,prev:null,next:null},I={value:null,prev:T,next:null};T.next=I,this.head=T,this.tail=I,this.length=0}function y(T,I,O){var H=I.next,L={value:O,prev:I,next:H};return I.next=L,H.prev=L,T.length++,L}function k(T,I,O){for(var H=I.next,L=0;L<O&&H!==T.tail;L++)H=H.next;I.next=H,H.prev=I,T.length-=L}function A(T){for(var I=[],O=T.head.next;O!==T.tail;)I.push(O.value),O=O.next;return I}if(!n.document)return n.addEventListener&&(s.disableWorkerMessageHandler||n.addEventListener("message",function(T){var I=JSON.parse(T.data),O=I.language,H=I.code,L=I.immediateClose;n.postMessage(s.highlight(H,s.languages[O],O)),L&&n.close()},!1)),s;var C=s.util.currentScript();C&&(s.filename=C.src,C.hasAttribute("data-manual")&&(s.manual=!0));function D(){s.manual||s.highlightAll()}if(!s.manual){var N=document.readyState;N==="loading"||N==="interactive"&&C&&C.defer?document.addEventListener("DOMContentLoaded",D):window.requestAnimationFrame?window.requestAnimationFrame(D):window.setTimeout(D,16)}return s}(t);e.exports&&(e.exports=r),typeof ic!="undefined"&&(ic.Prism=r),r.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},r.languages.markup.tag.inside["attr-value"].inside.entity=r.languages.markup.entity,r.languages.markup.doctype.inside["internal-subset"].inside=r.languages.markup,r.hooks.add("wrap",function(n){n.type==="entity"&&(n.attributes.title=n.content.replace(/&amp;/,"&"))}),Object.defineProperty(r.languages.markup.tag,"addInlined",{value:function(i,o){var a={};a["language-"+o]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:r.languages[o]},a.cdata=/^<!\[CDATA\[|\]\]>$/i;var s={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:a}};s["language-"+o]={pattern:/[\s\S]+/,inside:r.languages[o]};var u={};u[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:s},r.languages.insertBefore("markup","cdata",u)}}),Object.defineProperty(r.languages.markup.tag,"addAttribute",{value:function(n,i){r.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[i,"language-"+i],inside:r.languages[i]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),r.languages.html=r.languages.markup,r.languages.mathml=r.languages.markup,r.languages.svg=r.languages.markup,r.languages.xml=r.languages.extend("markup",{}),r.languages.ssml=r.languages.xml,r.languages.atom=r.languages.xml,r.languages.rss=r.languages.xml,function(n){var i=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;n.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+i.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+i.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+i.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:i,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css;var o=n.languages.markup;o&&(o.tag.addInlined("style","css"),o.tag.addAttribute("style","css"))}(r),r.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},r.languages.javascript=r.languages.extend("clike",{"class-name":[r.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),r.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,r.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:r.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:r.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:r.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:r.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:r.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),r.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:r.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),r.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),r.languages.markup&&(r.languages.markup.tag.addInlined("script","javascript"),r.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),r.languages.js=r.languages.javascript,function(){if(typeof r=="undefined"||typeof document=="undefined")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var n="Loading\u2026",i=function(C,D){return"\u2716 Error "+C+" while fetching file: "+D},o="\u2716 Error: File does not exist or is empty",a={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},s="data-src-status",u="loading",h="loaded",d="failed",m="pre[data-src]:not(["+s+'="'+h+'"]):not(['+s+'="'+u+'"])';function y(C,D,N){var T=new XMLHttpRequest;T.open("GET",C,!0),T.onreadystatechange=function(){T.readyState==4&&(T.status<400&&T.responseText?D(T.responseText):T.status>=400?N(i(T.status,T.statusText)):N(o))},T.send(null)}function k(C){var D=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(C||"");if(D){var N=Number(D[1]),T=D[2],I=D[3];return T?I?[N,Number(I)]:[N,void 0]:[N,N]}}r.hooks.add("before-highlightall",function(C){C.selector+=", "+m}),r.hooks.add("before-sanity-check",function(C){var D=C.element;if(D.matches(m)){C.code="",D.setAttribute(s,u);var N=D.appendChild(document.createElement("CODE"));N.textContent=n;var T=D.getAttribute("data-src"),I=C.language;if(I==="none"){var O=(/\.(\w+)$/.exec(T)||[,"none"])[1];I=a[O]||O}r.util.setLanguage(N,I),r.util.setLanguage(D,I);var H=r.plugins.autoloader;H&&H.loadLanguages(I),y(T,function(L){D.setAttribute(s,h);var G=k(D.getAttribute("data-range"));if(G){var Z=L.split(/\r\n?|\n/g),K=G[0],oe=G[1]==null?Z.length:G[1];K<0&&(K+=Z.length),K=Math.max(0,Math.min(K-1,Z.length)),oe<0&&(oe+=Z.length),oe=Math.max(0,Math.min(oe,Z.length)),L=Z.slice(K,oe).join(`
`),D.hasAttribute("data-start")||D.setAttribute("data-start",String(K+1))}N.textContent=L,r.highlightElement(N)},function(L){D.setAttribute(s,d),N.textContent=L})}}),r.plugins.fileHighlight={highlight:function(D){for(var N=(D||document).querySelectorAll(m),T=0,I;I=N[T++];)r.highlightElement(I)}};var A=!1;r.fileHighlight=function(){A||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),A=!0),r.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(V1);var oc=V1.exports,$1={exports:{}};(function(e){var t={core:{meta:{path:"components/prism-core.js",option:"mandatory"},core:"Core"},themes:{meta:{path:"themes/{id}.css",link:"index.html?theme={id}",exclusive:!0},prism:{title:"Default",option:"default"},"prism-dark":"Dark","prism-funky":"Funky","prism-okaidia":{title:"Okaidia",owner:"ocodia"},"prism-twilight":{title:"Twilight",owner:"remybach"},"prism-coy":{title:"Coy",owner:"tshedor"},"prism-solarizedlight":{title:"Solarized Light",owner:"hectormatos2011 "},"prism-tomorrow":{title:"Tomorrow Night",owner:"Rosey"}},languages:{meta:{path:"components/prism-{id}",noCSS:!0,examplesPath:"examples/prism-{id}",addCheckAll:!0},markup:{title:"Markup",alias:["html","xml","svg","mathml","ssml","atom","rss"],aliasTitles:{html:"HTML",xml:"XML",svg:"SVG",mathml:"MathML",ssml:"SSML",atom:"Atom",rss:"RSS"},option:"default"},css:{title:"CSS",option:"default",modify:"markup"},clike:{title:"C-like",option:"default"},javascript:{title:"JavaScript",require:"clike",modify:"markup",optional:"regex",alias:"js",option:"default"},abap:{title:"ABAP",owner:"dellagustin"},abnf:{title:"ABNF",owner:"RunDevelopment"},actionscript:{title:"ActionScript",require:"javascript",modify:"markup",owner:"Golmote"},ada:{title:"Ada",owner:"Lucretia"},agda:{title:"Agda",owner:"xy-ren"},al:{title:"AL",owner:"RunDevelopment"},antlr4:{title:"ANTLR4",alias:"g4",owner:"RunDevelopment"},apacheconf:{title:"Apache Configuration",owner:"GuiTeK"},apex:{title:"Apex",require:["clike","sql"],owner:"RunDevelopment"},apl:{title:"APL",owner:"ngn"},applescript:{title:"AppleScript",owner:"Golmote"},aql:{title:"AQL",owner:"RunDevelopment"},arduino:{title:"Arduino",require:"cpp",alias:"ino",owner:"dkern"},arff:{title:"ARFF",owner:"Golmote"},asciidoc:{alias:"adoc",title:"AsciiDoc",owner:"Golmote"},aspnet:{title:"ASP.NET (C#)",require:["markup","csharp"],owner:"nauzilus"},asm6502:{title:"6502 Assembly",owner:"kzurawel"},asmatmel:{title:"Atmel AVR Assembly",owner:"cerkit"},autohotkey:{title:"AutoHotkey",owner:"aviaryan"},autoit:{title:"AutoIt",owner:"Golmote"},avisynth:{title:"AviSynth",alias:"avs",owner:"Zinfidel"},"avro-idl":{title:"Avro IDL",alias:"avdl",owner:"RunDevelopment"},bash:{title:"Bash",alias:"shell",aliasTitles:{shell:"Shell"},owner:"zeitgeist87"},basic:{title:"BASIC",owner:"Golmote"},batch:{title:"Batch",owner:"Golmote"},bbcode:{title:"BBcode",alias:"shortcode",aliasTitles:{shortcode:"Shortcode"},owner:"RunDevelopment"},bicep:{title:"Bicep",owner:"johnnyreilly"},birb:{title:"Birb",require:"clike",owner:"Calamity210"},bison:{title:"Bison",require:"c",owner:"Golmote"},bnf:{title:"BNF",alias:"rbnf",aliasTitles:{rbnf:"RBNF"},owner:"RunDevelopment"},brainfuck:{title:"Brainfuck",owner:"Golmote"},brightscript:{title:"BrightScript",owner:"RunDevelopment"},bro:{title:"Bro",owner:"wayward710"},bsl:{title:"BSL (1C:Enterprise)",alias:"oscript",aliasTitles:{oscript:"OneScript"},owner:"Diversus23"},c:{title:"C",require:"clike",owner:"zeitgeist87"},csharp:{title:"C#",require:"clike",alias:["cs","dotnet"],owner:"mvalipour"},cpp:{title:"C++",require:"c",owner:"zeitgeist87"},cfscript:{title:"CFScript",require:"clike",alias:"cfc",owner:"mjclemente"},chaiscript:{title:"ChaiScript",require:["clike","cpp"],owner:"RunDevelopment"},cil:{title:"CIL",owner:"sbrl"},clojure:{title:"Clojure",owner:"troglotit"},cmake:{title:"CMake",owner:"mjrogozinski"},cobol:{title:"COBOL",owner:"RunDevelopment"},coffeescript:{title:"CoffeeScript",require:"javascript",alias:"coffee",owner:"R-osey"},concurnas:{title:"Concurnas",alias:"conc",owner:"jasontatton"},csp:{title:"Content-Security-Policy",owner:"ScottHelme"},coq:{title:"Coq",owner:"RunDevelopment"},crystal:{title:"Crystal",require:"ruby",owner:"MakeNowJust"},"css-extras":{title:"CSS Extras",require:"css",modify:"css",owner:"milesj"},csv:{title:"CSV",owner:"RunDevelopment"},cypher:{title:"Cypher",owner:"RunDevelopment"},d:{title:"D",require:"clike",owner:"Golmote"},dart:{title:"Dart",require:"clike",owner:"Golmote"},dataweave:{title:"DataWeave",owner:"machaval"},dax:{title:"DAX",owner:"peterbud"},dhall:{title:"Dhall",owner:"RunDevelopment"},diff:{title:"Diff",owner:"uranusjr"},django:{title:"Django/Jinja2",require:"markup-templating",alias:"jinja2",owner:"romanvm"},"dns-zone-file":{title:"DNS zone file",owner:"RunDevelopment",alias:"dns-zone"},docker:{title:"Docker",alias:"dockerfile",owner:"JustinBeckwith"},dot:{title:"DOT (Graphviz)",alias:"gv",optional:"markup",owner:"RunDevelopment"},ebnf:{title:"EBNF",owner:"RunDevelopment"},editorconfig:{title:"EditorConfig",owner:"osipxd"},eiffel:{title:"Eiffel",owner:"Conaclos"},ejs:{title:"EJS",require:["javascript","markup-templating"],owner:"RunDevelopment",alias:"eta",aliasTitles:{eta:"Eta"}},elixir:{title:"Elixir",owner:"Golmote"},elm:{title:"Elm",owner:"zwilias"},etlua:{title:"Embedded Lua templating",require:["lua","markup-templating"],owner:"RunDevelopment"},erb:{title:"ERB",require:["ruby","markup-templating"],owner:"Golmote"},erlang:{title:"Erlang",owner:"Golmote"},"excel-formula":{title:"Excel Formula",alias:["xlsx","xls"],owner:"RunDevelopment"},fsharp:{title:"F#",require:"clike",owner:"simonreynolds7"},factor:{title:"Factor",owner:"catb0t"},false:{title:"False",owner:"edukisto"},"firestore-security-rules":{title:"Firestore security rules",require:"clike",owner:"RunDevelopment"},flow:{title:"Flow",require:"javascript",owner:"Golmote"},fortran:{title:"Fortran",owner:"Golmote"},ftl:{title:"FreeMarker Template Language",require:"markup-templating",owner:"RunDevelopment"},gml:{title:"GameMaker Language",alias:"gamemakerlanguage",require:"clike",owner:"LiarOnce"},gap:{title:"GAP (CAS)",owner:"RunDevelopment"},gcode:{title:"G-code",owner:"RunDevelopment"},gdscript:{title:"GDScript",owner:"RunDevelopment"},gedcom:{title:"GEDCOM",owner:"Golmote"},gherkin:{title:"Gherkin",owner:"hason"},git:{title:"Git",owner:"lgiraudel"},glsl:{title:"GLSL",require:"c",owner:"Golmote"},gn:{title:"GN",alias:"gni",owner:"RunDevelopment"},go:{title:"Go",require:"clike",owner:"arnehormann"},"go-module":{title:"Go module",alias:"go-mod",owner:"RunDevelopment"},graphql:{title:"GraphQL",optional:"markdown",owner:"Golmote"},groovy:{title:"Groovy",require:"clike",owner:"robfletcher"},haml:{title:"Haml",require:"ruby",optional:["css","css-extras","coffeescript","erb","javascript","less","markdown","scss","textile"],owner:"Golmote"},handlebars:{title:"Handlebars",require:"markup-templating",alias:"hbs",owner:"Golmote"},haskell:{title:"Haskell",alias:"hs",owner:"bholst"},haxe:{title:"Haxe",require:"clike",optional:"regex",owner:"Golmote"},hcl:{title:"HCL",owner:"outsideris"},hlsl:{title:"HLSL",require:"c",owner:"RunDevelopment"},hoon:{title:"Hoon",owner:"matildepark"},http:{title:"HTTP",optional:["csp","css","hpkp","hsts","javascript","json","markup","uri"],owner:"danielgtaylor"},hpkp:{title:"HTTP Public-Key-Pins",owner:"ScottHelme"},hsts:{title:"HTTP Strict-Transport-Security",owner:"ScottHelme"},ichigojam:{title:"IchigoJam",owner:"BlueCocoa"},icon:{title:"Icon",owner:"Golmote"},"icu-message-format":{title:"ICU Message Format",owner:"RunDevelopment"},idris:{title:"Idris",alias:"idr",owner:"KeenS",require:"haskell"},ignore:{title:".ignore",owner:"osipxd",alias:["gitignore","hgignore","npmignore"],aliasTitles:{gitignore:".gitignore",hgignore:".hgignore",npmignore:".npmignore"}},inform7:{title:"Inform 7",owner:"Golmote"},ini:{title:"Ini",owner:"aviaryan"},io:{title:"Io",owner:"AlesTsurko"},j:{title:"J",owner:"Golmote"},java:{title:"Java",require:"clike",owner:"sherblot"},javadoc:{title:"JavaDoc",require:["markup","java","javadoclike"],modify:"java",optional:"scala",owner:"RunDevelopment"},javadoclike:{title:"JavaDoc-like",modify:["java","javascript","php"],owner:"RunDevelopment"},javastacktrace:{title:"Java stack trace",owner:"RunDevelopment"},jexl:{title:"Jexl",owner:"czosel"},jolie:{title:"Jolie",require:"clike",owner:"thesave"},jq:{title:"JQ",owner:"RunDevelopment"},jsdoc:{title:"JSDoc",require:["javascript","javadoclike","typescript"],modify:"javascript",optional:["actionscript","coffeescript"],owner:"RunDevelopment"},"js-extras":{title:"JS Extras",require:"javascript",modify:"javascript",optional:["actionscript","coffeescript","flow","n4js","typescript"],owner:"RunDevelopment"},json:{title:"JSON",alias:"webmanifest",aliasTitles:{webmanifest:"Web App Manifest"},owner:"CupOfTea696"},json5:{title:"JSON5",require:"json",owner:"RunDevelopment"},jsonp:{title:"JSONP",require:"json",owner:"RunDevelopment"},jsstacktrace:{title:"JS stack trace",owner:"sbrl"},"js-templates":{title:"JS Templates",require:"javascript",modify:"javascript",optional:["css","css-extras","graphql","markdown","markup","sql"],owner:"RunDevelopment"},julia:{title:"Julia",owner:"cdagnino"},keepalived:{title:"Keepalived Configure",owner:"dev-itsheng"},keyman:{title:"Keyman",owner:"mcdurdin"},kotlin:{title:"Kotlin",alias:["kt","kts"],aliasTitles:{kts:"Kotlin Script"},require:"clike",owner:"Golmote"},kumir:{title:"KuMir (\u041A\u0443\u041C\u0438\u0440)",alias:"kum",owner:"edukisto"},kusto:{title:"Kusto",owner:"RunDevelopment"},latex:{title:"LaTeX",alias:["tex","context"],aliasTitles:{tex:"TeX",context:"ConTeXt"},owner:"japborst"},latte:{title:"Latte",require:["clike","markup-templating","php"],owner:"nette"},less:{title:"Less",require:"css",optional:"css-extras",owner:"Golmote"},lilypond:{title:"LilyPond",require:"scheme",alias:"ly",owner:"RunDevelopment"},liquid:{title:"Liquid",require:"markup-templating",owner:"cinhtau"},lisp:{title:"Lisp",alias:["emacs","elisp","emacs-lisp"],owner:"JuanCaicedo"},livescript:{title:"LiveScript",owner:"Golmote"},llvm:{title:"LLVM IR",owner:"porglezomp"},log:{title:"Log file",optional:"javastacktrace",owner:"RunDevelopment"},lolcode:{title:"LOLCODE",owner:"Golmote"},lua:{title:"Lua",owner:"Golmote"},magma:{title:"Magma (CAS)",owner:"RunDevelopment"},makefile:{title:"Makefile",owner:"Golmote"},markdown:{title:"Markdown",require:"markup",optional:"yaml",alias:"md",owner:"Golmote"},"markup-templating":{title:"Markup templating",require:"markup",owner:"Golmote"},matlab:{title:"MATLAB",owner:"Golmote"},maxscript:{title:"MAXScript",owner:"RunDevelopment"},mel:{title:"MEL",owner:"Golmote"},mermaid:{title:"Mermaid",owner:"RunDevelopment"},mizar:{title:"Mizar",owner:"Golmote"},mongodb:{title:"MongoDB",owner:"airs0urce",require:"javascript"},monkey:{title:"Monkey",owner:"Golmote"},moonscript:{title:"MoonScript",alias:"moon",owner:"RunDevelopment"},n1ql:{title:"N1QL",owner:"TMWilds"},n4js:{title:"N4JS",require:"javascript",optional:"jsdoc",alias:"n4jsd",owner:"bsmith-n4"},"nand2tetris-hdl":{title:"Nand To Tetris HDL",owner:"stephanmax"},naniscript:{title:"Naninovel Script",owner:"Elringus",alias:"nani"},nasm:{title:"NASM",owner:"rbmj"},neon:{title:"NEON",owner:"nette"},nevod:{title:"Nevod",owner:"nezaboodka"},nginx:{title:"nginx",owner:"volado"},nim:{title:"Nim",owner:"Golmote"},nix:{title:"Nix",owner:"Golmote"},nsis:{title:"NSIS",owner:"idleberg"},objectivec:{title:"Objective-C",require:"c",alias:"objc",owner:"uranusjr"},ocaml:{title:"OCaml",owner:"Golmote"},opencl:{title:"OpenCL",require:"c",modify:["c","cpp"],owner:"Milania1"},openqasm:{title:"OpenQasm",alias:"qasm",owner:"RunDevelopment"},oz:{title:"Oz",owner:"Golmote"},parigp:{title:"PARI/GP",owner:"Golmote"},parser:{title:"Parser",require:"markup",owner:"Golmote"},pascal:{title:"Pascal",alias:"objectpascal",aliasTitles:{objectpascal:"Object Pascal"},owner:"Golmote"},pascaligo:{title:"Pascaligo",owner:"DefinitelyNotAGoat"},psl:{title:"PATROL Scripting Language",owner:"bertysentry"},pcaxis:{title:"PC-Axis",alias:"px",owner:"RunDevelopment"},peoplecode:{title:"PeopleCode",alias:"pcode",owner:"RunDevelopment"},perl:{title:"Perl",owner:"Golmote"},php:{title:"PHP",require:"markup-templating",owner:"milesj"},phpdoc:{title:"PHPDoc",require:["php","javadoclike"],modify:"php",owner:"RunDevelopment"},"php-extras":{title:"PHP Extras",require:"php",modify:"php",owner:"milesj"},plsql:{title:"PL/SQL",require:"sql",owner:"Golmote"},powerquery:{title:"PowerQuery",alias:["pq","mscript"],owner:"peterbud"},powershell:{title:"PowerShell",owner:"nauzilus"},processing:{title:"Processing",require:"clike",owner:"Golmote"},prolog:{title:"Prolog",owner:"Golmote"},promql:{title:"PromQL",owner:"arendjr"},properties:{title:".properties",owner:"Golmote"},protobuf:{title:"Protocol Buffers",require:"clike",owner:"just-boris"},pug:{title:"Pug",require:["markup","javascript"],optional:["coffeescript","ejs","handlebars","less","livescript","markdown","scss","stylus","twig"],owner:"Golmote"},puppet:{title:"Puppet",owner:"Golmote"},pure:{title:"Pure",optional:["c","cpp","fortran"],owner:"Golmote"},purebasic:{title:"PureBasic",require:"clike",alias:"pbfasm",owner:"HeX0R101"},purescript:{title:"PureScript",require:"haskell",alias:"purs",owner:"sriharshachilakapati"},python:{title:"Python",alias:"py",owner:"multipetros"},qsharp:{title:"Q#",require:"clike",alias:"qs",owner:"fedonman"},q:{title:"Q (kdb+ database)",owner:"Golmote"},qml:{title:"QML",require:"javascript",owner:"RunDevelopment"},qore:{title:"Qore",require:"clike",owner:"temnroegg"},r:{title:"R",owner:"Golmote"},racket:{title:"Racket",require:"scheme",alias:"rkt",owner:"RunDevelopment"},cshtml:{title:"Razor C#",alias:"razor",require:["markup","csharp"],optional:["css","css-extras","javascript","js-extras"],owner:"RunDevelopment"},jsx:{title:"React JSX",require:["markup","javascript"],optional:["jsdoc","js-extras","js-templates"],owner:"vkbansal"},tsx:{title:"React TSX",require:["jsx","typescript"]},reason:{title:"Reason",require:"clike",owner:"Golmote"},regex:{title:"Regex",owner:"RunDevelopment"},rego:{title:"Rego",owner:"JordanSh"},renpy:{title:"Ren'py",alias:"rpy",owner:"HyuchiaDiego"},rest:{title:"reST (reStructuredText)",owner:"Golmote"},rip:{title:"Rip",owner:"ravinggenius"},roboconf:{title:"Roboconf",owner:"Golmote"},robotframework:{title:"Robot Framework",alias:"robot",owner:"RunDevelopment"},ruby:{title:"Ruby",require:"clike",alias:"rb",owner:"samflores"},rust:{title:"Rust",owner:"Golmote"},sas:{title:"SAS",optional:["groovy","lua","sql"],owner:"Golmote"},sass:{title:"Sass (Sass)",require:"css",optional:"css-extras",owner:"Golmote"},scss:{title:"Sass (Scss)",require:"css",optional:"css-extras",owner:"MoOx"},scala:{title:"Scala",require:"java",owner:"jozic"},scheme:{title:"Scheme",owner:"bacchus123"},"shell-session":{title:"Shell session",require:"bash",alias:["sh-session","shellsession"],owner:"RunDevelopment"},smali:{title:"Smali",owner:"RunDevelopment"},smalltalk:{title:"Smalltalk",owner:"Golmote"},smarty:{title:"Smarty",require:"markup-templating",optional:"php",owner:"Golmote"},sml:{title:"SML",alias:"smlnj",aliasTitles:{smlnj:"SML/NJ"},owner:"RunDevelopment"},solidity:{title:"Solidity (Ethereum)",alias:"sol",require:"clike",owner:"glachaud"},"solution-file":{title:"Solution file",alias:"sln",owner:"RunDevelopment"},soy:{title:"Soy (Closure Template)",require:"markup-templating",owner:"Golmote"},sparql:{title:"SPARQL",require:"turtle",owner:"Triply-Dev",alias:"rq"},"splunk-spl":{title:"Splunk SPL",owner:"RunDevelopment"},sqf:{title:"SQF: Status Quo Function (Arma 3)",require:"clike",owner:"RunDevelopment"},sql:{title:"SQL",owner:"multipetros"},squirrel:{title:"Squirrel",require:"clike",owner:"RunDevelopment"},stan:{title:"Stan",owner:"RunDevelopment"},iecst:{title:"Structured Text (IEC 61131-3)",owner:"serhioromano"},stylus:{title:"Stylus",owner:"vkbansal"},swift:{title:"Swift",owner:"chrischares"},systemd:{title:"Systemd configuration file",owner:"RunDevelopment"},"t4-templating":{title:"T4 templating",owner:"RunDevelopment"},"t4-cs":{title:"T4 Text Templates (C#)",require:["t4-templating","csharp"],alias:"t4",owner:"RunDevelopment"},"t4-vb":{title:"T4 Text Templates (VB)",require:["t4-templating","vbnet"],owner:"RunDevelopment"},tap:{title:"TAP",owner:"isaacs",require:"yaml"},tcl:{title:"Tcl",owner:"PeterChaplin"},tt2:{title:"Template Toolkit 2",require:["clike","markup-templating"],owner:"gflohr"},textile:{title:"Textile",require:"markup",optional:"css",owner:"Golmote"},toml:{title:"TOML",owner:"RunDevelopment"},tremor:{title:"Tremor",alias:["trickle","troy"],owner:"darach",aliasTitles:{trickle:"trickle",troy:"troy"}},turtle:{title:"Turtle",alias:"trig",aliasTitles:{trig:"TriG"},owner:"jakubklimek"},twig:{title:"Twig",require:"markup-templating",owner:"brandonkelly"},typescript:{title:"TypeScript",require:"javascript",optional:"js-templates",alias:"ts",owner:"vkbansal"},typoscript:{title:"TypoScript",alias:"tsconfig",aliasTitles:{tsconfig:"TSConfig"},owner:"dkern"},unrealscript:{title:"UnrealScript",alias:["uscript","uc"],owner:"RunDevelopment"},uorazor:{title:"UO Razor Script",owner:"jaseowns"},uri:{title:"URI",alias:"url",aliasTitles:{url:"URL"},owner:"RunDevelopment"},v:{title:"V",require:"clike",owner:"taggon"},vala:{title:"Vala",require:"clike",optional:"regex",owner:"TemplarVolk"},vbnet:{title:"VB.Net",require:"basic",owner:"Bigsby"},velocity:{title:"Velocity",require:"markup",owner:"Golmote"},verilog:{title:"Verilog",owner:"a-rey"},vhdl:{title:"VHDL",owner:"a-rey"},vim:{title:"vim",owner:"westonganger"},"visual-basic":{title:"Visual Basic",alias:["vb","vba"],aliasTitles:{vba:"VBA"},owner:"Golmote"},warpscript:{title:"WarpScript",owner:"RunDevelopment"},wasm:{title:"WebAssembly",owner:"Golmote"},"web-idl":{title:"Web IDL",alias:"webidl",owner:"RunDevelopment"},wiki:{title:"Wiki markup",require:"markup",owner:"Golmote"},wolfram:{title:"Wolfram language",alias:["mathematica","nb","wl"],aliasTitles:{mathematica:"Mathematica",nb:"Mathematica Notebook"},owner:"msollami"},wren:{title:"Wren",owner:"clsource"},xeora:{title:"Xeora",require:"markup",alias:"xeoracube",aliasTitles:{xeoracube:"XeoraCube"},owner:"freakmaxi"},"xml-doc":{title:"XML doc (.net)",require:"markup",modify:["csharp","fsharp","vbnet"],owner:"RunDevelopment"},xojo:{title:"Xojo (REALbasic)",owner:"Golmote"},xquery:{title:"XQuery",require:"markup",owner:"Golmote"},yaml:{title:"YAML",alias:"yml",owner:"hason"},yang:{title:"YANG",owner:"RunDevelopment"},zig:{title:"Zig",owner:"RunDevelopment"}},plugins:{meta:{path:"plugins/{id}/prism-{id}",link:"plugins/{id}/"},"line-highlight":{title:"Line Highlight",description:"Highlights specific lines and/or line ranges."},"line-numbers":{title:"Line Numbers",description:"Line number at the beginning of code lines.",owner:"kuba-kubula"},"show-invisibles":{title:"Show Invisibles",description:"Show hidden characters such as tabs and line breaks.",optional:["autolinker","data-uri-highlight"]},autolinker:{title:"Autolinker",description:"Converts URLs and emails in code to clickable links. Parses Markdown links in comments."},wpd:{title:"WebPlatform Docs",description:'Makes tokens link to <a href="https://webplatform.github.io/docs/">WebPlatform.org documentation</a>. The links open in a new tab.'},"custom-class":{title:"Custom Class",description:"This plugin allows you to prefix Prism's default classes (<code>.comment</code> can become <code>.namespace--comment</code>) or replace them with your defined ones (like <code>.editor__comment</code>). You can even add new classes.",owner:"dvkndn",noCSS:!0},"file-highlight":{title:"File Highlight",description:"Fetch external files and highlight them with Prism. Used on the Prism website itself.",noCSS:!0},"show-language":{title:"Show Language",description:"Display the highlighted language in code blocks (inline code does not show the label).",owner:"nauzilus",noCSS:!0,require:"toolbar"},"jsonp-highlight":{title:"JSONP Highlight",description:"Fetch content with JSONP and highlight some interesting content (e.g. GitHub/Gists or Bitbucket API).",noCSS:!0,owner:"nauzilus"},"highlight-keywords":{title:"Highlight Keywords",description:"Adds special CSS classes for each keyword for fine-grained highlighting.",owner:"vkbansal",noCSS:!0},"remove-initial-line-feed":{title:"Remove initial line feed",description:"Removes the initial line feed in code blocks.",owner:"Golmote",noCSS:!0},"inline-color":{title:"Inline color",description:"Adds a small inline preview for colors in style sheets.",require:"css-extras",owner:"RunDevelopment"},previewers:{title:"Previewers",description:"Previewers for angles, colors, gradients, easing and time.",require:"css-extras",owner:"Golmote"},autoloader:{title:"Autoloader",description:"Automatically loads the needed languages to highlight the code blocks.",owner:"Golmote",noCSS:!0},"keep-markup":{title:"Keep Markup",description:"Prevents custom markup from being dropped out during highlighting.",owner:"Golmote",optional:"normalize-whitespace",noCSS:!0},"command-line":{title:"Command Line",description:"Display a command line with a prompt and, optionally, the output/response from the commands.",owner:"chriswells0"},"unescaped-markup":{title:"Unescaped Markup",description:"Write markup without having to escape anything."},"normalize-whitespace":{title:"Normalize Whitespace",description:"Supports multiple operations to normalize whitespace in code blocks.",owner:"zeitgeist87",optional:"unescaped-markup",noCSS:!0},"data-uri-highlight":{title:"Data-URI Highlight",description:"Highlights data-URI contents.",owner:"Golmote",noCSS:!0},toolbar:{title:"Toolbar",description:"Attach a toolbar for plugins to easily register buttons on the top of a code block.",owner:"mAAdhaTTah"},"copy-to-clipboard":{title:"Copy to Clipboard Button",description:"Add a button that copies the code block to the clipboard when clicked.",owner:"mAAdhaTTah",require:"toolbar",noCSS:!0},"download-button":{title:"Download Button",description:"A button in the toolbar of a code block adding a convenient way to download a code file.",owner:"Golmote",require:"toolbar",noCSS:!0},"match-braces":{title:"Match braces",description:"Highlights matching braces.",owner:"RunDevelopment"},"diff-highlight":{title:"Diff Highlight",description:"Highlights the code inside diff blocks.",owner:"RunDevelopment",require:"diff"},"filter-highlight-all":{title:"Filter highlightAll",description:"Filters the elements the <code>highlightAll</code> and <code>highlightAllUnder</code> methods actually highlight.",owner:"RunDevelopment",noCSS:!0},treeview:{title:"Treeview",description:"A language with special styles to highlight file system tree structures.",owner:"Golmote"}}};e.exports&&(e.exports=t)})($1);var G1={exports:{}};(function(e){var t=function(){var r=function(){};function n(m,y){Array.isArray(m)?m.forEach(y):m!=null&&y(m,0)}function i(m){for(var y={},k=0,A=m.length;k<A;k++)y[m[k]]=!0;return y}function o(m){var y={};for(var k in m){var A=m[k];for(var C in A)if(C!="meta"){var D=A[C];y[C]=typeof D=="string"?{title:D}:D}}return y}function a(m){var y={},k=[];function A(C,D){if(!(C in y)){D.push(C);var N=D.indexOf(C);if(N<D.length-1)throw new Error("Circular dependency: "+D.slice(N).join(" -> "));var T={},I=m[C];if(I){let H=function(L){if(!(L in m))throw new Error(C+" depends on an unknown component "+L);if(!(L in T)){A(L,D),T[L]=!0;for(var G in y[L])T[G]=!0}};var O=H;n(I.require,H),n(I.optional,H),n(I.modify,H)}y[C]=T,D.pop()}}return function(C){var D=y[C];return D||(A(C,k),D=y[C]),D}}function s(m){var y;return function(k){if(k in m)return k;if(!y){y={};for(var A in m){var C=m[A];n(C&&C.alias,function(D){if(D in y)throw new Error(D+" cannot be alias for both "+A+" and "+y[D]);if(D in m)throw new Error(D+" cannot be alias of "+A+" because it is a component.");y[D]=A})}}return y[k]||k}}function u(m,y,k,A){var C=A?A.series:void 0,D=A?A.parallel:r,N={},T={};function I(G){if(G in N)return N[G];T[G]=!0;var Z=[];for(var K in m(G))K in y&&Z.push(K);var oe;if(Z.length===0)oe=k(G);else{var he=D(Z.map(function(me){var ge=I(me);return delete T[me],ge}));C?oe=C(he,function(){return k(G)}):k(G)}return N[G]=oe}for(var O in y)I(O);var H=[];for(var L in T)H.push(N[L]);return D(H)}function h(m){for(var y in m)return!0;return!1}function d(m,y,k){var A=o(m),C=s(A);y=y.map(C),k=(k||[]).map(C);var D=i(y),N=i(k);y.forEach(T);function T(me){var ge=A[me];n(ge&&ge.require,function(B){B in N||(D[B]=!0,T(B))})}for(var I=a(A),O=D,H;h(O);){H={};for(var L in O){var G=A[L];n(G&&G.modify,function(me){me in N&&(H[me]=!0)})}for(var Z in N)if(!(Z in D)){for(var K in I(Z))if(K in D){H[Z]=!0;break}}O=H;for(var oe in O)D[oe]=!0}var he={getIds:function(){var me=[];return he.load(function(ge){me.push(ge)}),me},load:function(me,ge){return u(I,D,me,ge)}};return he}return d}();e.exports=t})(G1);const ac=$1.exports,SA=G1.exports,W1=new Set;function sc(e){e===void 0?e=Object.keys(ac.languages).filter(r=>r!="meta"):Array.isArray(e)||(e=[e]);const t=[...W1,...Object.keys(Prism.languages)];SA(ac,e,t).load(r=>{if(!(r in ac.languages)){sc.silent||console.warn("Language does not exist: "+r);return}const n="./prism-"+r;delete require.cache[require.resolve(n)],delete Prism.languages[r],xA(n),W1.add(r)})}sc.silent=!1;var AA=sc;/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function U1(e){return typeof e=="undefined"||e===null}function MA(e){return typeof e=="object"&&e!==null}function CA(e){return Array.isArray(e)?e:U1(e)?[]:[e]}function TA(e,t){var r,n,i,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)i=o[r],e[i]=t[i];return e}function EA(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function OA(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var _A=U1,NA=MA,DA=CA,zA=EA,BA=OA,RA=TA,mt={isNothing:_A,isObject:NA,toArray:DA,repeat:zA,isNegativeZero:BA,extend:RA};function K1(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function aa(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=K1(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}aa.prototype=Object.create(Error.prototype);aa.prototype.constructor=aa;aa.prototype.toString=function(t){return this.name+": "+K1(this,t)};var Vt=aa;function lc(e,t,r,n,i){var o="",a="",s=Math.floor(i/2)-1;return n-t>s&&(o=" ... ",t=n-s+o.length),r-n>s&&(a=" ...",r=n+s-a.length),{str:o+e.slice(t,r).replace(/\t/g,"\u2192")+a,pos:n-t+o.length}}function uc(e,t){return mt.repeat(" ",t-e.length)+e}function IA(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],o,a=-1;o=r.exec(e.buffer);)i.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var s="",u,h,d=Math.min(e.line+t.linesAfter,i.length).toString().length,m=t.maxLength-(t.indent+d+3);for(u=1;u<=t.linesBefore&&!(a-u<0);u++)h=lc(e.buffer,n[a-u],i[a-u],e.position-(n[a]-n[a-u]),m),s=mt.repeat(" ",t.indent)+uc((e.line-u+1).toString(),d)+" | "+h.str+`
`+s;for(h=lc(e.buffer,n[a],i[a],e.position,m),s+=mt.repeat(" ",t.indent)+uc((e.line+1).toString(),d)+" | "+h.str+`
`,s+=mt.repeat("-",t.indent+d+3+h.pos)+`^
`,u=1;u<=t.linesAfter&&!(a+u>=i.length);u++)h=lc(e.buffer,n[a+u],i[a+u],e.position-(n[a]-n[a+u]),m),s+=mt.repeat(" ",t.indent)+uc((e.line+u+1).toString(),d)+" | "+h.str+`
`;return s.replace(/\n$/,"")}var FA=IA,PA=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],LA=["scalar","sequence","mapping"];function qA(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function HA(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(PA.indexOf(r)===-1)throw new Vt('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=qA(t.styleAliases||null),LA.indexOf(this.kind)===-1)throw new Vt('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var Mt=HA;function J1(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(o,a){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=a)}),r[i]=n}),r}function jA(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function cc(e){return this.extend(e)}cc.prototype.extend=function(t){var r=[],n=[];if(t instanceof Mt)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Vt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof Mt))throw new Vt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Vt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Vt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof Mt))throw new Vt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(cc.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=J1(i,"implicit"),i.compiledExplicit=J1(i,"explicit"),i.compiledTypeMap=jA(i.compiledImplicit,i.compiledExplicit),i};var X1=cc,Y1=new Mt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Z1=new Mt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Q1=new Mt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),ev=new X1({explicit:[Y1,Z1,Q1]});function VA(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function $A(){return null}function GA(e){return e===null}var tv=new Mt("tag:yaml.org,2002:null",{kind:"scalar",resolve:VA,construct:$A,predicate:GA,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function WA(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function UA(e){return e==="true"||e==="True"||e==="TRUE"}function KA(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var rv=new Mt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:WA,construct:UA,predicate:KA,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function JA(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function XA(e){return 48<=e&&e<=55}function YA(e){return 48<=e&&e<=57}function ZA(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!JA(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!XA(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!YA(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function QA(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function eM(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!mt.isNegativeZero(e)}var nv=new Mt("tag:yaml.org,2002:int",{kind:"scalar",resolve:ZA,construct:QA,predicate:eM,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),tM=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function rM(e){return!(e===null||!tM.test(e)||e[e.length-1]==="_")}function nM(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var iM=/^[-+]?[0-9]+e/;function oM(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(mt.isNegativeZero(e))return"-0.0";return r=e.toString(10),iM.test(r)?r.replace("e",".e"):r}function aM(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||mt.isNegativeZero(e))}var iv=new Mt("tag:yaml.org,2002:float",{kind:"scalar",resolve:rM,construct:nM,predicate:aM,represent:oM,defaultStyle:"lowercase"}),ov=ev.extend({implicit:[tv,rv,nv,iv]}),av=ov,sv=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),lv=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function sM(e){return e===null?!1:sv.exec(e)!==null||lv.exec(e)!==null}function lM(e){var t,r,n,i,o,a,s,u=0,h=null,d,m,y;if(t=sv.exec(e),t===null&&(t=lv.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(o=+t[4],a=+t[5],s=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(d=+t[10],m=+(t[11]||0),h=(d*60+m)*6e4,t[9]==="-"&&(h=-h)),y=new Date(Date.UTC(r,n,i,o,a,s,u)),h&&y.setTime(y.getTime()-h),y}function uM(e){return e.toISOString()}var uv=new Mt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:sM,construct:lM,instanceOf:Date,represent:uM});function cM(e){return e==="<<"||e===null}var cv=new Mt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:cM}),fc=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function fM(e){if(e===null)return!1;var t,r,n=0,i=e.length,o=fc;for(r=0;r<i;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function hM(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,o=fc,a=0,s=[];for(t=0;t<i;t++)t%4===0&&t&&(s.push(a>>16&255),s.push(a>>8&255),s.push(a&255)),a=a<<6|o.indexOf(n.charAt(t));return r=i%4*6,r===0?(s.push(a>>16&255),s.push(a>>8&255),s.push(a&255)):r===18?(s.push(a>>10&255),s.push(a>>2&255)):r===12&&s.push(a>>4&255),new Uint8Array(s)}function pM(e){var t="",r=0,n,i,o=e.length,a=fc;for(n=0;n<o;n++)n%3===0&&n&&(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]),r=(r<<8)+e[n];return i=o%3,i===0?(t+=a[r>>18&63],t+=a[r>>12&63],t+=a[r>>6&63],t+=a[r&63]):i===2?(t+=a[r>>10&63],t+=a[r>>4&63],t+=a[r<<2&63],t+=a[64]):i===1&&(t+=a[r>>2&63],t+=a[r<<4&63],t+=a[64],t+=a[64]),t}function dM(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var fv=new Mt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:fM,construct:hM,predicate:dM,represent:pM}),mM=Object.prototype.hasOwnProperty,vM=Object.prototype.toString;function gM(e){if(e===null)return!0;var t=[],r,n,i,o,a,s=e;for(r=0,n=s.length;r<n;r+=1){if(i=s[r],a=!1,vM.call(i)!=="[object Object]")return!1;for(o in i)if(mM.call(i,o))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function yM(e){return e!==null?e:[]}var hv=new Mt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:gM,construct:yM}),bM=Object.prototype.toString;function xM(e){if(e===null)return!0;var t,r,n,i,o,a=e;for(o=new Array(a.length),t=0,r=a.length;t<r;t+=1){if(n=a[t],bM.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[t]=[i[0],n[i[0]]]}return!0}function wM(e){if(e===null)return[];var t,r,n,i,o,a=e;for(o=new Array(a.length),t=0,r=a.length;t<r;t+=1)n=a[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}var pv=new Mt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:xM,construct:wM}),kM=Object.prototype.hasOwnProperty;function SM(e){if(e===null)return!0;var t,r=e;for(t in r)if(kM.call(r,t)&&r[t]!==null)return!1;return!0}function AM(e){return e!==null?e:{}}var dv=new Mt("tag:yaml.org,2002:set",{kind:"mapping",resolve:SM,construct:AM}),hc=av.extend({implicit:[uv,cv],explicit:[fv,hv,pv,dv]}),Gn=Object.prototype.hasOwnProperty,Ks=1,mv=2,vv=3,Js=4,pc=1,MM=2,gv=3,CM=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,TM=/[\x85\u2028\u2029]/,EM=/[,\[\]\{\}]/,yv=/^(?:!|!!|![a-z\-]+!)$/i,bv=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function xv(e){return Object.prototype.toString.call(e)}function en(e){return e===10||e===13}function bi(e){return e===9||e===32}function er(e){return e===9||e===32||e===10||e===13}function oo(e){return e===44||e===91||e===93||e===123||e===125}function OM(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function _M(e){return e===120?2:e===117?4:e===85?8:0}function NM(e){return 48<=e&&e<=57?e-48:-1}function wv(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function DM(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var kv=new Array(256),Sv=new Array(256);for(var ao=0;ao<256;ao++)kv[ao]=wv(ao)?1:0,Sv[ao]=wv(ao);function zM(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||hc,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Av(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=FA(r),new Vt(t,r)}function ke(e,t){throw Av(e,t)}function Xs(e,t){e.onWarning&&e.onWarning.call(null,Av(e,t))}var Mv={YAML:function(t,r,n){var i,o,a;t.version!==null&&ke(t,"duplication of %YAML directive"),n.length!==1&&ke(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&ke(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),a=parseInt(i[2],10),o!==1&&ke(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&Xs(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,o;n.length!==2&&ke(t,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],yv.test(i)||ke(t,"ill-formed tag handle (first argument) of the TAG directive"),Gn.call(t.tagMap,i)&&ke(t,'there is a previously declared suffix for "'+i+'" tag handle'),bv.test(o)||ke(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{ke(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o}};function Wn(e,t,r,n){var i,o,a,s;if(t<r){if(s=e.input.slice(t,r),n)for(i=0,o=s.length;i<o;i+=1)a=s.charCodeAt(i),a===9||32<=a&&a<=1114111||ke(e,"expected valid JSON character");else CM.test(s)&&ke(e,"the stream contains non-printable characters");e.result+=s}}function Cv(e,t,r,n){var i,o,a,s;for(mt.isObject(r)||ke(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),a=0,s=i.length;a<s;a+=1)o=i[a],Gn.call(t,o)||(t[o]=r[o],n[o]=!0)}function so(e,t,r,n,i,o,a,s,u){var h,d;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),h=0,d=i.length;h<d;h+=1)Array.isArray(i[h])&&ke(e,"nested arrays are not supported inside keys"),typeof i=="object"&&xv(i[h])==="[object Object]"&&(i[h]="[object Object]");if(typeof i=="object"&&xv(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(h=0,d=o.length;h<d;h+=1)Cv(e,t,o[h],r);else Cv(e,t,o,r);else!e.json&&!Gn.call(r,i)&&Gn.call(t,i)&&(e.line=a||e.line,e.lineStart=s||e.lineStart,e.position=u||e.position,ke(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete r[i];return t}function dc(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):ke(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function dt(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;bi(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(en(i))for(dc(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Xs(e,"deficient indentation"),n}function Ys(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||er(r)))}function mc(e,t){t===1?e.result+=" ":t>1&&(e.result+=mt.repeat(`
`,t-1))}function BM(e,t,r){var n,i,o,a,s,u,h,d,m=e.kind,y=e.result,k;if(k=e.input.charCodeAt(e.position),er(k)||oo(k)||k===35||k===38||k===42||k===33||k===124||k===62||k===39||k===34||k===37||k===64||k===96||(k===63||k===45)&&(i=e.input.charCodeAt(e.position+1),er(i)||r&&oo(i)))return!1;for(e.kind="scalar",e.result="",o=a=e.position,s=!1;k!==0;){if(k===58){if(i=e.input.charCodeAt(e.position+1),er(i)||r&&oo(i))break}else if(k===35){if(n=e.input.charCodeAt(e.position-1),er(n))break}else{if(e.position===e.lineStart&&Ys(e)||r&&oo(k))break;if(en(k))if(u=e.line,h=e.lineStart,d=e.lineIndent,dt(e,!1,-1),e.lineIndent>=t){s=!0,k=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=u,e.lineStart=h,e.lineIndent=d;break}}s&&(Wn(e,o,a,!1),mc(e,e.line-u),o=a=e.position,s=!1),bi(k)||(a=e.position+1),k=e.input.charCodeAt(++e.position)}return Wn(e,o,a,!1),e.result?!0:(e.kind=m,e.result=y,!1)}function RM(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Wn(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else en(r)?(Wn(e,n,i,!0),mc(e,dt(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Ys(e)?ke(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);ke(e,"unexpected end of the stream within a single quoted scalar")}function IM(e,t){var r,n,i,o,a,s;if(s=e.input.charCodeAt(e.position),s!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(s=e.input.charCodeAt(e.position))!==0;){if(s===34)return Wn(e,r,e.position,!0),e.position++,!0;if(s===92){if(Wn(e,r,e.position,!0),s=e.input.charCodeAt(++e.position),en(s))dt(e,!1,t);else if(s<256&&kv[s])e.result+=Sv[s],e.position++;else if((a=_M(s))>0){for(i=a,o=0;i>0;i--)s=e.input.charCodeAt(++e.position),(a=OM(s))>=0?o=(o<<4)+a:ke(e,"expected hexadecimal character");e.result+=DM(o),e.position++}else ke(e,"unknown escape sequence");r=n=e.position}else en(s)?(Wn(e,r,n,!0),mc(e,dt(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Ys(e)?ke(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}ke(e,"unexpected end of the stream within a double quoted scalar")}function FM(e,t){var r=!0,n,i,o,a=e.tag,s,u=e.anchor,h,d,m,y,k,A=Object.create(null),C,D,N,T;if(T=e.input.charCodeAt(e.position),T===91)d=93,k=!1,s=[];else if(T===123)d=125,k=!0,s={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),T=e.input.charCodeAt(++e.position);T!==0;){if(dt(e,!0,t),T=e.input.charCodeAt(e.position),T===d)return e.position++,e.tag=a,e.anchor=u,e.kind=k?"mapping":"sequence",e.result=s,!0;r?T===44&&ke(e,"expected the node content, but found ','"):ke(e,"missed comma between flow collection entries"),D=C=N=null,m=y=!1,T===63&&(h=e.input.charCodeAt(e.position+1),er(h)&&(m=y=!0,e.position++,dt(e,!0,t))),n=e.line,i=e.lineStart,o=e.position,lo(e,t,Ks,!1,!0),D=e.tag,C=e.result,dt(e,!0,t),T=e.input.charCodeAt(e.position),(y||e.line===n)&&T===58&&(m=!0,T=e.input.charCodeAt(++e.position),dt(e,!0,t),lo(e,t,Ks,!1,!0),N=e.result),k?so(e,s,A,D,C,N,n,i,o):m?s.push(so(e,null,A,D,C,N,n,i,o)):s.push(C),dt(e,!0,t),T=e.input.charCodeAt(e.position),T===44?(r=!0,T=e.input.charCodeAt(++e.position)):r=!1}ke(e,"unexpected end of the stream within a flow collection")}function PM(e,t){var r,n,i=pc,o=!1,a=!1,s=t,u=0,h=!1,d,m;if(m=e.input.charCodeAt(e.position),m===124)n=!1;else if(m===62)n=!0;else return!1;for(e.kind="scalar",e.result="";m!==0;)if(m=e.input.charCodeAt(++e.position),m===43||m===45)pc===i?i=m===43?gv:MM:ke(e,"repeat of a chomping mode identifier");else if((d=NM(m))>=0)d===0?ke(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?ke(e,"repeat of an indentation width identifier"):(s=t+d-1,a=!0);else break;if(bi(m)){do m=e.input.charCodeAt(++e.position);while(bi(m));if(m===35)do m=e.input.charCodeAt(++e.position);while(!en(m)&&m!==0)}for(;m!==0;){for(dc(e),e.lineIndent=0,m=e.input.charCodeAt(e.position);(!a||e.lineIndent<s)&&m===32;)e.lineIndent++,m=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>s&&(s=e.lineIndent),en(m)){u++;continue}if(e.lineIndent<s){i===gv?e.result+=mt.repeat(`
`,o?1+u:u):i===pc&&o&&(e.result+=`
`);break}for(n?bi(m)?(h=!0,e.result+=mt.repeat(`
`,o?1+u:u)):h?(h=!1,e.result+=mt.repeat(`
`,u+1)):u===0?o&&(e.result+=" "):e.result+=mt.repeat(`
`,u):e.result+=mt.repeat(`
`,o?1+u:u),o=!0,a=!0,u=0,r=e.position;!en(m)&&m!==0;)m=e.input.charCodeAt(++e.position);Wn(e,r,e.position,!1)}return!0}function Tv(e,t){var r,n=e.tag,i=e.anchor,o=[],a,s=!1,u;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),u=e.input.charCodeAt(e.position);u!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ke(e,"tab characters must not be used in indentation")),!(u!==45||(a=e.input.charCodeAt(e.position+1),!er(a))));){if(s=!0,e.position++,dt(e,!0,-1)&&e.lineIndent<=t){o.push(null),u=e.input.charCodeAt(e.position);continue}if(r=e.line,lo(e,t,vv,!1,!0),o.push(e.result),dt(e,!0,-1),u=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&u!==0)ke(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return s?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}function LM(e,t,r){var n,i,o,a,s,u,h=e.tag,d=e.anchor,m={},y=Object.create(null),k=null,A=null,C=null,D=!1,N=!1,T;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=m),T=e.input.charCodeAt(e.position);T!==0;){if(!D&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,ke(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(T===63||T===58)&&er(n))T===63?(D&&(so(e,m,y,k,A,null,a,s,u),k=A=C=null),N=!0,D=!0,i=!0):D?(D=!1,i=!0):ke(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,T=n;else{if(a=e.line,s=e.lineStart,u=e.position,!lo(e,r,mv,!1,!0))break;if(e.line===o){for(T=e.input.charCodeAt(e.position);bi(T);)T=e.input.charCodeAt(++e.position);if(T===58)T=e.input.charCodeAt(++e.position),er(T)||ke(e,"a whitespace character is expected after the key-value separator within a block mapping"),D&&(so(e,m,y,k,A,null,a,s,u),k=A=C=null),N=!0,D=!1,i=!1,k=e.tag,A=e.result;else if(N)ke(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=h,e.anchor=d,!0}else if(N)ke(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=h,e.anchor=d,!0}if((e.line===o||e.lineIndent>t)&&(D&&(a=e.line,s=e.lineStart,u=e.position),lo(e,t,Js,!0,i)&&(D?A=e.result:C=e.result),D||(so(e,m,y,k,A,C,a,s,u),k=A=C=null),dt(e,!0,-1),T=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&T!==0)ke(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return D&&so(e,m,y,k,A,null,a,s,u),N&&(e.tag=h,e.anchor=d,e.kind="mapping",e.result=m),N}function qM(e){var t,r=!1,n=!1,i,o,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&ke(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(r=!0,a=e.input.charCodeAt(++e.position)):a===33?(n=!0,i="!!",a=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(o=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):ke(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!er(a);)a===33&&(n?ke(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),yv.test(i)||ke(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),EM.test(o)&&ke(e,"tag suffix cannot contain flow indicator characters")}o&&!bv.test(o)&&ke(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{ke(e,"tag name is malformed: "+o)}return r?e.tag=o:Gn.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:ke(e,'undeclared tag handle "'+i+'"'),!0}function HM(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&ke(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!er(r)&&!oo(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&ke(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function jM(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!er(n)&&!oo(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&ke(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Gn.call(e.anchorMap,r)||ke(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],dt(e,!0,-1),!0}function lo(e,t,r,n,i){var o,a,s,u=1,h=!1,d=!1,m,y,k,A,C,D;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=a=s=Js===r||vv===r,n&&dt(e,!0,-1)&&(h=!0,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)),u===1)for(;qM(e)||HM(e);)dt(e,!0,-1)?(h=!0,s=o,e.lineIndent>t?u=1:e.lineIndent===t?u=0:e.lineIndent<t&&(u=-1)):s=!1;if(s&&(s=h||i),(u===1||Js===r)&&(Ks===r||mv===r?C=t:C=t+1,D=e.position-e.lineStart,u===1?s&&(Tv(e,D)||LM(e,D,C))||FM(e,C)?d=!0:(a&&PM(e,C)||RM(e,C)||IM(e,C)?d=!0:jM(e)?(d=!0,(e.tag!==null||e.anchor!==null)&&ke(e,"alias node should not have any properties")):BM(e,C,Ks===r)&&(d=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):u===0&&(d=s&&Tv(e,D))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&ke(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),m=0,y=e.implicitTypes.length;m<y;m+=1)if(A=e.implicitTypes[m],A.resolve(e.result)){e.result=A.construct(e.result),e.tag=A.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Gn.call(e.typeMap[e.kind||"fallback"],e.tag))A=e.typeMap[e.kind||"fallback"][e.tag];else for(A=null,k=e.typeMap.multi[e.kind||"fallback"],m=0,y=k.length;m<y;m+=1)if(e.tag.slice(0,k[m].tag.length)===k[m].tag){A=k[m];break}A||ke(e,"unknown tag !<"+e.tag+">"),e.result!==null&&A.kind!==e.kind&&ke(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+A.kind+'", not "'+e.kind+'"'),A.resolve(e.result,e.tag)?(e.result=A.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):ke(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||d}function VM(e){var t=e.position,r,n,i,o=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(dt(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(o=!0,a=e.input.charCodeAt(++e.position),r=e.position;a!==0&&!er(a);)a=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&ke(e,"directive name must not be less than one character in length");a!==0;){for(;bi(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!en(a));break}if(en(a))break;for(r=e.position;a!==0&&!er(a);)a=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}a!==0&&dc(e),Gn.call(Mv,n)?Mv[n](e,n,i):Xs(e,'unknown document directive "'+n+'"')}if(dt(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,dt(e,!0,-1)):o&&ke(e,"directives end mark is expected"),lo(e,e.lineIndent-1,Js,!1,!0),dt(e,!0,-1),e.checkLineBreaks&&TM.test(e.input.slice(t,e.position))&&Xs(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Ys(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,dt(e,!0,-1));return}if(e.position<e.length-1)ke(e,"end of the stream or a document separator is expected");else return}function Ev(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new zM(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,ke(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)VM(r);return r.documents}function $M(e,t,r){t!==null&&typeof t=="object"&&typeof r=="undefined"&&(r=t,t=null);var n=Ev(e,r);if(typeof t!="function")return n;for(var i=0,o=n.length;i<o;i+=1)t(n[i])}function GM(e,t){var r=Ev(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Vt("expected a single document in the stream, but found more")}}var WM=$M,UM=GM,Ov={loadAll:WM,load:UM},_v=Object.prototype.toString,Nv=Object.prototype.hasOwnProperty,vc=65279,KM=9,sa=10,JM=13,XM=32,YM=33,ZM=34,gc=35,QM=37,eC=38,tC=39,rC=42,Dv=44,nC=45,Zs=58,iC=61,oC=62,aC=63,sC=64,zv=91,Bv=93,lC=96,Rv=123,uC=124,Iv=125,Bt={};Bt[0]="\\0";Bt[7]="\\a";Bt[8]="\\b";Bt[9]="\\t";Bt[10]="\\n";Bt[11]="\\v";Bt[12]="\\f";Bt[13]="\\r";Bt[27]="\\e";Bt[34]='\\"';Bt[92]="\\\\";Bt[133]="\\N";Bt[160]="\\_";Bt[8232]="\\L";Bt[8233]="\\P";var cC=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],fC=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function hC(e,t){var r,n,i,o,a,s,u;if(t===null)return{};for(r={},n=Object.keys(t),i=0,o=n.length;i<o;i+=1)a=n[i],s=String(t[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),u=e.compiledTypeMap.fallback[a],u&&Nv.call(u.styleAliases,s)&&(s=u.styleAliases[s]),r[a]=s;return r}function pC(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new Vt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+mt.repeat("0",n-t.length)+t}var dC=1,la=2;function mC(e){this.schema=e.schema||hc,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=mt.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=hC(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?la:dC,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Fv(e,t){for(var r=mt.repeat(" ",t),n=0,i=-1,o="",a,s=e.length;n<s;)i=e.indexOf(`
`,n),i===-1?(a=e.slice(n),n=s):(a=e.slice(n,i+1),n=i+1),a.length&&a!==`
`&&(o+=r),o+=a;return o}function yc(e,t){return`
`+mt.repeat(" ",e.indent*t)}function vC(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Qs(e){return e===XM||e===KM}function ua(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==vc||65536<=e&&e<=1114111}function Pv(e){return ua(e)&&e!==vc&&e!==JM&&e!==sa}function Lv(e,t,r){var n=Pv(e),i=n&&!Qs(e);return(r?n:n&&e!==Dv&&e!==zv&&e!==Bv&&e!==Rv&&e!==Iv)&&e!==gc&&!(t===Zs&&!i)||Pv(t)&&!Qs(t)&&e===gc||t===Zs&&i}function gC(e){return ua(e)&&e!==vc&&!Qs(e)&&e!==nC&&e!==aC&&e!==Zs&&e!==Dv&&e!==zv&&e!==Bv&&e!==Rv&&e!==Iv&&e!==gc&&e!==eC&&e!==rC&&e!==YM&&e!==uC&&e!==iC&&e!==oC&&e!==tC&&e!==ZM&&e!==QM&&e!==sC&&e!==lC}function yC(e){return!Qs(e)&&e!==Zs}function ca(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function qv(e){var t=/^\n* /;return t.test(e)}var Hv=1,bc=2,jv=3,Vv=4,uo=5;function bC(e,t,r,n,i,o,a,s){var u,h=0,d=null,m=!1,y=!1,k=n!==-1,A=-1,C=gC(ca(e,0))&&yC(ca(e,e.length-1));if(t||a)for(u=0;u<e.length;h>=65536?u+=2:u++){if(h=ca(e,u),!ua(h))return uo;C=C&&Lv(h,d,s),d=h}else{for(u=0;u<e.length;h>=65536?u+=2:u++){if(h=ca(e,u),h===sa)m=!0,k&&(y=y||u-A-1>n&&e[A+1]!==" ",A=u);else if(!ua(h))return uo;C=C&&Lv(h,d,s),d=h}y=y||k&&u-A-1>n&&e[A+1]!==" "}return!m&&!y?C&&!a&&!i(e)?Hv:o===la?uo:bc:r>9&&qv(e)?uo:a?o===la?uo:bc:y?Vv:jv}function xC(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===la?'""':"''";if(!e.noCompatMode&&(cC.indexOf(t)!==-1||fC.test(t)))return e.quotingType===la?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,r),a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),s=n||e.flowLevel>-1&&r>=e.flowLevel;function u(h){return vC(e,h)}switch(bC(t,s,e.indent,a,u,e.quotingType,e.forceQuotes&&!n,i)){case Hv:return t;case bc:return"'"+t.replace(/'/g,"''")+"'";case jv:return"|"+$v(t,e.indent)+Gv(Fv(t,o));case Vv:return">"+$v(t,e.indent)+Gv(Fv(wC(t,a),o));case uo:return'"'+kC(t)+'"';default:throw new Vt("impossible error: invalid scalar style")}}()}function $v(e,t){var r=qv(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),o=i?"+":n?"":"-";return r+o+`
`}function Gv(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function wC(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var h=e.indexOf(`
`);return h=h!==-1?h:e.length,r.lastIndex=h,Wv(e.slice(0,h),t)}(),i=e[0]===`
`||e[0]===" ",o,a;a=r.exec(e);){var s=a[1],u=a[2];o=u[0]===" ",n+=s+(!i&&!o&&u!==""?`
`:"")+Wv(u,t),i=o}return n}function Wv(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,o,a=0,s=0,u="";n=r.exec(e);)s=n.index,s-i>t&&(o=a>i?a:s,u+=`
`+e.slice(i,o),i=o+1),a=s;return u+=`
`,e.length-i>t&&a>i?u+=e.slice(i,a)+`
`+e.slice(a+1):u+=e.slice(i),u.slice(1)}function kC(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=ca(e,i),n=Bt[r],!n&&ua(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||pC(r);return t}function SC(e,t,r){var n="",i=e.tag,o,a,s;for(o=0,a=r.length;o<a;o+=1)s=r[o],e.replacer&&(s=e.replacer.call(r,String(o),s)),(xn(e,t,s,!1,!1)||typeof s=="undefined"&&xn(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function Uv(e,t,r,n){var i="",o=e.tag,a,s,u;for(a=0,s=r.length;a<s;a+=1)u=r[a],e.replacer&&(u=e.replacer.call(r,String(a),u)),(xn(e,t+1,u,!0,!0,!1,!0)||typeof u=="undefined"&&xn(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=yc(e,t)),e.dump&&sa===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}function AC(e,t,r){var n="",i=e.tag,o=Object.keys(r),a,s,u,h,d;for(a=0,s=o.length;a<s;a+=1)d="",n!==""&&(d+=", "),e.condenseFlow&&(d+='"'),u=o[a],h=r[u],e.replacer&&(h=e.replacer.call(r,u,h)),!!xn(e,t,u,!1,!1)&&(e.dump.length>1024&&(d+="? "),d+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),!!xn(e,t,h,!1,!1)&&(d+=e.dump,n+=d));e.tag=i,e.dump="{"+n+"}"}function MC(e,t,r,n){var i="",o=e.tag,a=Object.keys(r),s,u,h,d,m,y;if(e.sortKeys===!0)a.sort();else if(typeof e.sortKeys=="function")a.sort(e.sortKeys);else if(e.sortKeys)throw new Vt("sortKeys must be a boolean or a function");for(s=0,u=a.length;s<u;s+=1)y="",(!n||i!=="")&&(y+=yc(e,t)),h=a[s],d=r[h],e.replacer&&(d=e.replacer.call(r,h,d)),!!xn(e,t+1,h,!0,!0,!0)&&(m=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,m&&(e.dump&&sa===e.dump.charCodeAt(0)?y+="?":y+="? "),y+=e.dump,m&&(y+=yc(e,t)),!!xn(e,t+1,d,!0,m)&&(e.dump&&sa===e.dump.charCodeAt(0)?y+=":":y+=": ",y+=e.dump,i+=y));e.tag=o,e.dump=i||"{}"}function Kv(e,t,r){var n,i,o,a,s,u;for(i=r?e.explicitTypes:e.implicitTypes,o=0,a=i.length;o<a;o+=1)if(s=i[o],(s.instanceOf||s.predicate)&&(!s.instanceOf||typeof t=="object"&&t instanceof s.instanceOf)&&(!s.predicate||s.predicate(t))){if(r?s.multi&&s.representName?e.tag=s.representName(t):e.tag=s.tag:e.tag="?",s.represent){if(u=e.styleMap[s.tag]||s.defaultStyle,_v.call(s.represent)==="[object Function]")n=s.represent(t,u);else if(Nv.call(s.represent,u))n=s.represent[u](t,u);else throw new Vt("!<"+s.tag+'> tag resolver accepts not "'+u+'" style');e.dump=n}return!0}return!1}function xn(e,t,r,n,i,o,a){e.tag=null,e.dump=r,Kv(e,r,!1)||Kv(e,r,!0);var s=_v.call(e.dump),u=n,h;n&&(n=e.flowLevel<0||e.flowLevel>t);var d=s==="[object Object]"||s==="[object Array]",m,y;if(d&&(m=e.duplicates.indexOf(r),y=m!==-1),(e.tag!==null&&e.tag!=="?"||y||e.indent!==2&&t>0)&&(i=!1),y&&e.usedDuplicates[m])e.dump="*ref_"+m;else{if(d&&y&&!e.usedDuplicates[m]&&(e.usedDuplicates[m]=!0),s==="[object Object]")n&&Object.keys(e.dump).length!==0?(MC(e,t,e.dump,i),y&&(e.dump="&ref_"+m+e.dump)):(AC(e,t,e.dump),y&&(e.dump="&ref_"+m+" "+e.dump));else if(s==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!a&&t>0?Uv(e,t-1,e.dump,i):Uv(e,t,e.dump,i),y&&(e.dump="&ref_"+m+e.dump)):(SC(e,t,e.dump),y&&(e.dump="&ref_"+m+" "+e.dump));else if(s==="[object String]")e.tag!=="?"&&xC(e,e.dump,t,o,u);else{if(s==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new Vt("unacceptable kind of an object to dump "+s)}e.tag!==null&&e.tag!=="?"&&(h=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?h="!"+h:h.slice(0,18)==="tag:yaml.org,2002:"?h="!!"+h.slice(18):h="!<"+h+">",e.dump=h+" "+e.dump)}return!0}function CC(e,t){var r=[],n=[],i,o;for(xc(e,r,n),i=0,o=n.length;i<o;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(o)}function xc(e,t,r){var n,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)xc(e[i],t,r);else for(n=Object.keys(e),i=0,o=n.length;i<o;i+=1)xc(e[n[i]],t,r)}function TC(e,t){t=t||{};var r=new mC(t);r.noRefs||CC(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),xn(r,0,n,!0,!0)?r.dump+`
`:""}var EC=TC,OC={dump:EC};function wc(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var _C=Mt,NC=X1,DC=ev,zC=ov,BC=av,RC=hc,IC=Ov.load,FC=Ov.loadAll,PC=OC.dump,LC=Vt,qC={binary:fv,float:iv,map:Q1,null:tv,pairs:pv,set:dv,timestamp:uv,bool:rv,int:nv,merge:cv,omap:hv,seq:Z1,str:Y1},HC=wc("safeLoad","load"),jC=wc("safeLoadAll","loadAll"),VC=wc("safeDump","dump"),$C={Type:_C,Schema:NC,FAILSAFE_SCHEMA:DC,JSON_SCHEMA:zC,CORE_SCHEMA:BC,DEFAULT_SCHEMA:RC,load:IC,loadAll:FC,dump:PC,YAMLException:LC,types:qC,safeLoad:HC,safeLoadAll:jC,safeDump:VC};/*! markmap-lib v0.12.0 | MIT License */const Jv="katex";function GC(e){let t=()=>{};return e.parser.tap(r=>{r.use(kA),r.renderer.rules.katex=Ku(r.renderer.rules.katex,{after:()=>{t()}})}),e.transform.tap((r,n)=>{t=()=>{n.features[Jv]=!0}}),{styles:[{type:"stylesheet",data:{href:"https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"}}],scripts:[{type:"iife",data:{fn:r=>{window.WebFontConfig={custom:{families:["KaTeX_AMS","KaTeX_Caligraphic:n4,n7","KaTeX_Fraktur:n4,n7","KaTeX_Main:n4,n7,i4,i7","KaTeX_Math:i4,i7","KaTeX_Script","KaTeX_SansSerif:n4,n7,i4","KaTeX_Size1","KaTeX_Size2","KaTeX_Size3","KaTeX_Size4","KaTeX_Typewriter"]},active:()=>{r().refreshHook.call()}}},getParams({getMarkmap:r}){return[r]}}},{type:"script",data:{src:"https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.js",defer:!0}}]}}var WC=Object.freeze({__proto__:null,name:Jv,transform:GC});const Xv="prism";function UC(e){let t=()=>{};return e.parser.tap(r=>{r.set({highlight:(n,i)=>{t();let o=oc.languages[i];return o||(AA([i]),o=oc.languages[i]),o?oc.highlight(n,o,i):""}})}),e.transform.tap((r,n)=>{t=()=>{n.features[Xv]=!0}}),{styles:[{type:"stylesheet",data:{href:"https://cdn.jsdelivr.net/npm/prismjs@1.25.0/themes/prism.css"}}]}}var KC=Object.freeze({__proto__:null,name:Xv,transform:UC});const JC="frontmatter";function XC(e){return e.transform.tap((t,r)=>{const n=t.parse;t.parse=Ku(n,{before(i){const[o]=i.args;if(!o.startsWith(`---
`))return;const a=o.indexOf(`
---
`);if(a<0)return;const s=o.slice(4,a);try{r.frontmatter=$C.load(s)}catch{return}const u=a+5;i.args[0]=o.slice(u)},after(){t.parse=n}})}),{}}var YC=Object.freeze({__proto__:null,name:JC,transform:XC});function ZC(){return{parser:new js,transform:new js,htmltag:new js,retransform:new js}}const QC=[WC,KC,YC];function Yv(e,t=0){if(e.t==="heading")e.c=e.c.filter(o=>o.t!=="paragraph");else if(e.t==="list_item"){var r;e.c=e.c.filter(o=>["paragraph","fence"].includes(o.t)?(e.v||(e.v=o.v,e.p=na({},e.p,o.p)),!1):!0),((r=e.p)==null?void 0:r.index)!=null&&(e.v=`${e.p.index}. ${e.v}`)}else if(e.t==="ordered_list"){var n,i;let o=(n=(i=e.p)==null?void 0:i.start)!=null?n:1;e.c.forEach(a=>{a.t==="list_item"&&(a.p=na({},a.p,{index:o}),o+=1)})}e.c.length===0?delete e.c:(e.c.forEach(o=>Yv(o,t+1)),e.c.length===1&&!e.c[0].v&&(e.c=e.c[0].c)),e.d=t}class eT{constructor(t=QC){this.plugins=t,this.hooks=ZC();const r={};for(const{name:i,transform:o}of t)r[i]=o(this.hooks);this.assetsMap=r;const n=new $n({html:!0,breaks:!0,maxNesting:1/0});n.block.ruler.enable(["deflist"]),n.renderer.rules.htmltag=Ku(n.renderer.rules.htmltag,{after:i=>{this.hooks.htmltag.call(i)}}),this.md=n,this.hooks.parser.call(n)}buildTree(t){const{md:r}=this,n={t:"root",d:0,v:"",c:[],p:{}},i=[n];let o=0;for(const u of t){let h=i[i.length-1];if(u.type.endsWith("_open")){const d=u.type.slice(0,-5),m={};if(u.lines&&(m.lines=u.lines),d==="heading")for(o=u.hLevel;((a=h)==null?void 0:a.d)>=o;){var a;i.pop(),h=i[i.length-1]}else{var s;o=Math.max(o,((s=h)==null?void 0:s.d)||0)+1,d==="ordered_list"&&(m.start=u.order)}const y={t:d,d:o,p:m,v:"",c:[]};h.c.push(y),i.push(y)}else if(h){if(u.type===`${h.t}_close`)h.t==="heading"?o=h.d:(i.pop(),o=0);else if(u.type==="inline"){const d=this.hooks.htmltag.tap(y=>{const k=y.result.match(/^<!--([\s\S]*?)-->$/);(k==null?void 0:k[1].trim())==="fold"&&(h.p.f=!0,y.result="")}),m=r.renderer.render([u],r.options,{});d(),h.v=`${h.v||""}${m}`}else if(u.type==="fence"){let d=r.renderer.render([u],r.options,{});const m=d.match(/<code( class="[^"]*")>/);m&&(d=d.replace("<pre>",`<pre${m[1]}>`)),h.c.push({t:u.type,d:o+1,v:d,c:[]})}}else continue}return n}transform(t){var r;const n={features:{}};this.hooks.transform.call(this.md,n);const i=this.md.parse(t,{});let o=this.buildTree(i);return Yv(o),((r=o.c)==null?void 0:r.length)===1&&(o=o.c[0]),na({},n,{root:o})}getAssets(t){var r;const n=[],i=[];(r=t)!=null||(t=Object.keys(this.assetsMap));for(const o of t.map(a=>this.assetsMap[a]))o&&(o.styles&&n.push(...o.styles),o.scripts&&i.push(...o.scripts));return{styles:n,scripts:i}}getUsedAssets(t){return this.getAssets(Object.keys(t).filter(r=>t[r]))}}const tT=new TurndownService,rT=new eT,{Markmap:nT,loadCSS:sT,loadJS:lT}=Pk,kc=document.querySelector("#filename");let Zv;window.mmap=()=>{Zv=tT.turndown(xi.getHTML()),document.querySelector("#mmap").innerHTML="",document.querySelector("#mmap").innerHTML='<svg id="markmap" style="width: 100vw; height: 500px"></svg>';const{root:e,features:t}=rT.transform(Zv);nT.create("#markmap",void 0,e)};const xi=new x6({element:document.querySelector("#editor"),extensions:[x7,Q8,Z8.configure({element:document.querySelector(".inlineToolbar")}),rb.configure({element:document.querySelector(".FloatMenu")})],content:"<p>Hello World!</p>"});window.editor=xi;function Qv(){console.log(xi.getJSON());let e=window.prompt("Filename:");e?eg(xi.getJSON(),e):Qv()}function iT(){var e=document.createElement("input");e.type="file",e.setAttribute("accept",".qdcs2"),e.onchange=t=>{var r=t.target.files[0],n=new FileReader;n.readAsText(r,"UTF-8"),n.onload=i=>{var o=JSON.parse(i.target.result);xi.commands.setContent(o)}},e.click()}function eg(e,t){var r="data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(e)),n=document.createElement("a");n.setAttribute("href",r),n.setAttribute("download",t+".qdcs2"),document.body.appendChild(n),n.click(),n.remove()}window.save=Qv;window.load=iT;window.save=()=>{kc.value&&eg(xi.getJSON(),kc.value),console.log(kc.value)};window.loadFile=()=>{var e=document.createElement("input");e.type="file",e.setAttribute("accept",".qdcs2"),e.onchange=t=>{var r=t.target.files[0],n=new FileReader;n.readAsText(r,"UTF-8"),n.onload=i=>{var o=JSON.parse(i.target.result);xi.commands.setContent(o)}},e.click()}});export default oT();
